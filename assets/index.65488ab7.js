import{e as j,r as Do,f as s0,g as Oe,h as Ft,i as Ze,j as f0,k as hf,l as u0,s as l0,m as df,n as pf,p as $o,q as c0,_ as Da,t as vf,v as gf}from"./index.f94e464e.js";import{j as h0,i as Ho,p as d0,e as p0,s as v0,t as g0}from"./tslib.es6.34270de4.js";var qr={},mr={},Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});function m0(e){return function(t){var r=e();return r.update(t),j.Buffer.from(r.digest())}}Fo.createHashFunction=m0;Object.defineProperty(mr,"__esModule",{value:!0});var zn=Fo,Wn=h0;mr.keccak224=zn.createHashFunction(function(){return Wn("keccak224")});mr.keccak256=zn.createHashFunction(function(){return Wn("keccak256")});mr.keccak384=zn.createHashFunction(function(){return Wn("keccak384")});mr.keccak512=zn.createHashFunction(function(){return Wn("keccak512")});var jo={};const Ve={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function gt(e,t){if(!e)throw new Error(t)}function Ke(e,t,r){if(gt(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){const n=r.join(", "),s=`Expected ${e} to be an Uint8Array with length [${n}]`;gt(r.includes(t.length),s)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;gt(t.length===r,n)}}function fr(e){gt(xr(e)==="Boolean","Expected compressed to be a Boolean")}function Lt(e=r=>new Uint8Array(r),t){return typeof e=="function"&&(e=e(t)),Ke("output",e,t),e}function xr(e){return Object.prototype.toString.call(e).slice(8,-1)}var y0=e=>({contextRandomize(t){switch(gt(t===null||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),t!==null&&Ke("seed",t,32),e.contextRandomize(t)){case 1:throw new Error(Ve.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(t){return Ke("private key",t,32),e.privateKeyVerify(t)===0},privateKeyNegate(t){switch(Ke("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(Ve.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(t,r){switch(Ke("private key",t,32),Ke("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(Ve.TWEAK_ADD)}},privateKeyTweakMul(t,r){switch(Ke("private key",t,32),Ke("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(Ve.TWEAK_MUL)}},publicKeyVerify(t){return Ke("public key",t,[33,65]),e.publicKeyVerify(t)===0},publicKeyCreate(t,r=!0,n){switch(Ke("private key",t,32),fr(r),n=Lt(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(Ve.SECKEY_INVALID);case 2:throw new Error(Ve.PUBKEY_SERIALIZE)}},publicKeyConvert(t,r=!0,n){switch(Ke("public key",t,[33,65]),fr(r),n=Lt(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(Ve.PUBKEY_PARSE);case 2:throw new Error(Ve.PUBKEY_SERIALIZE)}},publicKeyNegate(t,r=!0,n){switch(Ke("public key",t,[33,65]),fr(r),n=Lt(n,r?33:65),e.publicKeyNegate(n,t)){case 0:return n;case 1:throw new Error(Ve.PUBKEY_PARSE);case 2:throw new Error(Ve.IMPOSSIBLE_CASE);case 3:throw new Error(Ve.PUBKEY_SERIALIZE)}},publicKeyCombine(t,r=!0,n){gt(Array.isArray(t),"Expected public keys to be an Array"),gt(t.length>0,"Expected public keys array will have more than zero items");for(const s of t)Ke("public key",s,[33,65]);switch(fr(r),n=Lt(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(Ve.PUBKEY_PARSE);case 2:throw new Error(Ve.PUBKEY_COMBINE);case 3:throw new Error(Ve.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(t,r,n=!0,s){switch(Ke("public key",t,[33,65]),Ke("tweak",r,32),fr(n),s=Lt(s,n?33:65),e.publicKeyTweakAdd(s,t,r)){case 0:return s;case 1:throw new Error(Ve.PUBKEY_PARSE);case 2:throw new Error(Ve.TWEAK_ADD)}},publicKeyTweakMul(t,r,n=!0,s){switch(Ke("public key",t,[33,65]),Ke("tweak",r,32),fr(n),s=Lt(s,n?33:65),e.publicKeyTweakMul(s,t,r)){case 0:return s;case 1:throw new Error(Ve.PUBKEY_PARSE);case 2:throw new Error(Ve.TWEAK_MUL)}},signatureNormalize(t){switch(Ke("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(Ve.SIG_PARSE)}},signatureExport(t,r){Ke("signature",t,64),r=Lt(r,72);const n={output:r,outputlen:72};switch(e.signatureExport(n,t)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(Ve.SIG_PARSE);case 2:throw new Error(Ve.IMPOSSIBLE_CASE)}},signatureImport(t,r){switch(Ke("signature",t),r=Lt(r,64),e.signatureImport(r,t)){case 0:return r;case 1:throw new Error(Ve.SIG_PARSE);case 2:throw new Error(Ve.IMPOSSIBLE_CASE)}},ecdsaSign(t,r,n={},s){Ke("message",t,32),Ke("private key",r,32),gt(xr(n)==="Object","Expected options to be an Object"),n.data!==void 0&&Ke("options.data",n.data),n.noncefn!==void 0&&gt(xr(n.noncefn)==="Function","Expected options.noncefn to be a Function"),s=Lt(s,64);const o={signature:s,recid:null};switch(e.ecdsaSign(o,t,r,n.data,n.noncefn)){case 0:return o;case 1:throw new Error(Ve.SIGN);case 2:throw new Error(Ve.IMPOSSIBLE_CASE)}},ecdsaVerify(t,r,n){switch(Ke("signature",t,64),Ke("message",r,32),Ke("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(Ve.SIG_PARSE);case 2:throw new Error(Ve.PUBKEY_PARSE)}},ecdsaRecover(t,r,n,s=!0,o){switch(Ke("signature",t,64),gt(xr(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),Ke("message",n,32),fr(s),o=Lt(o,s?33:65),e.ecdsaRecover(o,t,r,n)){case 0:return o;case 1:throw new Error(Ve.SIG_PARSE);case 2:throw new Error(Ve.RECOVER);case 3:throw new Error(Ve.IMPOSSIBLE_CASE)}},ecdh(t,r,n={},s){switch(Ke("public key",t,[33,65]),Ke("private key",r,32),gt(xr(n)==="Object","Expected options to be an Object"),n.data!==void 0&&Ke("options.data",n.data),n.hashfn!==void 0?(gt(xr(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&Ke("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&Ke("options.ybuf",n.ybuf,32),Ke("output",s)):s=Lt(s,32),e.ecdh(s,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return s;case 1:throw new Error(Ve.PUBKEY_PARSE);case 2:throw new Error(Ve.ECDH)}}});const _0=Do().ec,Ht=new _0("secp256k1"),je=Ht.curve,et=je.n.constructor;function w0(e,t){let r=new et(t);if(r.cmp(je.p)>=0)return null;r=r.toRed(je.red);let n=r.redSqr().redIMul(r).redIAdd(je.b).redSqrt();return e===3!==n.isOdd()&&(n=n.redNeg()),Ht.keyPair({pub:{x:r,y:n}})}function x0(e,t,r){let n=new et(t),s=new et(r);if(n.cmp(je.p)>=0||s.cmp(je.p)>=0||(n=n.toRed(je.red),s=s.toRed(je.red),(e===6||e===7)&&s.isOdd()!==(e===7)))return null;const o=n.redSqr().redIMul(n);return s.redSqr().redISub(o.redIAdd(je.b)).isZero()?Ht.keyPair({pub:{x:n,y:s}}):null}function Jt(e){const t=e[0];switch(t){case 2:case 3:return e.length!==33?null:w0(t,e.subarray(1,33));case 4:case 6:case 7:return e.length!==65?null:x0(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function ur(e,t){const r=t.encode(null,e.length===33);for(let n=0;n<e.length;++n)e[n]=r[n]}var b0={contextRandomize(){return 0},privateKeyVerify(e){const t=new et(e);return t.cmp(je.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new et(e),r=je.n.sub(t).umod(je.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new et(t);if(r.cmp(je.n)>=0||(r.iadd(new et(e)),r.cmp(je.n)>=0&&r.isub(je.n),r.isZero()))return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new et(t);if(r.cmp(je.n)>=0||r.isZero())return 1;r.imul(new et(e)),r.cmp(je.n)>=0&&(r=r.umod(je.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify(e){return Jt(e)===null?1:0},publicKeyCreate(e,t){const r=new et(t);if(r.cmp(je.n)>=0||r.isZero())return 1;const n=Ht.keyFromPrivate(t).getPublic();return ur(e,n),0},publicKeyConvert(e,t){const r=Jt(t);if(r===null)return 1;const n=r.getPublic();return ur(e,n),0},publicKeyNegate(e,t){const r=Jt(t);if(r===null)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),ur(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let s=0;s<t.length;++s)if(r[s]=Jt(t[s]),r[s]===null)return 1;let n=r[0].getPublic();for(let s=1;s<r.length;++s)n=n.add(r[s].pub);return n.isInfinity()?2:(ur(e,n),0)},publicKeyTweakAdd(e,t,r){const n=Jt(t);if(n===null)return 1;if(r=new et(r),r.cmp(je.n)>=0)return 2;const s=n.getPublic().add(je.g.mul(r));return s.isInfinity()?2:(ur(e,s),0)},publicKeyTweakMul(e,t,r){const n=Jt(t);if(n===null)return 1;if(r=new et(r),r.cmp(je.n)>=0||r.isZero())return 2;const s=n.getPublic().mul(r);return ur(e,s),0},signatureNormalize(e){const t=new et(e.subarray(0,32)),r=new et(e.subarray(32,64));return t.cmp(je.n)>=0||r.cmp(je.n)>=0?1:(r.cmp(Ht.nh)===1&&e.set(je.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new et(r).cmp(je.n)>=0||new et(n).cmp(je.n)>=0)return 1;const{output:s}=e;let o=s.subarray(4,4+33);o[0]=0,o.set(r,1);let p=33,m=0;for(;p>1&&o[m]===0&&!(o[m+1]&128);--p,++m);if(o=o.subarray(m),o[0]&128||p>1&&o[0]===0&&!(o[1]&128))return 1;let y=s.subarray(6+33,6+33+33);y[0]=0,y.set(n,1);let x=33,w=0;for(;x>1&&y[w]===0&&!(y[w+1]&128);--x,++w);return y=y.subarray(w),y[0]&128||x>1&&y[0]===0&&!(y[1]&128)?1:(e.outputlen=6+p+x,s[0]=48,s[1]=e.outputlen-2,s[2]=2,s[3]=o.length,s.set(o,4),s[4+p]=2,s[5+p]=y.length,s.set(y,6+p),0)},signatureImport(e,t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return 1;const r=t[3];if(r===0||5+r>=t.length||t[4+r]!==2)return 1;const n=t[5+r];if(n===0||6+r+n!==t.length||t[4]&128||r>1&&t[4]===0&&!(t[5]&128)||t[r+6]&128||n>1&&t[r+6]===0&&!(t[r+7]&128))return 1;let s=t.subarray(4,4+r);if(s.length===33&&s[0]===0&&(s=s.subarray(1)),s.length>32)return 1;let o=t.subarray(6+r);if(o.length===33&&o[0]===0&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let p=new et(s);p.cmp(je.n)>=0&&(p=new et(0));let m=new et(t.subarray(6+r));return m.cmp(je.n)>=0&&(m=new et(0)),e.set(p.toArrayLike(Uint8Array,"be",32),0),e.set(m.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,n,s){if(s){const m=s;s=y=>{const x=m(t,r,null,n,y);if(!(x instanceof Uint8Array&&x.length===32))throw new Error("This is the way");return new et(x)}}const o=new et(r);if(o.cmp(je.n)>=0||o.isZero())return 1;let p;try{p=Ht.sign(t,r,{canonical:!0,k:s,pers:n})}catch{return 1}return e.signature.set(p.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(p.s.toArrayLike(Uint8Array,"be",32),32),e.recid=p.recoveryParam,0},ecdsaVerify(e,t,r){const n={r:e.subarray(0,32),s:e.subarray(32,64)},s=new et(n.r),o=new et(n.s);if(s.cmp(je.n)>=0||o.cmp(je.n)>=0)return 1;if(o.cmp(Ht.nh)===1||s.isZero()||o.isZero())return 3;const p=Jt(r);if(p===null)return 2;const m=p.getPublic();return Ht.verify(t,n,m)?0:3},ecdsaRecover(e,t,r,n){const s={r:t.slice(0,32),s:t.slice(32,64)},o=new et(s.r),p=new et(s.s);if(o.cmp(je.n)>=0||p.cmp(je.n)>=0)return 1;if(o.isZero()||p.isZero())return 2;let m;try{m=Ht.recoverPubKey(n,s,r)}catch{return 2}return ur(e,m),0},ecdh(e,t,r,n,s,o,p){const m=Jt(t);if(m===null)return 1;const y=new et(r);if(y.cmp(je.n)>=0||y.isZero())return 2;const x=m.getPublic().mul(y);if(s===void 0){const w=x.encode(null,!0),E=Ht.hash().update(w).digest();for(let C=0;C<32;++C)e[C]=E[C]}else{o||(o=new Uint8Array(32));const w=x.getX().toArray("be",32);for(let b=0;b<32;++b)o[b]=w[b];p||(p=new Uint8Array(32));const E=x.getY().toArray("be",32);for(let b=0;b<32;++b)p[b]=E[b];const C=s(o,p,n);if(!(C instanceof Uint8Array&&C.length===e.length))return 2;e.set(C)}return 0}},$a=y0(b0),Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});var mf=s0.exports;function M0(e){return new Promise(function(t,r){mf(e,function(n,s){if(n){r(n);return}t(s)})})}Gn.getRandomBytes=M0;function E0(e){return mf(e)}Gn.getRandomBytesSync=E0;(function(e){var t=Oe&&Oe.__awaiter||function(x,w,E,C){function B(b){return b instanceof E?b:new E(function(T){T(b)})}return new(E||(E=Promise))(function(b,T){function M(L){try{k(C.next(L))}catch(D){T(D)}}function O(L){try{k(C.throw(L))}catch(D){T(D)}}function k(L){L.done?b(L.value):B(L.value).then(M,O)}k((C=C.apply(x,w||[])).next())})},r=Oe&&Oe.__generator||function(x,w){var E={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},C,B,b,T;return T={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function M(k){return function(L){return O([k,L])}}function O(k){if(C)throw new TypeError("Generator is already executing.");for(;E;)try{if(C=1,B&&(b=k[0]&2?B.return:k[0]?B.throw||((b=B.return)&&b.call(B),0):B.next)&&!(b=b.call(B,k[1])).done)return b;switch(B=0,b&&(k=[k[0]&2,b.value]),k[0]){case 0:case 1:b=k;break;case 4:return E.label++,{value:k[1],done:!1};case 5:E.label++,B=k[1],k=[0];continue;case 7:k=E.ops.pop(),E.trys.pop();continue;default:if(b=E.trys,!(b=b.length>0&&b[b.length-1])&&(k[0]===6||k[0]===2)){E=0;continue}if(k[0]===3&&(!b||k[1]>b[0]&&k[1]<b[3])){E.label=k[1];break}if(k[0]===6&&E.label<b[1]){E.label=b[1],b=k;break}if(b&&E.label<b[2]){E.label=b[2],E.ops.push(k);break}b[2]&&E.ops.pop(),E.trys.pop();continue}k=w.call(x,E)}catch(L){k=[6,L],B=0}finally{C=b=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}};function n(x){for(var w in x)e.hasOwnProperty(w)||(e[w]=x[w])}Object.defineProperty(e,"__esModule",{value:!0});var s=$a,o=Gn,p=32;function m(){return t(this,void 0,void 0,function(){var x;return r(this,function(w){switch(w.label){case 0:return[4,o.getRandomBytes(p)];case 1:return x=w.sent(),s.privateKeyVerify(x)?[2,x]:[3,0];case 2:return[2]}})})}e.createPrivateKey=m;function y(){for(;;){var x=o.getRandomBytesSync(p);if(s.privateKeyVerify(x))return x}}e.createPrivateKeySync=y,n($a)})(jo);var un={},Ko={exports:{}};(function(e){(function(t,r){function n(l,i){if(!l)throw new Error(i||"Assertion failed")}function s(l,i){l.super_=i;var f=function(){};f.prototype=i.prototype,l.prototype=new f,l.prototype.constructor=l}function o(l,i,f){if(o.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((i==="le"||i==="be")&&(f=i,i=10),this._init(l||0,i||10,f||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=j.Buffer}catch{}o.isBN=function(i){return i instanceof o?!0:i!==null&&typeof i=="object"&&i.constructor.wordSize===o.wordSize&&Array.isArray(i.words)},o.max=function(i,f){return i.cmp(f)>0?i:f},o.min=function(i,f){return i.cmp(f)<0?i:f},o.prototype._init=function(i,f,c){if(typeof i=="number")return this._initNumber(i,f,c);if(typeof i=="object")return this._initArray(i,f,c);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),i=i.toString().replace(/\s+/g,"");var h=0;i[0]==="-"&&(h++,this.negative=1),h<i.length&&(f===16?this._parseHex(i,h,c):(this._parseBase(i,f,h),c==="le"&&this._initArray(this.toArray(),f,c)))},o.prototype._initNumber=function(i,f,c){i<0&&(this.negative=1,i=-i),i<67108864?(this.words=[i&67108863],this.length=1):i<4503599627370496?(this.words=[i&67108863,i/67108864&67108863],this.length=2):(n(i<9007199254740992),this.words=[i&67108863,i/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),f,c)},o.prototype._initArray=function(i,f,c){if(n(typeof i.length=="number"),i.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(i.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var d,_,g=0;if(c==="be")for(h=i.length-1,d=0;h>=0;h-=3)_=i[h]|i[h-1]<<8|i[h-2]<<16,this.words[d]|=_<<g&67108863,this.words[d+1]=_>>>26-g&67108863,g+=24,g>=26&&(g-=26,d++);else if(c==="le")for(h=0,d=0;h<i.length;h+=3)_=i[h]|i[h+1]<<8|i[h+2]<<16,this.words[d]|=_<<g&67108863,this.words[d+1]=_>>>26-g&67108863,g+=24,g>=26&&(g-=26,d++);return this.strip()};function m(l,i){var f=l.charCodeAt(i);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function y(l,i,f){var c=m(l,f);return f-1>=i&&(c|=m(l,f-1)<<4),c}o.prototype._parseHex=function(i,f,c){this.length=Math.ceil((i.length-f)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var d=0,_=0,g;if(c==="be")for(h=i.length-1;h>=f;h-=2)g=y(i,f,h)<<d,this.words[_]|=g&67108863,d>=18?(d-=18,_+=1,this.words[_]|=g>>>26):d+=8;else{var u=i.length-f;for(h=u%2===0?f+1:f;h<i.length;h+=2)g=y(i,f,h)<<d,this.words[_]|=g&67108863,d>=18?(d-=18,_+=1,this.words[_]|=g>>>26):d+=8}this.strip()};function x(l,i,f,c){for(var h=0,d=Math.min(l.length,f),_=i;_<d;_++){var g=l.charCodeAt(_)-48;h*=c,g>=49?h+=g-49+10:g>=17?h+=g-17+10:h+=g}return h}o.prototype._parseBase=function(i,f,c){this.words=[0],this.length=1;for(var h=0,d=1;d<=67108863;d*=f)h++;h--,d=d/f|0;for(var _=i.length-c,g=_%h,u=Math.min(_,_-g)+c,a=0,v=c;v<u;v+=h)a=x(i,v,v+h,f),this.imuln(d),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(g!==0){var S=1;for(a=x(i,v,i.length,f),v=0;v<g;v++)S*=f;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},o.prototype.copy=function(i){i.words=new Array(this.length);for(var f=0;f<this.length;f++)i.words[f]=this.words[f];i.length=this.length,i.negative=this.negative,i.red=this.red},o.prototype.clone=function(){var i=new o(null);return this.copy(i),i},o.prototype._expand=function(i){for(;this.length<i;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(i,f){i=i||10,f=f|0||1;var c;if(i===16||i==="hex"){c="";for(var h=0,d=0,_=0;_<this.length;_++){var g=this.words[_],u=((g<<h|d)&16777215).toString(16);d=g>>>24-h&16777215,d!==0||_!==this.length-1?c=w[6-u.length]+u+c:c=u+c,h+=2,h>=26&&(h-=26,_--)}for(d!==0&&(c=d.toString(16)+c);c.length%f!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(i===(i|0)&&i>=2&&i<=36){var a=E[i],v=C[i];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var A=S.modn(v).toString(i);S=S.idivn(v),S.isZero()?c=A+c:c=w[a-A.length]+A+c}for(this.isZero()&&(c="0"+c);c.length%f!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var i=this.words[0];return this.length===2?i+=this.words[1]*67108864:this.length===3&&this.words[2]===1?i+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-i:i},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(i,f){return n(typeof p<"u"),this.toArrayLike(p,i,f)},o.prototype.toArray=function(i,f){return this.toArrayLike(Array,i,f)},o.prototype.toArrayLike=function(i,f,c){var h=this.byteLength(),d=c||Math.max(1,h);n(h<=d,"byte array longer than desired length"),n(d>0,"Requested array length <= 0"),this.strip();var _=f==="le",g=new i(d),u,a,v=this.clone();if(_){for(a=0;!v.isZero();a++)u=v.andln(255),v.iushrn(8),g[a]=u;for(;a<d;a++)g[a]=0}else{for(a=0;a<d-h;a++)g[a]=0;for(a=0;!v.isZero();a++)u=v.andln(255),v.iushrn(8),g[d-a-1]=u}return g},Math.clz32?o.prototype._countBits=function(i){return 32-Math.clz32(i)}:o.prototype._countBits=function(i){var f=i,c=0;return f>=4096&&(c+=13,f>>>=13),f>=64&&(c+=7,f>>>=7),f>=8&&(c+=4,f>>>=4),f>=2&&(c+=2,f>>>=2),c+f},o.prototype._zeroBits=function(i){if(i===0)return 26;var f=i,c=0;return(f&8191)===0&&(c+=13,f>>>=13),(f&127)===0&&(c+=7,f>>>=7),(f&15)===0&&(c+=4,f>>>=4),(f&3)===0&&(c+=2,f>>>=2),(f&1)===0&&c++,c},o.prototype.bitLength=function(){var i=this.words[this.length-1],f=this._countBits(i);return(this.length-1)*26+f};function B(l){for(var i=new Array(l.bitLength()),f=0;f<i.length;f++){var c=f/26|0,h=f%26;i[f]=(l.words[c]&1<<h)>>>h}return i}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var i=0,f=0;f<this.length;f++){var c=this._zeroBits(this.words[f]);if(i+=c,c!==26)break}return i},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(i){return this.negative!==0?this.abs().inotn(i).iaddn(1):this.clone()},o.prototype.fromTwos=function(i){return this.testn(i-1)?this.notn(i).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(i){for(;this.length<i.length;)this.words[this.length++]=0;for(var f=0;f<i.length;f++)this.words[f]=this.words[f]|i.words[f];return this.strip()},o.prototype.ior=function(i){return n((this.negative|i.negative)===0),this.iuor(i)},o.prototype.or=function(i){return this.length>i.length?this.clone().ior(i):i.clone().ior(this)},o.prototype.uor=function(i){return this.length>i.length?this.clone().iuor(i):i.clone().iuor(this)},o.prototype.iuand=function(i){var f;this.length>i.length?f=i:f=this;for(var c=0;c<f.length;c++)this.words[c]=this.words[c]&i.words[c];return this.length=f.length,this.strip()},o.prototype.iand=function(i){return n((this.negative|i.negative)===0),this.iuand(i)},o.prototype.and=function(i){return this.length>i.length?this.clone().iand(i):i.clone().iand(this)},o.prototype.uand=function(i){return this.length>i.length?this.clone().iuand(i):i.clone().iuand(this)},o.prototype.iuxor=function(i){var f,c;this.length>i.length?(f=this,c=i):(f=i,c=this);for(var h=0;h<c.length;h++)this.words[h]=f.words[h]^c.words[h];if(this!==f)for(;h<f.length;h++)this.words[h]=f.words[h];return this.length=f.length,this.strip()},o.prototype.ixor=function(i){return n((this.negative|i.negative)===0),this.iuxor(i)},o.prototype.xor=function(i){return this.length>i.length?this.clone().ixor(i):i.clone().ixor(this)},o.prototype.uxor=function(i){return this.length>i.length?this.clone().iuxor(i):i.clone().iuxor(this)},o.prototype.inotn=function(i){n(typeof i=="number"&&i>=0);var f=Math.ceil(i/26)|0,c=i%26;this._expand(f),c>0&&f--;for(var h=0;h<f;h++)this.words[h]=~this.words[h]&67108863;return c>0&&(this.words[h]=~this.words[h]&67108863>>26-c),this.strip()},o.prototype.notn=function(i){return this.clone().inotn(i)},o.prototype.setn=function(i,f){n(typeof i=="number"&&i>=0);var c=i/26|0,h=i%26;return this._expand(c+1),f?this.words[c]=this.words[c]|1<<h:this.words[c]=this.words[c]&~(1<<h),this.strip()},o.prototype.iadd=function(i){var f;if(this.negative!==0&&i.negative===0)return this.negative=0,f=this.isub(i),this.negative^=1,this._normSign();if(this.negative===0&&i.negative!==0)return i.negative=0,f=this.isub(i),i.negative=1,f._normSign();var c,h;this.length>i.length?(c=this,h=i):(c=i,h=this);for(var d=0,_=0;_<h.length;_++)f=(c.words[_]|0)+(h.words[_]|0)+d,this.words[_]=f&67108863,d=f>>>26;for(;d!==0&&_<c.length;_++)f=(c.words[_]|0)+d,this.words[_]=f&67108863,d=f>>>26;if(this.length=c.length,d!==0)this.words[this.length]=d,this.length++;else if(c!==this)for(;_<c.length;_++)this.words[_]=c.words[_];return this},o.prototype.add=function(i){var f;return i.negative!==0&&this.negative===0?(i.negative=0,f=this.sub(i),i.negative^=1,f):i.negative===0&&this.negative!==0?(this.negative=0,f=i.sub(this),this.negative=1,f):this.length>i.length?this.clone().iadd(i):i.clone().iadd(this)},o.prototype.isub=function(i){if(i.negative!==0){i.negative=0;var f=this.iadd(i);return i.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(i),this.negative=1,this._normSign();var c=this.cmp(i);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,d;c>0?(h=this,d=i):(h=i,d=this);for(var _=0,g=0;g<d.length;g++)f=(h.words[g]|0)-(d.words[g]|0)+_,_=f>>26,this.words[g]=f&67108863;for(;_!==0&&g<h.length;g++)f=(h.words[g]|0)+_,_=f>>26,this.words[g]=f&67108863;if(_===0&&g<h.length&&h!==this)for(;g<h.length;g++)this.words[g]=h.words[g];return this.length=Math.max(this.length,g),h!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(i){return this.clone().isub(i)};function b(l,i,f){f.negative=i.negative^l.negative;var c=l.length+i.length|0;f.length=c,c=c-1|0;var h=l.words[0]|0,d=i.words[0]|0,_=h*d,g=_&67108863,u=_/67108864|0;f.words[0]=g;for(var a=1;a<c;a++){for(var v=u>>>26,S=u&67108863,A=Math.min(a,i.length-1),I=Math.max(0,a-l.length+1);I<=A;I++){var q=a-I|0;h=l.words[q]|0,d=i.words[I]|0,_=h*d+S,v+=_/67108864|0,S=_&67108863}f.words[a]=S|0,u=v|0}return u!==0?f.words[a]=u|0:f.length--,f.strip()}var T=function(i,f,c){var h=i.words,d=f.words,_=c.words,g=0,u,a,v,S=h[0]|0,A=S&8191,I=S>>>13,q=h[1]|0,$=q&8191,W=q>>>13,oe=h[2]|0,G=oe&8191,se=oe>>>13,Re=h[3]|0,ie=Re&8191,pe=Re>>>13,ke=h[4]|0,ae=ke&8191,Ae=ke>>>13,qe=h[5]|0,ue=qe&8191,Ee=qe>>>13,Fe=h[6]|0,ve=Fe&8191,U=Fe>>>13,K=h[7]|0,R=K&8191,H=K>>>13,N=h[8]|0,z=N&8191,Z=N>>>13,le=h[9]|0,Y=le&8191,J=le>>>13,Ce=d[0]|0,re=Ce&8191,be=Ce>>>13,Ue=d[1]|0,ne=Ue&8191,ge=Ue>>>13,$e=d[2]|0,de=$e&8191,Me=$e>>>13,We=d[3]|0,Q=We&8191,_e=We>>>13,De=d[4]|0,fe=De&8191,Se=De>>>13,Je=d[5]|0,ce=Je&8191,Te=Je>>>13,ze=d[6]|0,me=ze&8191,Be=ze>>>13,Ge=d[7]|0,ye=Ge&8191,Pe=Ge>>>13,Ye=d[8]|0,we=Ye&8191,Ne=Ye>>>13,tt=d[9]|0,xe=tt&8191,Le=tt>>>13;c.negative=i.negative^f.negative,c.length=19,u=Math.imul(A,re),a=Math.imul(A,be),a=a+Math.imul(I,re)|0,v=Math.imul(I,be);var mt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(mt>>>26)|0,mt&=67108863,u=Math.imul($,re),a=Math.imul($,be),a=a+Math.imul(W,re)|0,v=Math.imul(W,be),u=u+Math.imul(A,ne)|0,a=a+Math.imul(A,ge)|0,a=a+Math.imul(I,ne)|0,v=v+Math.imul(I,ge)|0;var yt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(yt>>>26)|0,yt&=67108863,u=Math.imul(G,re),a=Math.imul(G,be),a=a+Math.imul(se,re)|0,v=Math.imul(se,be),u=u+Math.imul($,ne)|0,a=a+Math.imul($,ge)|0,a=a+Math.imul(W,ne)|0,v=v+Math.imul(W,ge)|0,u=u+Math.imul(A,de)|0,a=a+Math.imul(A,Me)|0,a=a+Math.imul(I,de)|0,v=v+Math.imul(I,Me)|0;var _t=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(_t>>>26)|0,_t&=67108863,u=Math.imul(ie,re),a=Math.imul(ie,be),a=a+Math.imul(pe,re)|0,v=Math.imul(pe,be),u=u+Math.imul(G,ne)|0,a=a+Math.imul(G,ge)|0,a=a+Math.imul(se,ne)|0,v=v+Math.imul(se,ge)|0,u=u+Math.imul($,de)|0,a=a+Math.imul($,Me)|0,a=a+Math.imul(W,de)|0,v=v+Math.imul(W,Me)|0,u=u+Math.imul(A,Q)|0,a=a+Math.imul(A,_e)|0,a=a+Math.imul(I,Q)|0,v=v+Math.imul(I,_e)|0;var wt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(wt>>>26)|0,wt&=67108863,u=Math.imul(ae,re),a=Math.imul(ae,be),a=a+Math.imul(Ae,re)|0,v=Math.imul(Ae,be),u=u+Math.imul(ie,ne)|0,a=a+Math.imul(ie,ge)|0,a=a+Math.imul(pe,ne)|0,v=v+Math.imul(pe,ge)|0,u=u+Math.imul(G,de)|0,a=a+Math.imul(G,Me)|0,a=a+Math.imul(se,de)|0,v=v+Math.imul(se,Me)|0,u=u+Math.imul($,Q)|0,a=a+Math.imul($,_e)|0,a=a+Math.imul(W,Q)|0,v=v+Math.imul(W,_e)|0,u=u+Math.imul(A,fe)|0,a=a+Math.imul(A,Se)|0,a=a+Math.imul(I,fe)|0,v=v+Math.imul(I,Se)|0;var xt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(xt>>>26)|0,xt&=67108863,u=Math.imul(ue,re),a=Math.imul(ue,be),a=a+Math.imul(Ee,re)|0,v=Math.imul(Ee,be),u=u+Math.imul(ae,ne)|0,a=a+Math.imul(ae,ge)|0,a=a+Math.imul(Ae,ne)|0,v=v+Math.imul(Ae,ge)|0,u=u+Math.imul(ie,de)|0,a=a+Math.imul(ie,Me)|0,a=a+Math.imul(pe,de)|0,v=v+Math.imul(pe,Me)|0,u=u+Math.imul(G,Q)|0,a=a+Math.imul(G,_e)|0,a=a+Math.imul(se,Q)|0,v=v+Math.imul(se,_e)|0,u=u+Math.imul($,fe)|0,a=a+Math.imul($,Se)|0,a=a+Math.imul(W,fe)|0,v=v+Math.imul(W,Se)|0,u=u+Math.imul(A,ce)|0,a=a+Math.imul(A,Te)|0,a=a+Math.imul(I,ce)|0,v=v+Math.imul(I,Te)|0;var bt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(bt>>>26)|0,bt&=67108863,u=Math.imul(ve,re),a=Math.imul(ve,be),a=a+Math.imul(U,re)|0,v=Math.imul(U,be),u=u+Math.imul(ue,ne)|0,a=a+Math.imul(ue,ge)|0,a=a+Math.imul(Ee,ne)|0,v=v+Math.imul(Ee,ge)|0,u=u+Math.imul(ae,de)|0,a=a+Math.imul(ae,Me)|0,a=a+Math.imul(Ae,de)|0,v=v+Math.imul(Ae,Me)|0,u=u+Math.imul(ie,Q)|0,a=a+Math.imul(ie,_e)|0,a=a+Math.imul(pe,Q)|0,v=v+Math.imul(pe,_e)|0,u=u+Math.imul(G,fe)|0,a=a+Math.imul(G,Se)|0,a=a+Math.imul(se,fe)|0,v=v+Math.imul(se,Se)|0,u=u+Math.imul($,ce)|0,a=a+Math.imul($,Te)|0,a=a+Math.imul(W,ce)|0,v=v+Math.imul(W,Te)|0,u=u+Math.imul(A,me)|0,a=a+Math.imul(A,Be)|0,a=a+Math.imul(I,me)|0,v=v+Math.imul(I,Be)|0;var Mt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,u=Math.imul(R,re),a=Math.imul(R,be),a=a+Math.imul(H,re)|0,v=Math.imul(H,be),u=u+Math.imul(ve,ne)|0,a=a+Math.imul(ve,ge)|0,a=a+Math.imul(U,ne)|0,v=v+Math.imul(U,ge)|0,u=u+Math.imul(ue,de)|0,a=a+Math.imul(ue,Me)|0,a=a+Math.imul(Ee,de)|0,v=v+Math.imul(Ee,Me)|0,u=u+Math.imul(ae,Q)|0,a=a+Math.imul(ae,_e)|0,a=a+Math.imul(Ae,Q)|0,v=v+Math.imul(Ae,_e)|0,u=u+Math.imul(ie,fe)|0,a=a+Math.imul(ie,Se)|0,a=a+Math.imul(pe,fe)|0,v=v+Math.imul(pe,Se)|0,u=u+Math.imul(G,ce)|0,a=a+Math.imul(G,Te)|0,a=a+Math.imul(se,ce)|0,v=v+Math.imul(se,Te)|0,u=u+Math.imul($,me)|0,a=a+Math.imul($,Be)|0,a=a+Math.imul(W,me)|0,v=v+Math.imul(W,Be)|0,u=u+Math.imul(A,ye)|0,a=a+Math.imul(A,Pe)|0,a=a+Math.imul(I,ye)|0,v=v+Math.imul(I,Pe)|0;var Et=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(Et>>>26)|0,Et&=67108863,u=Math.imul(z,re),a=Math.imul(z,be),a=a+Math.imul(Z,re)|0,v=Math.imul(Z,be),u=u+Math.imul(R,ne)|0,a=a+Math.imul(R,ge)|0,a=a+Math.imul(H,ne)|0,v=v+Math.imul(H,ge)|0,u=u+Math.imul(ve,de)|0,a=a+Math.imul(ve,Me)|0,a=a+Math.imul(U,de)|0,v=v+Math.imul(U,Me)|0,u=u+Math.imul(ue,Q)|0,a=a+Math.imul(ue,_e)|0,a=a+Math.imul(Ee,Q)|0,v=v+Math.imul(Ee,_e)|0,u=u+Math.imul(ae,fe)|0,a=a+Math.imul(ae,Se)|0,a=a+Math.imul(Ae,fe)|0,v=v+Math.imul(Ae,Se)|0,u=u+Math.imul(ie,ce)|0,a=a+Math.imul(ie,Te)|0,a=a+Math.imul(pe,ce)|0,v=v+Math.imul(pe,Te)|0,u=u+Math.imul(G,me)|0,a=a+Math.imul(G,Be)|0,a=a+Math.imul(se,me)|0,v=v+Math.imul(se,Be)|0,u=u+Math.imul($,ye)|0,a=a+Math.imul($,Pe)|0,a=a+Math.imul(W,ye)|0,v=v+Math.imul(W,Pe)|0,u=u+Math.imul(A,we)|0,a=a+Math.imul(A,Ne)|0,a=a+Math.imul(I,we)|0,v=v+Math.imul(I,Ne)|0;var St=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(St>>>26)|0,St&=67108863,u=Math.imul(Y,re),a=Math.imul(Y,be),a=a+Math.imul(J,re)|0,v=Math.imul(J,be),u=u+Math.imul(z,ne)|0,a=a+Math.imul(z,ge)|0,a=a+Math.imul(Z,ne)|0,v=v+Math.imul(Z,ge)|0,u=u+Math.imul(R,de)|0,a=a+Math.imul(R,Me)|0,a=a+Math.imul(H,de)|0,v=v+Math.imul(H,Me)|0,u=u+Math.imul(ve,Q)|0,a=a+Math.imul(ve,_e)|0,a=a+Math.imul(U,Q)|0,v=v+Math.imul(U,_e)|0,u=u+Math.imul(ue,fe)|0,a=a+Math.imul(ue,Se)|0,a=a+Math.imul(Ee,fe)|0,v=v+Math.imul(Ee,Se)|0,u=u+Math.imul(ae,ce)|0,a=a+Math.imul(ae,Te)|0,a=a+Math.imul(Ae,ce)|0,v=v+Math.imul(Ae,Te)|0,u=u+Math.imul(ie,me)|0,a=a+Math.imul(ie,Be)|0,a=a+Math.imul(pe,me)|0,v=v+Math.imul(pe,Be)|0,u=u+Math.imul(G,ye)|0,a=a+Math.imul(G,Pe)|0,a=a+Math.imul(se,ye)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul($,we)|0,a=a+Math.imul($,Ne)|0,a=a+Math.imul(W,we)|0,v=v+Math.imul(W,Ne)|0,u=u+Math.imul(A,xe)|0,a=a+Math.imul(A,Le)|0,a=a+Math.imul(I,xe)|0,v=v+Math.imul(I,Le)|0;var At=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(At>>>26)|0,At&=67108863,u=Math.imul(Y,ne),a=Math.imul(Y,ge),a=a+Math.imul(J,ne)|0,v=Math.imul(J,ge),u=u+Math.imul(z,de)|0,a=a+Math.imul(z,Me)|0,a=a+Math.imul(Z,de)|0,v=v+Math.imul(Z,Me)|0,u=u+Math.imul(R,Q)|0,a=a+Math.imul(R,_e)|0,a=a+Math.imul(H,Q)|0,v=v+Math.imul(H,_e)|0,u=u+Math.imul(ve,fe)|0,a=a+Math.imul(ve,Se)|0,a=a+Math.imul(U,fe)|0,v=v+Math.imul(U,Se)|0,u=u+Math.imul(ue,ce)|0,a=a+Math.imul(ue,Te)|0,a=a+Math.imul(Ee,ce)|0,v=v+Math.imul(Ee,Te)|0,u=u+Math.imul(ae,me)|0,a=a+Math.imul(ae,Be)|0,a=a+Math.imul(Ae,me)|0,v=v+Math.imul(Ae,Be)|0,u=u+Math.imul(ie,ye)|0,a=a+Math.imul(ie,Pe)|0,a=a+Math.imul(pe,ye)|0,v=v+Math.imul(pe,Pe)|0,u=u+Math.imul(G,we)|0,a=a+Math.imul(G,Ne)|0,a=a+Math.imul(se,we)|0,v=v+Math.imul(se,Ne)|0,u=u+Math.imul($,xe)|0,a=a+Math.imul($,Le)|0,a=a+Math.imul(W,xe)|0,v=v+Math.imul(W,Le)|0;var Tt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,u=Math.imul(Y,de),a=Math.imul(Y,Me),a=a+Math.imul(J,de)|0,v=Math.imul(J,Me),u=u+Math.imul(z,Q)|0,a=a+Math.imul(z,_e)|0,a=a+Math.imul(Z,Q)|0,v=v+Math.imul(Z,_e)|0,u=u+Math.imul(R,fe)|0,a=a+Math.imul(R,Se)|0,a=a+Math.imul(H,fe)|0,v=v+Math.imul(H,Se)|0,u=u+Math.imul(ve,ce)|0,a=a+Math.imul(ve,Te)|0,a=a+Math.imul(U,ce)|0,v=v+Math.imul(U,Te)|0,u=u+Math.imul(ue,me)|0,a=a+Math.imul(ue,Be)|0,a=a+Math.imul(Ee,me)|0,v=v+Math.imul(Ee,Be)|0,u=u+Math.imul(ae,ye)|0,a=a+Math.imul(ae,Pe)|0,a=a+Math.imul(Ae,ye)|0,v=v+Math.imul(Ae,Pe)|0,u=u+Math.imul(ie,we)|0,a=a+Math.imul(ie,Ne)|0,a=a+Math.imul(pe,we)|0,v=v+Math.imul(pe,Ne)|0,u=u+Math.imul(G,xe)|0,a=a+Math.imul(G,Le)|0,a=a+Math.imul(se,xe)|0,v=v+Math.imul(se,Le)|0;var Rt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u=Math.imul(Y,Q),a=Math.imul(Y,_e),a=a+Math.imul(J,Q)|0,v=Math.imul(J,_e),u=u+Math.imul(z,fe)|0,a=a+Math.imul(z,Se)|0,a=a+Math.imul(Z,fe)|0,v=v+Math.imul(Z,Se)|0,u=u+Math.imul(R,ce)|0,a=a+Math.imul(R,Te)|0,a=a+Math.imul(H,ce)|0,v=v+Math.imul(H,Te)|0,u=u+Math.imul(ve,me)|0,a=a+Math.imul(ve,Be)|0,a=a+Math.imul(U,me)|0,v=v+Math.imul(U,Be)|0,u=u+Math.imul(ue,ye)|0,a=a+Math.imul(ue,Pe)|0,a=a+Math.imul(Ee,ye)|0,v=v+Math.imul(Ee,Pe)|0,u=u+Math.imul(ae,we)|0,a=a+Math.imul(ae,Ne)|0,a=a+Math.imul(Ae,we)|0,v=v+Math.imul(Ae,Ne)|0,u=u+Math.imul(ie,xe)|0,a=a+Math.imul(ie,Le)|0,a=a+Math.imul(pe,xe)|0,v=v+Math.imul(pe,Le)|0;var kt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(kt>>>26)|0,kt&=67108863,u=Math.imul(Y,fe),a=Math.imul(Y,Se),a=a+Math.imul(J,fe)|0,v=Math.imul(J,Se),u=u+Math.imul(z,ce)|0,a=a+Math.imul(z,Te)|0,a=a+Math.imul(Z,ce)|0,v=v+Math.imul(Z,Te)|0,u=u+Math.imul(R,me)|0,a=a+Math.imul(R,Be)|0,a=a+Math.imul(H,me)|0,v=v+Math.imul(H,Be)|0,u=u+Math.imul(ve,ye)|0,a=a+Math.imul(ve,Pe)|0,a=a+Math.imul(U,ye)|0,v=v+Math.imul(U,Pe)|0,u=u+Math.imul(ue,we)|0,a=a+Math.imul(ue,Ne)|0,a=a+Math.imul(Ee,we)|0,v=v+Math.imul(Ee,Ne)|0,u=u+Math.imul(ae,xe)|0,a=a+Math.imul(ae,Le)|0,a=a+Math.imul(Ae,xe)|0,v=v+Math.imul(Ae,Le)|0;var Ct=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u=Math.imul(Y,ce),a=Math.imul(Y,Te),a=a+Math.imul(J,ce)|0,v=Math.imul(J,Te),u=u+Math.imul(z,me)|0,a=a+Math.imul(z,Be)|0,a=a+Math.imul(Z,me)|0,v=v+Math.imul(Z,Be)|0,u=u+Math.imul(R,ye)|0,a=a+Math.imul(R,Pe)|0,a=a+Math.imul(H,ye)|0,v=v+Math.imul(H,Pe)|0,u=u+Math.imul(ve,we)|0,a=a+Math.imul(ve,Ne)|0,a=a+Math.imul(U,we)|0,v=v+Math.imul(U,Ne)|0,u=u+Math.imul(ue,xe)|0,a=a+Math.imul(ue,Le)|0,a=a+Math.imul(Ee,xe)|0,v=v+Math.imul(Ee,Le)|0;var Ot=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u=Math.imul(Y,me),a=Math.imul(Y,Be),a=a+Math.imul(J,me)|0,v=Math.imul(J,Be),u=u+Math.imul(z,ye)|0,a=a+Math.imul(z,Pe)|0,a=a+Math.imul(Z,ye)|0,v=v+Math.imul(Z,Pe)|0,u=u+Math.imul(R,we)|0,a=a+Math.imul(R,Ne)|0,a=a+Math.imul(H,we)|0,v=v+Math.imul(H,Ne)|0,u=u+Math.imul(ve,xe)|0,a=a+Math.imul(ve,Le)|0,a=a+Math.imul(U,xe)|0,v=v+Math.imul(U,Le)|0;var Pt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,u=Math.imul(Y,ye),a=Math.imul(Y,Pe),a=a+Math.imul(J,ye)|0,v=Math.imul(J,Pe),u=u+Math.imul(z,we)|0,a=a+Math.imul(z,Ne)|0,a=a+Math.imul(Z,we)|0,v=v+Math.imul(Z,Ne)|0,u=u+Math.imul(R,xe)|0,a=a+Math.imul(R,Le)|0,a=a+Math.imul(H,xe)|0,v=v+Math.imul(H,Le)|0;var It=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(It>>>26)|0,It&=67108863,u=Math.imul(Y,we),a=Math.imul(Y,Ne),a=a+Math.imul(J,we)|0,v=Math.imul(J,Ne),u=u+Math.imul(z,xe)|0,a=a+Math.imul(z,Le)|0,a=a+Math.imul(Z,xe)|0,v=v+Math.imul(Z,Le)|0;var Bt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,u=Math.imul(Y,xe),a=Math.imul(Y,Le),a=a+Math.imul(J,xe)|0,v=Math.imul(J,Le);var sr=(g+u|0)+((a&8191)<<13)|0;return g=(v+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,_[0]=mt,_[1]=yt,_[2]=_t,_[3]=wt,_[4]=xt,_[5]=bt,_[6]=Mt,_[7]=Et,_[8]=St,_[9]=At,_[10]=Tt,_[11]=Rt,_[12]=kt,_[13]=Ct,_[14]=Ot,_[15]=Pt,_[16]=It,_[17]=Bt,_[18]=sr,g!==0&&(_[19]=g,c.length++),c};Math.imul||(T=b);function M(l,i,f){f.negative=i.negative^l.negative,f.length=l.length+i.length;for(var c=0,h=0,d=0;d<f.length-1;d++){var _=h;h=0;for(var g=c&67108863,u=Math.min(d,i.length-1),a=Math.max(0,d-l.length+1);a<=u;a++){var v=d-a,S=l.words[v]|0,A=i.words[a]|0,I=S*A,q=I&67108863;_=_+(I/67108864|0)|0,q=q+g|0,g=q&67108863,_=_+(q>>>26)|0,h+=_>>>26,_&=67108863}f.words[d]=g,c=_,_=h}return c!==0?f.words[d]=c:f.length--,f.strip()}function O(l,i,f){var c=new k;return c.mulp(l,i,f)}o.prototype.mulTo=function(i,f){var c,h=this.length+i.length;return this.length===10&&i.length===10?c=T(this,i,f):h<63?c=b(this,i,f):h<1024?c=M(this,i,f):c=O(this,i,f),c};function k(l,i){this.x=l,this.y=i}k.prototype.makeRBT=function(i){for(var f=new Array(i),c=o.prototype._countBits(i)-1,h=0;h<i;h++)f[h]=this.revBin(h,c,i);return f},k.prototype.revBin=function(i,f,c){if(i===0||i===c-1)return i;for(var h=0,d=0;d<f;d++)h|=(i&1)<<f-d-1,i>>=1;return h},k.prototype.permute=function(i,f,c,h,d,_){for(var g=0;g<_;g++)h[g]=f[i[g]],d[g]=c[i[g]]},k.prototype.transform=function(i,f,c,h,d,_){this.permute(_,i,f,c,h,d);for(var g=1;g<d;g<<=1)for(var u=g<<1,a=Math.cos(2*Math.PI/u),v=Math.sin(2*Math.PI/u),S=0;S<d;S+=u)for(var A=a,I=v,q=0;q<g;q++){var $=c[S+q],W=h[S+q],oe=c[S+q+g],G=h[S+q+g],se=A*oe-I*G;G=A*G+I*oe,oe=se,c[S+q]=$+oe,h[S+q]=W+G,c[S+q+g]=$-oe,h[S+q+g]=W-G,q!==u&&(se=a*A-v*I,I=a*I+v*A,A=se)}},k.prototype.guessLen13b=function(i,f){var c=Math.max(f,i)|1,h=c&1,d=0;for(c=c/2|0;c;c=c>>>1)d++;return 1<<d+1+h},k.prototype.conjugate=function(i,f,c){if(!(c<=1))for(var h=0;h<c/2;h++){var d=i[h];i[h]=i[c-h-1],i[c-h-1]=d,d=f[h],f[h]=-f[c-h-1],f[c-h-1]=-d}},k.prototype.normalize13b=function(i,f){for(var c=0,h=0;h<f/2;h++){var d=Math.round(i[2*h+1]/f)*8192+Math.round(i[2*h]/f)+c;i[h]=d&67108863,d<67108864?c=0:c=d/67108864|0}return i},k.prototype.convert13b=function(i,f,c,h){for(var d=0,_=0;_<f;_++)d=d+(i[_]|0),c[2*_]=d&8191,d=d>>>13,c[2*_+1]=d&8191,d=d>>>13;for(_=2*f;_<h;++_)c[_]=0;n(d===0),n((d&-8192)===0)},k.prototype.stub=function(i){for(var f=new Array(i),c=0;c<i;c++)f[c]=0;return f},k.prototype.mulp=function(i,f,c){var h=2*this.guessLen13b(i.length,f.length),d=this.makeRBT(h),_=this.stub(h),g=new Array(h),u=new Array(h),a=new Array(h),v=new Array(h),S=new Array(h),A=new Array(h),I=c.words;I.length=h,this.convert13b(i.words,i.length,g,h),this.convert13b(f.words,f.length,v,h),this.transform(g,_,u,a,h,d),this.transform(v,_,S,A,h,d);for(var q=0;q<h;q++){var $=u[q]*S[q]-a[q]*A[q];a[q]=u[q]*A[q]+a[q]*S[q],u[q]=$}return this.conjugate(u,a,h),this.transform(u,a,I,_,h,d),this.conjugate(I,_,h),this.normalize13b(I,h),c.negative=i.negative^f.negative,c.length=i.length+f.length,c.strip()},o.prototype.mul=function(i){var f=new o(null);return f.words=new Array(this.length+i.length),this.mulTo(i,f)},o.prototype.mulf=function(i){var f=new o(null);return f.words=new Array(this.length+i.length),O(this,i,f)},o.prototype.imul=function(i){return this.clone().mulTo(i,this)},o.prototype.imuln=function(i){n(typeof i=="number"),n(i<67108864);for(var f=0,c=0;c<this.length;c++){var h=(this.words[c]|0)*i,d=(h&67108863)+(f&67108863);f>>=26,f+=h/67108864|0,f+=d>>>26,this.words[c]=d&67108863}return f!==0&&(this.words[c]=f,this.length++),this},o.prototype.muln=function(i){return this.clone().imuln(i)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(i){var f=B(i);if(f.length===0)return new o(1);for(var c=this,h=0;h<f.length&&f[h]===0;h++,c=c.sqr());if(++h<f.length)for(var d=c.sqr();h<f.length;h++,d=d.sqr())f[h]!==0&&(c=c.mul(d));return c},o.prototype.iushln=function(i){n(typeof i=="number"&&i>=0);var f=i%26,c=(i-f)/26,h=67108863>>>26-f<<26-f,d;if(f!==0){var _=0;for(d=0;d<this.length;d++){var g=this.words[d]&h,u=(this.words[d]|0)-g<<f;this.words[d]=u|_,_=g>>>26-f}_&&(this.words[d]=_,this.length++)}if(c!==0){for(d=this.length-1;d>=0;d--)this.words[d+c]=this.words[d];for(d=0;d<c;d++)this.words[d]=0;this.length+=c}return this.strip()},o.prototype.ishln=function(i){return n(this.negative===0),this.iushln(i)},o.prototype.iushrn=function(i,f,c){n(typeof i=="number"&&i>=0);var h;f?h=(f-f%26)/26:h=0;var d=i%26,_=Math.min((i-d)/26,this.length),g=67108863^67108863>>>d<<d,u=c;if(h-=_,h=Math.max(0,h),u){for(var a=0;a<_;a++)u.words[a]=this.words[a];u.length=_}if(_!==0)if(this.length>_)for(this.length-=_,a=0;a<this.length;a++)this.words[a]=this.words[a+_];else this.words[0]=0,this.length=1;var v=0;for(a=this.length-1;a>=0&&(v!==0||a>=h);a--){var S=this.words[a]|0;this.words[a]=v<<26-d|S>>>d,v=S&g}return u&&v!==0&&(u.words[u.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(i,f,c){return n(this.negative===0),this.iushrn(i,f,c)},o.prototype.shln=function(i){return this.clone().ishln(i)},o.prototype.ushln=function(i){return this.clone().iushln(i)},o.prototype.shrn=function(i){return this.clone().ishrn(i)},o.prototype.ushrn=function(i){return this.clone().iushrn(i)},o.prototype.testn=function(i){n(typeof i=="number"&&i>=0);var f=i%26,c=(i-f)/26,h=1<<f;if(this.length<=c)return!1;var d=this.words[c];return!!(d&h)},o.prototype.imaskn=function(i){n(typeof i=="number"&&i>=0);var f=i%26,c=(i-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(f!==0&&c++,this.length=Math.min(c,this.length),f!==0){var h=67108863^67108863>>>f<<f;this.words[this.length-1]&=h}return this.strip()},o.prototype.maskn=function(i){return this.clone().imaskn(i)},o.prototype.iaddn=function(i){return n(typeof i=="number"),n(i<67108864),i<0?this.isubn(-i):this.negative!==0?this.length===1&&(this.words[0]|0)<i?(this.words[0]=i-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(i),this.negative=1,this):this._iaddn(i)},o.prototype._iaddn=function(i){this.words[0]+=i;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},o.prototype.isubn=function(i){if(n(typeof i=="number"),n(i<67108864),i<0)return this.iaddn(-i);if(this.negative!==0)return this.negative=0,this.iaddn(i),this.negative=1,this;if(this.words[0]-=i,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},o.prototype.addn=function(i){return this.clone().iaddn(i)},o.prototype.subn=function(i){return this.clone().isubn(i)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(i,f,c){var h=i.length+c,d;this._expand(h);var _,g=0;for(d=0;d<i.length;d++){_=(this.words[d+c]|0)+g;var u=(i.words[d]|0)*f;_-=u&67108863,g=(_>>26)-(u/67108864|0),this.words[d+c]=_&67108863}for(;d<this.length-c;d++)_=(this.words[d+c]|0)+g,g=_>>26,this.words[d+c]=_&67108863;if(g===0)return this.strip();for(n(g===-1),g=0,d=0;d<this.length;d++)_=-(this.words[d]|0)+g,g=_>>26,this.words[d]=_&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(i,f){var c=this.length-i.length,h=this.clone(),d=i,_=d.words[d.length-1]|0,g=this._countBits(_);c=26-g,c!==0&&(d=d.ushln(c),h.iushln(c),_=d.words[d.length-1]|0);var u=h.length-d.length,a;if(f!=="mod"){a=new o(null),a.length=u+1,a.words=new Array(a.length);for(var v=0;v<a.length;v++)a.words[v]=0}var S=h.clone()._ishlnsubmul(d,1,u);S.negative===0&&(h=S,a&&(a.words[u]=1));for(var A=u-1;A>=0;A--){var I=(h.words[d.length+A]|0)*67108864+(h.words[d.length+A-1]|0);for(I=Math.min(I/_|0,67108863),h._ishlnsubmul(d,I,A);h.negative!==0;)I--,h.negative=0,h._ishlnsubmul(d,1,A),h.isZero()||(h.negative^=1);a&&(a.words[A]=I)}return a&&a.strip(),h.strip(),f!=="div"&&c!==0&&h.iushrn(c),{div:a||null,mod:h}},o.prototype.divmod=function(i,f,c){if(n(!i.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var h,d,_;return this.negative!==0&&i.negative===0?(_=this.neg().divmod(i,f),f!=="mod"&&(h=_.div.neg()),f!=="div"&&(d=_.mod.neg(),c&&d.negative!==0&&d.iadd(i)),{div:h,mod:d}):this.negative===0&&i.negative!==0?(_=this.divmod(i.neg(),f),f!=="mod"&&(h=_.div.neg()),{div:h,mod:_.mod}):(this.negative&i.negative)!==0?(_=this.neg().divmod(i.neg(),f),f!=="div"&&(d=_.mod.neg(),c&&d.negative!==0&&d.isub(i)),{div:_.div,mod:d}):i.length>this.length||this.cmp(i)<0?{div:new o(0),mod:this}:i.length===1?f==="div"?{div:this.divn(i.words[0]),mod:null}:f==="mod"?{div:null,mod:new o(this.modn(i.words[0]))}:{div:this.divn(i.words[0]),mod:new o(this.modn(i.words[0]))}:this._wordDiv(i,f)},o.prototype.div=function(i){return this.divmod(i,"div",!1).div},o.prototype.mod=function(i){return this.divmod(i,"mod",!1).mod},o.prototype.umod=function(i){return this.divmod(i,"mod",!0).mod},o.prototype.divRound=function(i){var f=this.divmod(i);if(f.mod.isZero())return f.div;var c=f.div.negative!==0?f.mod.isub(i):f.mod,h=i.ushrn(1),d=i.andln(1),_=c.cmp(h);return _<0||d===1&&_===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},o.prototype.modn=function(i){n(i<=67108863);for(var f=(1<<26)%i,c=0,h=this.length-1;h>=0;h--)c=(f*c+(this.words[h]|0))%i;return c},o.prototype.idivn=function(i){n(i<=67108863);for(var f=0,c=this.length-1;c>=0;c--){var h=(this.words[c]|0)+f*67108864;this.words[c]=h/i|0,f=h%i}return this.strip()},o.prototype.divn=function(i){return this.clone().idivn(i)},o.prototype.egcd=function(i){n(i.negative===0),n(!i.isZero());var f=this,c=i.clone();f.negative!==0?f=f.umod(i):f=f.clone();for(var h=new o(1),d=new o(0),_=new o(0),g=new o(1),u=0;f.isEven()&&c.isEven();)f.iushrn(1),c.iushrn(1),++u;for(var a=c.clone(),v=f.clone();!f.isZero();){for(var S=0,A=1;(f.words[0]&A)===0&&S<26;++S,A<<=1);if(S>0)for(f.iushrn(S);S-- >0;)(h.isOdd()||d.isOdd())&&(h.iadd(a),d.isub(v)),h.iushrn(1),d.iushrn(1);for(var I=0,q=1;(c.words[0]&q)===0&&I<26;++I,q<<=1);if(I>0)for(c.iushrn(I);I-- >0;)(_.isOdd()||g.isOdd())&&(_.iadd(a),g.isub(v)),_.iushrn(1),g.iushrn(1);f.cmp(c)>=0?(f.isub(c),h.isub(_),d.isub(g)):(c.isub(f),_.isub(h),g.isub(d))}return{a:_,b:g,gcd:c.iushln(u)}},o.prototype._invmp=function(i){n(i.negative===0),n(!i.isZero());var f=this,c=i.clone();f.negative!==0?f=f.umod(i):f=f.clone();for(var h=new o(1),d=new o(0),_=c.clone();f.cmpn(1)>0&&c.cmpn(1)>0;){for(var g=0,u=1;(f.words[0]&u)===0&&g<26;++g,u<<=1);if(g>0)for(f.iushrn(g);g-- >0;)h.isOdd()&&h.iadd(_),h.iushrn(1);for(var a=0,v=1;(c.words[0]&v)===0&&a<26;++a,v<<=1);if(a>0)for(c.iushrn(a);a-- >0;)d.isOdd()&&d.iadd(_),d.iushrn(1);f.cmp(c)>=0?(f.isub(c),h.isub(d)):(c.isub(f),d.isub(h))}var S;return f.cmpn(1)===0?S=h:S=d,S.cmpn(0)<0&&S.iadd(i),S},o.prototype.gcd=function(i){if(this.isZero())return i.abs();if(i.isZero())return this.abs();var f=this.clone(),c=i.clone();f.negative=0,c.negative=0;for(var h=0;f.isEven()&&c.isEven();h++)f.iushrn(1),c.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;c.isEven();)c.iushrn(1);var d=f.cmp(c);if(d<0){var _=f;f=c,c=_}else if(d===0||c.cmpn(1)===0)break;f.isub(c)}while(!0);return c.iushln(h)},o.prototype.invm=function(i){return this.egcd(i).a.umod(i)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(i){return this.words[0]&i},o.prototype.bincn=function(i){n(typeof i=="number");var f=i%26,c=(i-f)/26,h=1<<f;if(this.length<=c)return this._expand(c+1),this.words[c]|=h,this;for(var d=h,_=c;d!==0&&_<this.length;_++){var g=this.words[_]|0;g+=d,d=g>>>26,g&=67108863,this.words[_]=g}return d!==0&&(this.words[_]=d,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(i){var f=i<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var c;if(this.length>1)c=1;else{f&&(i=-i),n(i<=67108863,"Number is too big");var h=this.words[0]|0;c=h===i?0:h<i?-1:1}return this.negative!==0?-c|0:c},o.prototype.cmp=function(i){if(this.negative!==0&&i.negative===0)return-1;if(this.negative===0&&i.negative!==0)return 1;var f=this.ucmp(i);return this.negative!==0?-f|0:f},o.prototype.ucmp=function(i){if(this.length>i.length)return 1;if(this.length<i.length)return-1;for(var f=0,c=this.length-1;c>=0;c--){var h=this.words[c]|0,d=i.words[c]|0;if(h!==d){h<d?f=-1:h>d&&(f=1);break}}return f},o.prototype.gtn=function(i){return this.cmpn(i)===1},o.prototype.gt=function(i){return this.cmp(i)===1},o.prototype.gten=function(i){return this.cmpn(i)>=0},o.prototype.gte=function(i){return this.cmp(i)>=0},o.prototype.ltn=function(i){return this.cmpn(i)===-1},o.prototype.lt=function(i){return this.cmp(i)===-1},o.prototype.lten=function(i){return this.cmpn(i)<=0},o.prototype.lte=function(i){return this.cmp(i)<=0},o.prototype.eqn=function(i){return this.cmpn(i)===0},o.prototype.eq=function(i){return this.cmp(i)===0},o.red=function(i){return new ee(i)},o.prototype.toRed=function(i){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),i.convertTo(this)._forceRed(i)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(i){return this.red=i,this},o.prototype.forceRed=function(i){return n(!this.red,"Already a number in reduction context"),this._forceRed(i)},o.prototype.redAdd=function(i){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,i)},o.prototype.redIAdd=function(i){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,i)},o.prototype.redSub=function(i){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,i)},o.prototype.redISub=function(i){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,i)},o.prototype.redShl=function(i){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,i)},o.prototype.redMul=function(i){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.mul(this,i)},o.prototype.redIMul=function(i){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.imul(this,i)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(i){return n(this.red&&!i.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,i)};var L={k256:null,p224:null,p192:null,p25519:null};function D(l,i){this.name=l,this.p=new o(i,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var i=new o(null);return i.words=new Array(Math.ceil(this.n/13)),i},D.prototype.ireduce=function(i){var f=i,c;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),c=f.bitLength();while(c>this.n);var h=c<this.n?-1:f.ucmp(this.p);return h===0?(f.words[0]=0,f.length=1):h>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},D.prototype.split=function(i,f){i.iushrn(this.n,0,f)},D.prototype.imulK=function(i){return i.imul(this.k)};function F(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(F,D),F.prototype.split=function(i,f){for(var c=4194303,h=Math.min(i.length,9),d=0;d<h;d++)f.words[d]=i.words[d];if(f.length=h,i.length<=9){i.words[0]=0,i.length=1;return}var _=i.words[9];for(f.words[f.length++]=_&c,d=10;d<i.length;d++){var g=i.words[d]|0;i.words[d-10]=(g&c)<<4|_>>>22,_=g}_>>>=22,i.words[d-10]=_,_===0&&i.length>10?i.length-=10:i.length-=9},F.prototype.imulK=function(i){i.words[i.length]=0,i.words[i.length+1]=0,i.length+=2;for(var f=0,c=0;c<i.length;c++){var h=i.words[c]|0;f+=h*977,i.words[c]=f&67108863,f=h*64+(f/67108864|0)}return i.words[i.length-1]===0&&(i.length--,i.words[i.length-1]===0&&i.length--),i};function V(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(V,D);function te(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(te,D);function X(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(X,D),X.prototype.imulK=function(i){for(var f=0,c=0;c<i.length;c++){var h=(i.words[c]|0)*19+f,d=h&67108863;h>>>=26,i.words[c]=d,f=h}return f!==0&&(i.words[i.length++]=f),i},o._prime=function(i){if(L[i])return L[i];var f;if(i==="k256")f=new F;else if(i==="p224")f=new V;else if(i==="p192")f=new te;else if(i==="p25519")f=new X;else throw new Error("Unknown prime "+i);return L[i]=f,f};function ee(l){if(typeof l=="string"){var i=o._prime(l);this.m=i.p,this.prime=i}else n(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}ee.prototype._verify1=function(i){n(i.negative===0,"red works only with positives"),n(i.red,"red works only with red numbers")},ee.prototype._verify2=function(i,f){n((i.negative|f.negative)===0,"red works only with positives"),n(i.red&&i.red===f.red,"red works only with red numbers")},ee.prototype.imod=function(i){return this.prime?this.prime.ireduce(i)._forceRed(this):i.umod(this.m)._forceRed(this)},ee.prototype.neg=function(i){return i.isZero()?i.clone():this.m.sub(i)._forceRed(this)},ee.prototype.add=function(i,f){this._verify2(i,f);var c=i.add(f);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},ee.prototype.iadd=function(i,f){this._verify2(i,f);var c=i.iadd(f);return c.cmp(this.m)>=0&&c.isub(this.m),c},ee.prototype.sub=function(i,f){this._verify2(i,f);var c=i.sub(f);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},ee.prototype.isub=function(i,f){this._verify2(i,f);var c=i.isub(f);return c.cmpn(0)<0&&c.iadd(this.m),c},ee.prototype.shl=function(i,f){return this._verify1(i),this.imod(i.ushln(f))},ee.prototype.imul=function(i,f){return this._verify2(i,f),this.imod(i.imul(f))},ee.prototype.mul=function(i,f){return this._verify2(i,f),this.imod(i.mul(f))},ee.prototype.isqr=function(i){return this.imul(i,i.clone())},ee.prototype.sqr=function(i){return this.mul(i,i)},ee.prototype.sqrt=function(i){if(i.isZero())return i.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var c=this.m.add(new o(1)).iushrn(2);return this.pow(i,c)}for(var h=this.m.subn(1),d=0;!h.isZero()&&h.andln(1)===0;)d++,h.iushrn(1);n(!h.isZero());var _=new o(1).toRed(this),g=_.redNeg(),u=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new o(2*a*a).toRed(this);this.pow(a,u).cmp(g)!==0;)a.redIAdd(g);for(var v=this.pow(a,h),S=this.pow(i,h.addn(1).iushrn(1)),A=this.pow(i,h),I=d;A.cmp(_)!==0;){for(var q=A,$=0;q.cmp(_)!==0;$++)q=q.redSqr();n($<I);var W=this.pow(v,new o(1).iushln(I-$-1));S=S.redMul(W),v=W.redSqr(),A=A.redMul(v),I=$}return S},ee.prototype.invm=function(i){var f=i._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},ee.prototype.pow=function(i,f){if(f.isZero())return new o(1).toRed(this);if(f.cmpn(1)===0)return i.clone();var c=4,h=new Array(1<<c);h[0]=new o(1).toRed(this),h[1]=i;for(var d=2;d<h.length;d++)h[d]=this.mul(h[d-1],i);var _=h[0],g=0,u=0,a=f.bitLength()%26;for(a===0&&(a=26),d=f.length-1;d>=0;d--){for(var v=f.words[d],S=a-1;S>=0;S--){var A=v>>S&1;if(_!==h[0]&&(_=this.sqr(_)),A===0&&g===0){u=0;continue}g<<=1,g|=A,u++,!(u!==c&&(d!==0||S!==0))&&(_=this.mul(_,h[g]),u=0,g=0)}a=26}return _},ee.prototype.convertTo=function(i){var f=i.umod(this.m);return f===i?f.clone():f},ee.prototype.convertFrom=function(i){var f=i.clone();return f.red=null,f},o.mont=function(i){return new P(i)};function P(l){ee.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(P,ee),P.prototype.convertTo=function(i){return this.imod(i.ushln(this.shift))},P.prototype.convertFrom=function(i){var f=this.imod(i.mul(this.rinv));return f.red=null,f},P.prototype.imul=function(i,f){if(i.isZero()||f.isZero())return i.words[0]=0,i.length=1,i;var c=i.imul(f),h=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=c.isub(h).iushrn(this.shift),_=d;return d.cmp(this.m)>=0?_=d.isub(this.m):d.cmpn(0)<0&&(_=d.iadd(this.m)),_._forceRed(this)},P.prototype.mul=function(i,f){if(i.isZero()||f.isZero())return new o(0)._forceRed(this);var c=i.mul(f),h=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=c.isub(h).iushrn(this.shift),_=d;return d.cmp(this.m)>=0?_=d.isub(this.m):d.cmpn(0)<0&&(_=d.iadd(this.m)),_._forceRed(this)},P.prototype.invm=function(i){var f=this.imod(i._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(e,Oe)})(Ko);var dr=Ko.exports,S0=Do().ec,zo=new S0("secp256k1"),Tr=zo.curve;un.privateKeyExport=function(e,t){var r=new dr(e);if(r.ucmp(Tr.n)>=0)throw new Error("couldn't export to DER format");var n=zo.g.mul(r);return yf(n.getX(),n.getY(),t)};un.privateKeyModInverse=function(e){var t=new dr(e);if(t.ucmp(Tr.n)>=0||t.isZero())throw new Error("private key range is invalid");return t.invm(Tr.n).toArrayLike(j.Buffer,"be",32)};un.signatureImport=function(e){var t=new dr(e.r);t.ucmp(Tr.n)>=0&&(t=new dr(0));var r=new dr(e.s);return r.ucmp(Tr.n)>=0&&(r=new dr(0)),j.Buffer.concat([t.toArrayLike(j.Buffer,"be",32),r.toArrayLike(j.Buffer,"be",32)])};un.ecdhUnsafe=function(e,t,r){var n=zo.keyFromPublic(e),s=new dr(t);if(s.ucmp(Tr.n)>=0||s.isZero())throw new Error("scalar was invalid (zero or overflow)");var o=n.pub.mul(s);return yf(o.getX(),o.getY(),r)};var yf=function(t,r,n){var s=void 0;return n?(s=j.Buffer.alloc(33),s[0]=r.isOdd()?3:2,t.toArrayLike(j.Buffer,"be",32).copy(s,1)):(s=j.Buffer.alloc(65),s[0]=4,t.toArrayLike(j.Buffer,"be",32).copy(s,1),r.toArrayLike(j.Buffer,"be",32).copy(s,33)),s},Vn={},A0=j.Buffer.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),T0=j.Buffer.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);Vn.privateKeyExport=function(e,t,r){var n=j.Buffer.from(r?A0:T0);return e.copy(n,r?8:9),t.copy(n,r?181:214),n};Vn.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||e[r]!==48||(r+=1,t<r+1||!(e[r]&128)))return null;var n=e[r]&127;if(r+=1,n<1||n>2||t<r+n)return null;var s=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return r+=n,t<r+s||t<r+3||e[r]!==2||e[r+1]!==1||e[r+2]!==1||(r+=3,t<r+2||e[r]!==4||e[r+1]>32||t<r+2+e[r+1])?null:e.slice(r+2,r+2+e[r+1])};Vn.signatureImportLax=function(e){var t=j.Buffer.alloc(32,0),r=j.Buffer.alloc(32,0),n=e.length,s=0;if(e[s++]!==48)return null;var o=e[s++];if(o&128&&(s+=o-128,s>n)||e[s++]!==2)return null;var p=e[s++];if(p&128){if(o=p-128,s+o>n)return null;for(;o>0&&e[s]===0;s+=1,o-=1);for(p=0;o>0;s+=1,o-=1)p=(p<<8)+e[s]}if(p>n-s)return null;var m=s;if(s+=p,e[s++]!==2)return null;var y=e[s++];if(y&128){if(o=y-128,s+o>n)return null;for(;o>0&&e[s]===0;s+=1,o-=1);for(y=0;o>0;s+=1,o-=1)y=(y<<8)+e[s]}if(y>n-s)return null;var x=s;for(s+=y;p>0&&e[m]===0;p-=1,m+=1);if(p>32)return null;var w=e.slice(m,m+p);for(w.copy(t,32-w.length);y>0&&e[x]===0;y-=1,x+=1);if(y>32)return null;var E=e.slice(x,x+y);return E.copy(r,32-E.length),{r:t,s:r}};var st=jo,Zn=un,Wo=Vn,_f=function(t){return t.length!==32?!1:st.privateKeyVerify(Uint8Array.from(t))},R0=function(t,r){if(t.length!==32)throw new RangeError("private key length is invalid");var n=Zn.privateKeyExport(t,r);return Wo.privateKeyExport(t,n,r)},k0=function(t){if(t=Wo.privateKeyImport(t),t!==null&&t.length===32&&_f(t))return t;throw new Error("couldn't import from DER format")},C0=function(t){return j.Buffer.from(st.privateKeyNegate(Uint8Array.from(t)))},O0=function(t){if(t.length!==32)throw new Error("private key length is invalid");return j.Buffer.from(Zn.privateKeyModInverse(Uint8Array.from(t)))},P0=function(t,r){return j.Buffer.from(st.privateKeyTweakAdd(Uint8Array.from(t),r))},I0=function(t,r){return j.Buffer.from(st.privateKeyTweakMul(Uint8Array.from(t),Uint8Array.from(r)))},B0=function(t,r){return j.Buffer.from(st.publicKeyCreate(Uint8Array.from(t),r))},L0=function(t,r){return j.Buffer.from(st.publicKeyConvert(Uint8Array.from(t),r))},N0=function(t){return t.length!==33&&t.length!==65?!1:st.publicKeyVerify(Uint8Array.from(t))},q0=function(t,r,n){return j.Buffer.from(st.publicKeyTweakAdd(Uint8Array.from(t),Uint8Array.from(r),n))},U0=function(t,r,n){return j.Buffer.from(st.publicKeyTweakMul(Uint8Array.from(t),Uint8Array.from(r),n))},D0=function(t,r){var n=[];return t.forEach(function(s){n.push(Uint8Array.from(s))}),j.Buffer.from(st.publicKeyCombine(n,r))},$0=function(t){return j.Buffer.from(st.signatureNormalize(Uint8Array.from(t)))},H0=function(t){return j.Buffer.from(st.signatureExport(Uint8Array.from(t)))},F0=function(t){return j.Buffer.from(st.signatureImport(Uint8Array.from(t)))},j0=function(t){if(t.length===0)throw new RangeError("signature length is invalid");var r=Wo.signatureImportLax(t);if(r===null)throw new Error("couldn't parse DER signature");return Zn.signatureImport(r)},K0=function(t,r,n){if(n===null)throw new TypeError("options should be an Object");var s=void 0;if(n){if(s={},n.data===null)throw new TypeError("options.data should be a Buffer");if(n.data){if(n.data.length!==32)throw new RangeError("options.data length is invalid");s.data=new Uint8Array(n.data)}if(n.noncefn===null)throw new TypeError("options.noncefn should be a Function");n.noncefn&&(s.noncefn=function(p,m,y,x,w){var E=y!=null?j.Buffer.from(y):null,C=x!=null?j.Buffer.from(x):null,B=j.Buffer.from("");return n.noncefn&&(B=n.noncefn(j.Buffer.from(p),j.Buffer.from(m),E,C,w)),Uint8Array.from(B)})}var o=st.ecdsaSign(Uint8Array.from(t),Uint8Array.from(r),s);return{signature:j.Buffer.from(o.signature),recovery:o.recid}},z0=function(t,r,n){return st.ecdsaVerify(Uint8Array.from(r),Uint8Array.from(t),n)},W0=function(t,r,n,s){return j.Buffer.from(st.ecdsaRecover(Uint8Array.from(r),n,Uint8Array.from(t),s))},G0=function(t,r){return j.Buffer.from(st.ecdh(Uint8Array.from(t),Uint8Array.from(r),{}))},V0=function(t,r,n){if(t.length!==33&&t.length!==65)throw new RangeError("public key length is invalid");if(r.length!==32)throw new RangeError("private key length is invalid");return j.Buffer.from(Zn.ecdhUnsafe(Uint8Array.from(t),Uint8Array.from(r),n))},Z0={privateKeyVerify:_f,privateKeyExport:R0,privateKeyImport:k0,privateKeyNegate:C0,privateKeyModInverse:O0,privateKeyTweakAdd:P0,privateKeyTweakMul:I0,publicKeyCreate:B0,publicKeyConvert:L0,publicKeyVerify:N0,publicKeyTweakAdd:q0,publicKeyTweakMul:U0,publicKeyCombine:D0,signatureNormalize:$0,signatureExport:H0,signatureImport:F0,signatureImportLax:j0,sign:K0,verify:z0,recover:W0,ecdh:G0,ecdhUnsafe:V0},yi={exports:{}},_i={},Ha;function wf(){if(Ha)return _i;Ha=1;function e(T){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(O){return typeof O}:e=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},e(T)}function t(T,M){if(!(T instanceof M))throw new TypeError("Cannot call a class as a function")}function r(T,M){return M&&(e(M)==="object"||typeof M=="function")?M:n(T)}function n(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function s(T){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},s(T)}function o(T,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(M&&M.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),M&&p(T,M)}function p(T,M){return p=Object.setPrototypeOf||function(k,L){return k.__proto__=L,k},p(T,M)}var m={},y,x;function w(T,M,O){O||(O=Error);function k(D,F,V){return typeof M=="string"?M:M(D,F,V)}var L=function(D){o(F,D);function F(V,te,X){var ee;return t(this,F),ee=r(this,s(F).call(this,k(V,te,X))),ee.code=T,ee}return F}(O);m[T]=L}function E(T,M){if(Array.isArray(T)){var O=T.length;return T=T.map(function(k){return String(k)}),O>2?"one of ".concat(M," ").concat(T.slice(0,O-1).join(", "),", or ")+T[O-1]:O===2?"one of ".concat(M," ").concat(T[0]," or ").concat(T[1]):"of ".concat(M," ").concat(T[0])}else return"of ".concat(M," ").concat(String(T))}function C(T,M,O){return T.substr(!O||O<0?0:+O,M.length)===M}function B(T,M,O){return(O===void 0||O>T.length)&&(O=T.length),T.substring(O-M.length,O)===M}function b(T,M,O){return typeof O!="number"&&(O=0),O+M.length>T.length?!1:T.indexOf(M,O)!==-1}return w("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),w("ERR_INVALID_ARG_TYPE",function(T,M,O){y===void 0&&(y=Qr()),y(typeof T=="string","'name' must be a string");var k;typeof M=="string"&&C(M,"not ")?(k="must not be",M=M.replace(/^not /,"")):k="must be";var L;if(B(T," argument"))L="The ".concat(T," ").concat(k," ").concat(E(M,"type"));else{var D=b(T,".")?"property":"argument";L='The "'.concat(T,'" ').concat(D," ").concat(k," ").concat(E(M,"type"))}return L+=". Received type ".concat(e(O)),L},TypeError),w("ERR_INVALID_ARG_VALUE",function(T,M){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";x===void 0&&(x=Ft);var k=x.inspect(M);return k.length>128&&(k="".concat(k.slice(0,128),"...")),"The argument '".concat(T,"' ").concat(O,". Received ").concat(k)},TypeError),w("ERR_INVALID_RETURN_VALUE",function(T,M,O){var k;return O&&O.constructor&&O.constructor.name?k="instance of ".concat(O.constructor.name):k="type ".concat(e(O)),"Expected ".concat(T,' to be returned from the "').concat(M,'"')+" function but got ".concat(k,".")},TypeError),w("ERR_MISSING_ARGS",function(){for(var T=arguments.length,M=new Array(T),O=0;O<T;O++)M[O]=arguments[O];y===void 0&&(y=Qr()),y(M.length>0,"At least one arg needs to be specified");var k="The ",L=M.length;switch(M=M.map(function(D){return'"'.concat(D,'"')}),L){case 1:k+="".concat(M[0]," argument");break;case 2:k+="".concat(M[0]," and ").concat(M[1]," arguments");break;default:k+=M.slice(0,L-1).join(", "),k+=", and ".concat(M[L-1]," arguments");break}return"".concat(k," must be specified")},TypeError),_i.codes=m,_i}var wi,Fa;function Y0(){if(Fa)return wi;Fa=1;function e(h){for(var d=1;d<arguments.length;d++){var _=arguments[d]!=null?arguments[d]:{},g=Object.keys(_);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(_).filter(function(u){return Object.getOwnPropertyDescriptor(_,u).enumerable}))),g.forEach(function(u){t(h,u,_[u])})}return h}function t(h,d,_){return d in h?Object.defineProperty(h,d,{value:_,enumerable:!0,configurable:!0,writable:!0}):h[d]=_,h}function r(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function n(h,d){for(var _=0;_<d.length;_++){var g=d[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}function s(h,d,_){return d&&n(h.prototype,d),_&&n(h,_),h}function o(h,d){return d&&(b(d)==="object"||typeof d=="function")?d:p(h)}function p(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function m(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(d&&d.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),d&&C(h,d)}function y(h){var d=typeof Map=="function"?new Map:void 0;return y=function(g){if(g===null||!E(g))return g;if(typeof g!="function")throw new TypeError("Super expression must either be null or a function");if(typeof d<"u"){if(d.has(g))return d.get(g);d.set(g,u)}function u(){return w(g,arguments,B(this).constructor)}return u.prototype=Object.create(g.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),C(u,g)},y(h)}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function w(h,d,_){return x()?w=Reflect.construct:w=function(u,a,v){var S=[null];S.push.apply(S,a);var A=Function.bind.apply(u,S),I=new A;return v&&C(I,v.prototype),I},w.apply(null,arguments)}function E(h){return Function.toString.call(h).indexOf("[native code]")!==-1}function C(h,d){return C=Object.setPrototypeOf||function(g,u){return g.__proto__=u,g},C(h,d)}function B(h){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},B(h)}function b(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(_){return typeof _}:b=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},b(h)}var T=Ft,M=T.inspect,O=wf(),k=O.codes.ERR_INVALID_ARG_TYPE;function L(h,d,_){return(_===void 0||_>h.length)&&(_=h.length),h.substring(_-d.length,_)===d}function D(h,d){if(d=Math.floor(d),h.length==0||d==0)return"";var _=h.length*d;for(d=Math.floor(Math.log(d)/Math.log(2));d;)h+=h,d--;return h+=h.substring(0,_-h.length),h}var F="",V="",te="",X="",ee={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},P=10;function l(h){var d=Object.keys(h),_=Object.create(Object.getPrototypeOf(h));return d.forEach(function(g){_[g]=h[g]}),Object.defineProperty(_,"message",{value:h.message}),_}function i(h){return M(h,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function f(h,d,_){var g="",u="",a=0,v="",S=!1,A=i(h),I=A.split(`
`),q=i(d).split(`
`),$=0,W="";if(_==="strictEqual"&&b(h)==="object"&&b(d)==="object"&&h!==null&&d!==null&&(_="strictEqualObject"),I.length===1&&q.length===1&&I[0]!==q[0]){var oe=I[0].length+q[0].length;if(oe<=P){if((b(h)!=="object"||h===null)&&(b(d)!=="object"||d===null)&&(h!==0||d!==0))return"".concat(ee[_],`

`)+"".concat(I[0]," !== ").concat(q[0],`
`)}else if(_!=="strictEqualObject"){var G=Ze.exports.stderr&&Ze.exports.stderr.isTTY?Ze.exports.stderr.columns:80;if(oe<G){for(;I[0][$]===q[0][$];)$++;$>2&&(W=`
  `.concat(D(" ",$),"^"),$=0)}}}for(var se=I[I.length-1],Re=q[q.length-1];se===Re&&($++<2?v=`
  `.concat(se).concat(v):g=se,I.pop(),q.pop(),!(I.length===0||q.length===0));)se=I[I.length-1],Re=q[q.length-1];var ie=Math.max(I.length,q.length);if(ie===0){var pe=A.split(`
`);if(pe.length>30)for(pe[26]="".concat(F,"...").concat(X);pe.length>27;)pe.pop();return"".concat(ee.notIdentical,`

`).concat(pe.join(`
`),`
`)}$>3&&(v=`
`.concat(F,"...").concat(X).concat(v),S=!0),g!==""&&(v=`
  `.concat(g).concat(v),g="");var ke=0,ae=ee[_]+`
`.concat(V,"+ actual").concat(X," ").concat(te,"- expected").concat(X),Ae=" ".concat(F,"...").concat(X," Lines skipped");for($=0;$<ie;$++){var qe=$-a;if(I.length<$+1)qe>1&&$>2&&(qe>4?(u+=`
`.concat(F,"...").concat(X),S=!0):qe>3&&(u+=`
  `.concat(q[$-2]),ke++),u+=`
  `.concat(q[$-1]),ke++),a=$,g+=`
`.concat(te,"-").concat(X," ").concat(q[$]),ke++;else if(q.length<$+1)qe>1&&$>2&&(qe>4?(u+=`
`.concat(F,"...").concat(X),S=!0):qe>3&&(u+=`
  `.concat(I[$-2]),ke++),u+=`
  `.concat(I[$-1]),ke++),a=$,u+=`
`.concat(V,"+").concat(X," ").concat(I[$]),ke++;else{var ue=q[$],Ee=I[$],Fe=Ee!==ue&&(!L(Ee,",")||Ee.slice(0,-1)!==ue);Fe&&L(ue,",")&&ue.slice(0,-1)===Ee&&(Fe=!1,Ee+=","),Fe?(qe>1&&$>2&&(qe>4?(u+=`
`.concat(F,"...").concat(X),S=!0):qe>3&&(u+=`
  `.concat(I[$-2]),ke++),u+=`
  `.concat(I[$-1]),ke++),a=$,u+=`
`.concat(V,"+").concat(X," ").concat(Ee),g+=`
`.concat(te,"-").concat(X," ").concat(ue),ke+=2):(u+=g,g="",(qe===1||$===0)&&(u+=`
  `.concat(Ee),ke++))}if(ke>20&&$<ie-2)return"".concat(ae).concat(Ae,`
`).concat(u,`
`).concat(F,"...").concat(X).concat(g,`
`)+"".concat(F,"...").concat(X)}return"".concat(ae).concat(S?Ae:"",`
`).concat(u).concat(g).concat(v).concat(W)}var c=function(h){m(d,h);function d(_){var g;if(r(this,d),b(_)!=="object"||_===null)throw new k("options","Object",_);var u=_.message,a=_.operator,v=_.stackStartFn,S=_.actual,A=_.expected,I=Error.stackTraceLimit;if(Error.stackTraceLimit=0,u!=null)g=o(this,B(d).call(this,String(u)));else if(Ze.exports.stderr&&Ze.exports.stderr.isTTY&&(Ze.exports.stderr&&Ze.exports.stderr.getColorDepth&&Ze.exports.stderr.getColorDepth()!==1?(F="\x1B[34m",V="\x1B[32m",X="\x1B[39m",te="\x1B[31m"):(F="",V="",X="",te="")),b(S)==="object"&&S!==null&&b(A)==="object"&&A!==null&&"stack"in S&&S instanceof Error&&"stack"in A&&A instanceof Error&&(S=l(S),A=l(A)),a==="deepStrictEqual"||a==="strictEqual")g=o(this,B(d).call(this,f(S,A,a)));else if(a==="notDeepStrictEqual"||a==="notStrictEqual"){var q=ee[a],$=i(S).split(`
`);if(a==="notStrictEqual"&&b(S)==="object"&&S!==null&&(q=ee.notStrictEqualObject),$.length>30)for($[26]="".concat(F,"...").concat(X);$.length>27;)$.pop();$.length===1?g=o(this,B(d).call(this,"".concat(q," ").concat($[0]))):g=o(this,B(d).call(this,"".concat(q,`

`).concat($.join(`
`),`
`)))}else{var W=i(S),oe="",G=ee[a];a==="notDeepEqual"||a==="notEqual"?(W="".concat(ee[a],`

`).concat(W),W.length>1024&&(W="".concat(W.slice(0,1021),"..."))):(oe="".concat(i(A)),W.length>512&&(W="".concat(W.slice(0,509),"...")),oe.length>512&&(oe="".concat(oe.slice(0,509),"...")),a==="deepEqual"||a==="equal"?W="".concat(G,`

`).concat(W,`

should equal

`):oe=" ".concat(a," ").concat(oe)),g=o(this,B(d).call(this,"".concat(W).concat(oe)))}return Error.stackTraceLimit=I,g.generatedMessage=!u,Object.defineProperty(p(g),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),g.code="ERR_ASSERTION",g.actual=S,g.expected=A,g.operator=a,Error.captureStackTrace&&Error.captureStackTrace(p(g),v),g.stack,g.name="AssertionError",o(g)}return s(d,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:M.custom,value:function(g,u){return M(this,e({},u,{customInspect:!1,depth:0}))}}]),d}(y(Error));return wi=c,wi}var xi,ja;function J0(){if(ja)return xi;ja=1;function e(r,n){if(r==null)throw new TypeError("Cannot convert first argument to object");for(var s=Object(r),o=1;o<arguments.length;o++){var p=arguments[o];if(p!=null)for(var m=Object.keys(Object(p)),y=0,x=m.length;y<x;y++){var w=m[y],E=Object.getOwnPropertyDescriptor(p,w);E!==void 0&&E.enumerable&&(s[w]=p[w])}}return s}function t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}return xi={assign:e,polyfill:t},xi}var bi,Ka;function xf(){if(Ka)return bi;Ka=1;var e=Object.prototype.toString;return bi=function(r){var n=e.call(r),s=n==="[object Arguments]";return s||(s=n!=="[object Array]"&&r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&e.call(r.callee)==="[object Function]"),s},bi}var Mi,za;function X0(){if(za)return Mi;za=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=xf(),s=Object.prototype.propertyIsEnumerable,o=!s.call({toString:null},"toString"),p=s.call(function(){},"prototype"),m=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],y=function(C){var B=C.constructor;return B&&B.prototype===C},x={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},w=function(){if(typeof window>"u")return!1;for(var C in window)try{if(!x["$"+C]&&t.call(window,C)&&window[C]!==null&&typeof window[C]=="object")try{y(window[C])}catch{return!0}}catch{return!0}return!1}(),E=function(C){if(typeof window>"u"||!w)return y(C);try{return y(C)}catch{return!1}};e=function(B){var b=B!==null&&typeof B=="object",T=r.call(B)==="[object Function]",M=n(B),O=b&&r.call(B)==="[object String]",k=[];if(!b&&!T&&!M)throw new TypeError("Object.keys called on a non-object");var L=p&&T;if(O&&B.length>0&&!t.call(B,0))for(var D=0;D<B.length;++D)k.push(String(D));if(M&&B.length>0)for(var F=0;F<B.length;++F)k.push(String(F));else for(var V in B)!(L&&V==="prototype")&&t.call(B,V)&&k.push(String(V));if(o)for(var te=E(B),X=0;X<m.length;++X)!(te&&m[X]==="constructor")&&t.call(B,m[X])&&k.push(m[X]);return k}}return Mi=e,Mi}var Ei,Wa;function Q0(){if(Wa)return Ei;Wa=1;var e=Array.prototype.slice,t=xf(),r=Object.keys,n=r?function(p){return r(p)}:X0(),s=Object.keys;return n.shim=function(){if(Object.keys){var p=function(){var m=Object.keys(arguments);return m&&m.length===arguments.length}(1,2);p||(Object.keys=function(y){return t(y)?s(e.call(y)):s(y)})}else Object.keys=n;return Object.keys||n},Ei=n,Ei}var Si,Ga;function ec(){if(Ga)return Si;Ga=1;var e=f0,t=e("%Object.defineProperty%",!0),r=function(){if(t)try{return t({},"a",{value:1}),!0}catch{return!1}return!1};return r.hasArrayLengthDefineBug=function(){if(!r())return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Si=r,Si}var Ai,Va;function Yn(){if(Va)return Ai;Va=1;var e=Q0(),t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,n=Array.prototype.concat,s=Object.defineProperty,o=function(w){return typeof w=="function"&&r.call(w)==="[object Function]"},p=ec()(),m=s&&p,y=function(w,E,C,B){E in w&&(!o(B)||!B())||(m?s(w,E,{configurable:!0,enumerable:!1,value:C,writable:!0}):w[E]=C)},x=function(w,E){var C=arguments.length>2?arguments[2]:{},B=e(E);t&&(B=n.call(B,Object.getOwnPropertySymbols(E)));for(var b=0;b<B.length;b+=1)y(w,B[b],E[B[b]],C[B[b]])};return x.supportsDescriptors=!!m,Ai=x,Ai}var Ti,Za;function bf(){if(Za)return Ti;Za=1;var e=function(t){return t!==t};return Ti=function(r,n){return r===0&&n===0?1/r===1/n:!!(r===n||e(r)&&e(n))},Ti}var Ri,Ya;function Mf(){if(Ya)return Ri;Ya=1;var e=bf();return Ri=function(){return typeof Object.is=="function"?Object.is:e},Ri}var ki,Ja;function tc(){if(Ja)return ki;Ja=1;var e=Mf(),t=Yn();return ki=function(){var n=e();return t(Object,{is:n},{is:function(){return Object.is!==n}}),n},ki}var Ci,Xa;function Ef(){if(Xa)return Ci;Xa=1;var e=Yn(),t=hf(),r=bf(),n=Mf(),s=tc(),o=t(n(),Object);return e(o,{getPolyfill:n,implementation:r,shim:s}),Ci=o,Ci}var Oi,Qa;function Sf(){return Qa||(Qa=1,Oi=function(t){return t!==t}),Oi}var Pi,es;function Af(){if(es)return Pi;es=1;var e=Sf();return Pi=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},Pi}var Ii,ts;function rc(){if(ts)return Ii;ts=1;var e=Yn(),t=Af();return Ii=function(){var n=t();return e(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},Ii}var Bi,rs;function nc(){if(rs)return Bi;rs=1;var e=hf(),t=Yn(),r=Sf(),n=Af(),s=rc(),o=e(n(),Number);return t(o,{getPolyfill:n,implementation:r,shim:s}),Bi=o,Bi}var Li,ns;function ic(){if(ns)return Li;ns=1;function e(U,K){return n(U)||r(U,K)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function r(U,K){var R=[],H=!0,N=!1,z=void 0;try{for(var Z=U[Symbol.iterator](),le;!(H=(le=Z.next()).done)&&(R.push(le.value),!(K&&R.length===K));H=!0);}catch(Y){N=!0,z=Y}finally{try{!H&&Z.return!=null&&Z.return()}finally{if(N)throw z}}return R}function n(U){if(Array.isArray(U))return U}function s(U){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(R){return typeof R}:s=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},s(U)}var o=/a/g.flags!==void 0,p=function(K){var R=[];return K.forEach(function(H){return R.push(H)}),R},m=function(K){var R=[];return K.forEach(function(H,N){return R.push([N,H])}),R},y=Object.is?Object.is:Ef(),x=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},w=Number.isNaN?Number.isNaN:nc();function E(U){return U.call.bind(U)}var C=E(Object.prototype.hasOwnProperty),B=E(Object.prototype.propertyIsEnumerable),b=E(Object.prototype.toString),T=Ft.types,M=T.isAnyArrayBuffer,O=T.isArrayBufferView,k=T.isDate,L=T.isMap,D=T.isRegExp,F=T.isSet,V=T.isNativeError,te=T.isBoxedPrimitive,X=T.isNumberObject,ee=T.isStringObject,P=T.isBooleanObject,l=T.isBigIntObject,i=T.isSymbolObject,f=T.isFloat32Array,c=T.isFloat64Array;function h(U){if(U.length===0||U.length>10)return!0;for(var K=0;K<U.length;K++){var R=U.charCodeAt(K);if(R<48||R>57)return!0}return U.length===10&&U>=Math.pow(2,32)}function d(U){return Object.keys(U).filter(h).concat(x(U).filter(Object.prototype.propertyIsEnumerable.bind(U)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function _(U,K){if(U===K)return 0;for(var R=U.length,H=K.length,N=0,z=Math.min(R,H);N<z;++N)if(U[N]!==K[N]){R=U[N],H=K[N];break}return R<H?-1:H<R?1:0}var g=!0,u=!1,a=0,v=1,S=2,A=3;function I(U,K){return o?U.source===K.source&&U.flags===K.flags:RegExp.prototype.toString.call(U)===RegExp.prototype.toString.call(K)}function q(U,K){if(U.byteLength!==K.byteLength)return!1;for(var R=0;R<U.byteLength;R++)if(U[R]!==K[R])return!1;return!0}function $(U,K){return U.byteLength!==K.byteLength?!1:_(new Uint8Array(U.buffer,U.byteOffset,U.byteLength),new Uint8Array(K.buffer,K.byteOffset,K.byteLength))===0}function W(U,K){return U.byteLength===K.byteLength&&_(new Uint8Array(U),new Uint8Array(K))===0}function oe(U,K){return X(U)?X(K)&&y(Number.prototype.valueOf.call(U),Number.prototype.valueOf.call(K)):ee(U)?ee(K)&&String.prototype.valueOf.call(U)===String.prototype.valueOf.call(K):P(U)?P(K)&&Boolean.prototype.valueOf.call(U)===Boolean.prototype.valueOf.call(K):l(U)?l(K)&&BigInt.prototype.valueOf.call(U)===BigInt.prototype.valueOf.call(K):i(K)&&Symbol.prototype.valueOf.call(U)===Symbol.prototype.valueOf.call(K)}function G(U,K,R,H){if(U===K)return U!==0?!0:R?y(U,K):!0;if(R){if(s(U)!=="object")return typeof U=="number"&&w(U)&&w(K);if(s(K)!=="object"||U===null||K===null||Object.getPrototypeOf(U)!==Object.getPrototypeOf(K))return!1}else{if(U===null||s(U)!=="object")return K===null||s(K)!=="object"?U==K:!1;if(K===null||s(K)!=="object")return!1}var N=b(U),z=b(K);if(N!==z)return!1;if(Array.isArray(U)){if(U.length!==K.length)return!1;var Z=d(U),le=d(K);return Z.length!==le.length?!1:Re(U,K,R,H,v,Z)}if(N==="[object Object]"&&(!L(U)&&L(K)||!F(U)&&F(K)))return!1;if(k(U)){if(!k(K)||Date.prototype.getTime.call(U)!==Date.prototype.getTime.call(K))return!1}else if(D(U)){if(!D(K)||!I(U,K))return!1}else if(V(U)||U instanceof Error){if(U.message!==K.message||U.name!==K.name)return!1}else if(O(U)){if(!R&&(f(U)||c(U))){if(!q(U,K))return!1}else if(!$(U,K))return!1;var Y=d(U),J=d(K);return Y.length!==J.length?!1:Re(U,K,R,H,a,Y)}else{if(F(U))return!F(K)||U.size!==K.size?!1:Re(U,K,R,H,S);if(L(U))return!L(K)||U.size!==K.size?!1:Re(U,K,R,H,A);if(M(U)){if(!W(U,K))return!1}else if(te(U)&&!oe(U,K))return!1}return Re(U,K,R,H,a)}function se(U,K){return K.filter(function(R){return B(U,R)})}function Re(U,K,R,H,N,z){if(arguments.length===5){z=Object.keys(U);var Z=Object.keys(K);if(z.length!==Z.length)return!1}for(var le=0;le<z.length;le++)if(!C(K,z[le]))return!1;if(R&&arguments.length===5){var Y=x(U);if(Y.length!==0){var J=0;for(le=0;le<Y.length;le++){var Ce=Y[le];if(B(U,Ce)){if(!B(K,Ce))return!1;z.push(Ce),J++}else if(B(K,Ce))return!1}var re=x(K);if(Y.length!==re.length&&se(K,re).length!==J)return!1}else{var be=x(K);if(be.length!==0&&se(K,be).length!==0)return!1}}if(z.length===0&&(N===a||N===v&&U.length===0||U.size===0))return!0;if(H===void 0)H={val1:new Map,val2:new Map,position:0};else{var Ue=H.val1.get(U);if(Ue!==void 0){var ne=H.val2.get(K);if(ne!==void 0)return Ue===ne}H.position++}H.val1.set(U,H.position),H.val2.set(K,H.position);var ge=Ee(U,K,R,z,H,N);return H.val1.delete(U),H.val2.delete(K),ge}function ie(U,K,R,H){for(var N=p(U),z=0;z<N.length;z++){var Z=N[z];if(G(K,Z,R,H))return U.delete(Z),!0}return!1}function pe(U){switch(s(U)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":U=+U;case"number":if(w(U))return!1}return!0}function ke(U,K,R){var H=pe(R);return H??(K.has(H)&&!U.has(H))}function ae(U,K,R,H,N){var z=pe(R);if(z!=null)return z;var Z=K.get(z);return Z===void 0&&!K.has(z)||!G(H,Z,!1,N)?!1:!U.has(z)&&G(H,Z,!1,N)}function Ae(U,K,R,H){for(var N=null,z=p(U),Z=0;Z<z.length;Z++){var le=z[Z];if(s(le)==="object"&&le!==null)N===null&&(N=new Set),N.add(le);else if(!K.has(le)){if(R||!ke(U,K,le))return!1;N===null&&(N=new Set),N.add(le)}}if(N!==null){for(var Y=p(K),J=0;J<Y.length;J++){var Ce=Y[J];if(s(Ce)==="object"&&Ce!==null){if(!ie(N,Ce,R,H))return!1}else if(!R&&!U.has(Ce)&&!ie(N,Ce,R,H))return!1}return N.size===0}return!0}function qe(U,K,R,H,N,z){for(var Z=p(U),le=0;le<Z.length;le++){var Y=Z[le];if(G(R,Y,N,z)&&G(H,K.get(Y),N,z))return U.delete(Y),!0}return!1}function ue(U,K,R,H){for(var N=null,z=m(U),Z=0;Z<z.length;Z++){var le=e(z[Z],2),Y=le[0],J=le[1];if(s(Y)==="object"&&Y!==null)N===null&&(N=new Set),N.add(Y);else{var Ce=K.get(Y);if(Ce===void 0&&!K.has(Y)||!G(J,Ce,R,H)){if(R||!ae(U,K,Y,J,H))return!1;N===null&&(N=new Set),N.add(Y)}}}if(N!==null){for(var re=m(K),be=0;be<re.length;be++){var Ue=e(re[be],2),Y=Ue[0],ne=Ue[1];if(s(Y)==="object"&&Y!==null){if(!qe(N,U,Y,ne,R,H))return!1}else if(!R&&(!U.has(Y)||!G(U.get(Y),ne,!1,H))&&!qe(N,U,Y,ne,!1,H))return!1}return N.size===0}return!0}function Ee(U,K,R,H,N,z){var Z=0;if(z===S){if(!Ae(U,K,R,N))return!1}else if(z===A){if(!ue(U,K,R,N))return!1}else if(z===v)for(;Z<U.length;Z++)if(C(U,Z)){if(!C(K,Z)||!G(U[Z],K[Z],R,N))return!1}else{if(C(K,Z))return!1;for(var le=Object.keys(U);Z<le.length;Z++){var Y=le[Z];if(!C(K,Y)||!G(U[Y],K[Y],R,N))return!1}return le.length===Object.keys(K).length}for(Z=0;Z<H.length;Z++){var J=H[Z];if(!G(U[J],K[J],R,N))return!1}return!0}function Fe(U,K){return G(U,K,u)}function ve(U,K){return G(U,K,g)}return Li={isDeepEqual:Fe,isDeepStrictEqual:ve},Li}var is;function Qr(){if(is)return yi.exports;is=1;function e(v){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(A){return typeof A}:e=function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},e(v)}function t(v,S){if(!(v instanceof S))throw new TypeError("Cannot call a class as a function")}var r=wf(),n=r.codes,s=n.ERR_AMBIGUOUS_ARGUMENT,o=n.ERR_INVALID_ARG_TYPE,p=n.ERR_INVALID_ARG_VALUE,m=n.ERR_INVALID_RETURN_VALUE,y=n.ERR_MISSING_ARGS,x=Y0(),w=Ft,E=w.inspect,C=Ft.types,B=C.isPromise,b=C.isRegExp,T=Object.assign?Object.assign:J0().assign,M=Object.is?Object.is:Ef(),O,k;function L(){var v=ic();O=v.isDeepEqual,k=v.isDeepStrictEqual}var D=!1,F=yi.exports=P,V={};function te(v){throw v.message instanceof Error?v.message:new x(v)}function X(v,S,A,I,q){var $=arguments.length,W;if($===0)W="Failed";else if($===1)A=v,v=void 0;else{if(D===!1){D=!0;var oe=Ze.exports.emitWarning?Ze.exports.emitWarning:console.warn.bind(console);oe("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}$===2&&(I="!=")}if(A instanceof Error)throw A;var G={actual:v,expected:S,operator:I===void 0?"fail":I,stackStartFn:q||X};A!==void 0&&(G.message=A);var se=new x(G);throw W&&(se.message=W,se.generatedMessage=!0),se}F.fail=X,F.AssertionError=x;function ee(v,S,A,I){if(!A){var q=!1;if(S===0)q=!0,I="No value argument passed to `assert.ok()`";else if(I instanceof Error)throw I;var $=new x({actual:A,expected:!0,message:I,operator:"==",stackStartFn:v});throw $.generatedMessage=q,$}}function P(){for(var v=arguments.length,S=new Array(v),A=0;A<v;A++)S[A]=arguments[A];ee.apply(void 0,[P,S.length].concat(S))}F.ok=P,F.equal=function v(S,A,I){if(arguments.length<2)throw new y("actual","expected");S!=A&&te({actual:S,expected:A,message:I,operator:"==",stackStartFn:v})},F.notEqual=function v(S,A,I){if(arguments.length<2)throw new y("actual","expected");S==A&&te({actual:S,expected:A,message:I,operator:"!=",stackStartFn:v})},F.deepEqual=function v(S,A,I){if(arguments.length<2)throw new y("actual","expected");O===void 0&&L(),O(S,A)||te({actual:S,expected:A,message:I,operator:"deepEqual",stackStartFn:v})},F.notDeepEqual=function v(S,A,I){if(arguments.length<2)throw new y("actual","expected");O===void 0&&L(),O(S,A)&&te({actual:S,expected:A,message:I,operator:"notDeepEqual",stackStartFn:v})},F.deepStrictEqual=function v(S,A,I){if(arguments.length<2)throw new y("actual","expected");O===void 0&&L(),k(S,A)||te({actual:S,expected:A,message:I,operator:"deepStrictEqual",stackStartFn:v})},F.notDeepStrictEqual=l;function l(v,S,A){if(arguments.length<2)throw new y("actual","expected");O===void 0&&L(),k(v,S)&&te({actual:v,expected:S,message:A,operator:"notDeepStrictEqual",stackStartFn:l})}F.strictEqual=function v(S,A,I){if(arguments.length<2)throw new y("actual","expected");M(S,A)||te({actual:S,expected:A,message:I,operator:"strictEqual",stackStartFn:v})},F.notStrictEqual=function v(S,A,I){if(arguments.length<2)throw new y("actual","expected");M(S,A)&&te({actual:S,expected:A,message:I,operator:"notStrictEqual",stackStartFn:v})};var i=function v(S,A,I){var q=this;t(this,v),A.forEach(function($){$ in S&&(I!==void 0&&typeof I[$]=="string"&&b(S[$])&&S[$].test(I[$])?q[$]=I[$]:q[$]=S[$])})};function f(v,S,A,I,q,$){if(!(A in v)||!k(v[A],S[A])){if(!I){var W=new i(v,q),oe=new i(S,q,v),G=new x({actual:W,expected:oe,operator:"deepStrictEqual",stackStartFn:$});throw G.actual=v,G.expected=S,G.operator=$.name,G}te({actual:v,expected:S,message:I,operator:$.name,stackStartFn:$})}}function c(v,S,A,I){if(typeof S!="function"){if(b(S))return S.test(v);if(arguments.length===2)throw new o("expected",["Function","RegExp"],S);if(e(v)!=="object"||v===null){var q=new x({actual:v,expected:S,message:A,operator:"deepStrictEqual",stackStartFn:I});throw q.operator=I.name,q}var $=Object.keys(S);if(S instanceof Error)$.push("name","message");else if($.length===0)throw new p("error",S,"may not be an empty object");return O===void 0&&L(),$.forEach(function(W){typeof v[W]=="string"&&b(S[W])&&S[W].test(v[W])||f(v,S,W,A,$,I)}),!0}return S.prototype!==void 0&&v instanceof S?!0:Error.isPrototypeOf(S)?!1:S.call({},v)===!0}function h(v){if(typeof v!="function")throw new o("fn","Function",v);try{v()}catch(S){return S}return V}function d(v){return B(v)||v!==null&&e(v)==="object"&&typeof v.then=="function"&&typeof v.catch=="function"}function _(v){return Promise.resolve().then(function(){var S;if(typeof v=="function"){if(S=v(),!d(S))throw new m("instance of Promise","promiseFn",S)}else if(d(v))S=v;else throw new o("promiseFn",["Function","Promise"],v);return Promise.resolve().then(function(){return S}).then(function(){return V}).catch(function(A){return A})})}function g(v,S,A,I){if(typeof A=="string"){if(arguments.length===4)throw new o("error",["Object","Error","Function","RegExp"],A);if(e(S)==="object"&&S!==null){if(S.message===A)throw new s("error/message",'The error message "'.concat(S.message,'" is identical to the message.'))}else if(S===A)throw new s("error/message",'The error "'.concat(S,'" is identical to the message.'));I=A,A=void 0}else if(A!=null&&e(A)!=="object"&&typeof A!="function")throw new o("error",["Object","Error","Function","RegExp"],A);if(S===V){var q="";A&&A.name&&(q+=" (".concat(A.name,")")),q+=I?": ".concat(I):".";var $=v.name==="rejects"?"rejection":"exception";te({actual:void 0,expected:A,operator:v.name,message:"Missing expected ".concat($).concat(q),stackStartFn:v})}if(A&&!c(S,A,I,v))throw S}function u(v,S,A,I){if(S!==V){if(typeof A=="string"&&(I=A,A=void 0),!A||c(S,A)){var q=I?": ".concat(I):".",$=v.name==="doesNotReject"?"rejection":"exception";te({actual:S,expected:A,operator:v.name,message:"Got unwanted ".concat($).concat(q,`
`)+'Actual message: "'.concat(S&&S.message,'"'),stackStartFn:v})}throw S}}F.throws=function v(S){for(var A=arguments.length,I=new Array(A>1?A-1:0),q=1;q<A;q++)I[q-1]=arguments[q];g.apply(void 0,[v,h(S)].concat(I))},F.rejects=function v(S){for(var A=arguments.length,I=new Array(A>1?A-1:0),q=1;q<A;q++)I[q-1]=arguments[q];return _(S).then(function($){return g.apply(void 0,[v,$].concat(I))})},F.doesNotThrow=function v(S){for(var A=arguments.length,I=new Array(A>1?A-1:0),q=1;q<A;q++)I[q-1]=arguments[q];u.apply(void 0,[v,h(S)].concat(I))},F.doesNotReject=function v(S){for(var A=arguments.length,I=new Array(A>1?A-1:0),q=1;q<A;q++)I[q-1]=arguments[q];return _(S).then(function($){return u.apply(void 0,[v,$].concat(I))})},F.ifError=function v(S){if(S!=null){var A="ifError got unwanted exception: ";e(S)==="object"&&typeof S.message=="string"?S.message.length===0&&S.constructor?A+=S.constructor.name:A+=S.message:A+=E(S);var I=new x({actual:S,expected:null,operator:"ifError",message:A,stackStartFn:v}),q=S.stack;if(typeof q=="string"){var $=q.split(`
`);$.shift();for(var W=I.stack.split(`
`),oe=0;oe<$.length;oe++){var G=W.indexOf($[oe]);if(G!==-1){W=W.slice(0,G);break}}I.stack="".concat(W.join(`
`),`
`).concat($.join(`
`))}throw I}};function a(){for(var v=arguments.length,S=new Array(v),A=0;A<v;A++)S[A]=arguments[A];ee.apply(void 0,[a,S.length].concat(S))}return F.strict=T(a,F,{equal:F.strictEqual,deepEqual:F.deepStrictEqual,notEqual:F.notStrictEqual,notDeepEqual:F.notDeepStrictEqual}),F.strict.strict=F.strict,yi.exports}var qt={},oc=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qt,"__esModule",{value:!0});qt.getLength=qt.decode=qt.encode=void 0;var ac=oc(u0.exports);function Tf(e){if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(Tf(e[r]));var n=j.Buffer.concat(t);return j.Buffer.concat([os(n.length,192),n])}else{var s=Go(e);return s.length===1&&s[0]<128?s:j.Buffer.concat([os(s.length,128),s])}}qt.encode=Tf;function Qi(e,t){if(e[0]==="0"&&e[1]==="0")throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function os(e,t){if(e<56)return j.Buffer.from([e+t]);var r=to(e),n=r.length/2,s=to(t+55+n);return j.Buffer.from(s+r,"hex")}function sc(e,t){if(t===void 0&&(t=!1),!e||e.length===0)return j.Buffer.from([]);var r=Go(e),n=eo(r);if(t)return n;if(n.remainder.length!==0)throw new Error("invalid remainder");return n.data}qt.decode=sc;function fc(e){if(!e||e.length===0)return j.Buffer.from([]);var t=Go(e),r=t[0];if(r<=127)return t.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;var n=r-246,s=Qi(t.slice(1,n).toString("hex"),16);return n+s}qt.getLength=fc;function eo(e){var t,r,n,s,o,p=[],m=e[0];if(m<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(m<=183){if(t=m-127,m===128?n=j.Buffer.from([]):n=e.slice(1,t),t===2&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:e.slice(t)}}else if(m<=191){if(r=m-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=Qi(e.slice(1,r).toString("hex"),16),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(n=e.slice(r,t+r),n.length<t)throw new Error("invalid RLP: not enough bytes for string");return{data:n,remainder:e.slice(t+r)}}else if(m<=247){for(t=m-191,s=e.slice(1,t);s.length;)o=eo(s),p.push(o.data),s=o.remainder;return{data:p,remainder:e.slice(t)}}else{r=m-246,t=Qi(e.slice(1,r).toString("hex"),16);var y=r+t;if(y>e.length)throw new Error("invalid rlp: total length is larger than the data");if(s=e.slice(r,y),s.length===0)throw new Error("invalid rlp, List has a invalid length");for(;s.length;)o=eo(s),p.push(o.data),s=o.remainder;return{data:p,remainder:e.slice(y)}}}function Rf(e){return e.slice(0,2)==="0x"}function uc(e){return typeof e!="string"?e:Rf(e)?e.slice(2):e}function to(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function lc(e){return e.length%2?"0"+e:e}function cc(e){var t=to(e);return j.Buffer.from(t,"hex")}function Go(e){if(!j.Buffer.isBuffer(e)){if(typeof e=="string")return Rf(e)?j.Buffer.from(lc(uc(e)),"hex"):j.Buffer.from(e);if(typeof e=="number"||typeof e=="bigint")return e?cc(e):j.Buffer.from([]);if(e==null)return j.Buffer.from([]);if(e instanceof Uint8Array)return j.Buffer.from(e);if(ac.default.isBN(e))return j.Buffer.from(e.toArray());throw new Error("invalid type")}return e}var kf=function(t){if(typeof t!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return t.slice(0,2)==="0x"},hc=kf,dc=function(t){return typeof t!="string"?t:hc(t)?t.slice(2):t},pc=kf,Cf=dc;function Jn(e){var t=e;if(typeof t!="string")throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function Of(e){var t=e.toString(16);return"0x"+t}function vc(e){var t=Of(e);return new j.Buffer(Jn(t.slice(2)),"hex")}function gc(e){if(typeof e!="string")throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return j.Buffer.byteLength(e,"utf8")}function mc(e,t,r){if(Array.isArray(e)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(Array.isArray(t)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)&&"some"||"every"](function(n){return e.indexOf(n)>=0})}function yc(e){var t=new j.Buffer(Jn(Cf(e).replace(/^0+|0+$/g,"")),"hex");return t.toString("utf8")}function _c(e){var t="",r=0,n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var s=parseInt(e.substr(r,2),16);t+=String.fromCharCode(s)}return t}function wc(e){var t=new j.Buffer(e,"utf8");return"0x"+Jn(t.toString("hex")).replace(/^0+|0+$/g,"")}function xc(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r),s=n.toString(16);t+=s.length<2?"0"+s:s}return"0x"+t}function bc(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if(typeof t!="string")throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],s=0;s<e.length;s++){var o=e[s][t];if(r&&!o)o="";else if(typeof o!="string")throw new Error("invalid abi");n.push(o)}return n}function Mc(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}var Ur={arrayContainsArray:mc,intToBuffer:vc,getBinarySize:gc,isHexPrefixed:pc,stripHexPrefix:Cf,padToEven:Jn,intToHex:Of,fromAscii:xc,fromUtf8:wc,toAscii:_c,toUtf8:yc,getKeys:bc,isHexString:Mc};(function(e){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},r=mr,n=r.keccak224,s=r.keccak384,o=r.keccak256,p=r.keccak512,m=Z0,y=Qr(),x=qt,w=Ko.exports,E=df,C=l0.exports.Buffer;Object.assign(e,Ur),e.MAX_INTEGER=new w("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new w("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.SHA3_NULL_S=e.KECCAK256_NULL_S,e.KECCAK256_NULL=C.from(e.KECCAK256_NULL_S,"hex"),e.SHA3_NULL=e.KECCAK256_NULL,e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.SHA3_RLP_ARRAY_S=e.KECCAK256_RLP_ARRAY_S,e.KECCAK256_RLP_ARRAY=C.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.SHA3_RLP_ARRAY=e.KECCAK256_RLP_ARRAY,e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.SHA3_RLP_S=e.KECCAK256_RLP_S,e.KECCAK256_RLP=C.from(e.KECCAK256_RLP_S,"hex"),e.SHA3_RLP=e.KECCAK256_RLP,e.BN=w,e.rlp=x,e.secp256k1=m,e.zeros=function(b){return C.allocUnsafe(b).fill(0)},e.zeroAddress=function(){var b=20,T=e.zeros(b);return e.bufferToHex(T)},e.setLengthLeft=e.setLength=function(b,T,M){var O=e.zeros(T);return b=e.toBuffer(b),M?b.length<T?(b.copy(O),O):b.slice(0,T):b.length<T?(b.copy(O,T-b.length),O):b.slice(-T)},e.setLengthRight=function(b,T){return e.setLength(b,T,!0)},e.unpad=e.stripZeros=function(b){b=e.stripHexPrefix(b);for(var T=b[0];b.length>0&&T.toString()==="0";)b=b.slice(1),T=b[0];return b},e.toBuffer=function(b){if(!C.isBuffer(b))if(Array.isArray(b))b=C.from(b);else if(typeof b=="string")e.isHexString(b)?b=C.from(e.padToEven(e.stripHexPrefix(b)),"hex"):b=C.from(b);else if(typeof b=="number")b=e.intToBuffer(b);else if(b==null)b=C.allocUnsafe(0);else if(w.isBN(b))b=b.toArrayLike(C);else if(b.toArray)b=C.from(b.toArray());else throw new Error("invalid type");return b},e.bufferToInt=function(b){return new w(e.toBuffer(b)).toNumber()},e.bufferToHex=function(b){return b=e.toBuffer(b),"0x"+b.toString("hex")},e.fromSigned=function(b){return new w(b).fromTwos(256)},e.toUnsigned=function(b){return C.from(b.toTwos(256).toArray())},e.keccak=function(b,T){switch(b=e.toBuffer(b),T||(T=256),T){case 224:return n(b);case 256:return o(b);case 384:return s(b);case 512:return p(b);default:throw new Error("Invald algorithm: keccak"+T)}},e.keccak256=function(b){return e.keccak(b)},e.sha3=e.keccak,e.sha256=function(b){return b=e.toBuffer(b),E("sha256").update(b).digest()},e.ripemd160=function(b,T){b=e.toBuffer(b);var M=E("rmd160").update(b).digest();return T===!0?e.setLength(M,32):M},e.rlphash=function(b){return e.keccak(x.encode(b))},e.isValidPrivate=function(b){return m.privateKeyVerify(b)},e.isValidPublic=function(b,T){return b.length===64?m.publicKeyVerify(C.concat([C.from([4]),b])):T?m.publicKeyVerify(b):!1},e.pubToAddress=e.publicToAddress=function(b,T){return b=e.toBuffer(b),T&&b.length!==64&&(b=m.publicKeyConvert(b,!1).slice(1)),y(b.length===64),e.keccak(b).slice(-20)};var B=e.privateToPublic=function(b){return b=e.toBuffer(b),m.publicKeyCreate(b,!1).slice(1)};e.importPublic=function(b){return b=e.toBuffer(b),b.length!==64&&(b=m.publicKeyConvert(b,!1).slice(1)),b},e.ecsign=function(b,T){var M=m.sign(b,T),O={};return O.r=M.signature.slice(0,32),O.s=M.signature.slice(32,64),O.v=M.recovery+27,O},e.hashPersonalMessage=function(b){var T=e.toBuffer(`Ethereum Signed Message:
`+b.length.toString());return e.keccak(C.concat([T,b]))},e.ecrecover=function(b,T,M,O){var k=C.concat([e.setLength(M,32),e.setLength(O,32)],64),L=T-27;if(L!==0&&L!==1)throw new Error("Invalid signature v value");var D=m.recover(b,k,L);return m.publicKeyConvert(D,!1).slice(1)},e.toRpcSig=function(b,T,M){if(b!==27&&b!==28)throw new Error("Invalid recovery id");return e.bufferToHex(C.concat([e.setLengthLeft(T,32),e.setLengthLeft(M,32),e.toBuffer(b-27)]))},e.fromRpcSig=function(b){if(b=e.toBuffer(b),b.length!==65)throw new Error("Invalid signature length");var T=b[64];return T<27&&(T+=27),{v:T,r:b.slice(0,32),s:b.slice(32,64)}},e.privateToAddress=function(b){return e.publicToAddress(B(b))},e.isValidAddress=function(b){return/^0x[0-9a-fA-F]{40}$/.test(b)},e.isZeroAddress=function(b){var T=e.zeroAddress();return T===e.addHexPrefix(b)},e.toChecksumAddress=function(b){b=e.stripHexPrefix(b).toLowerCase();for(var T=e.keccak(b).toString("hex"),M="0x",O=0;O<b.length;O++)parseInt(T[O],16)>=8?M+=b[O].toUpperCase():M+=b[O];return M},e.isValidChecksumAddress=function(b){return e.isValidAddress(b)&&e.toChecksumAddress(b)===b},e.generateAddress=function(b,T){return b=e.toBuffer(b),T=new w(T),T.isZero()?T=null:T=C.from(T.toArray()),e.rlphash([b,T]).slice(-20)},e.isPrecompiled=function(b){var T=e.unpad(b);return T.length===1&&T[0]>=1&&T[0]<=8},e.addHexPrefix=function(b){return typeof b!="string"||e.isHexPrefixed(b)?b:"0x"+b},e.isValidSignature=function(b,T,M,O){var k=new w("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),L=new w("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return!(T.length!==32||M.length!==32||b!==27&&b!==28||(T=new w(T),M=new w(M),T.isZero()||T.gt(L)||M.isZero()||M.gt(L))||O===!1&&new w(M).cmp(k)===1)},e.baToJSON=function(b){if(C.isBuffer(b))return"0x"+b.toString("hex");if(b instanceof Array){for(var T=[],M=0;M<b.length;M++)T.push(e.baToJSON(b[M]));return T}},e.defineProperties=function(b,T,M){if(b.raw=[],b._fields=[],b.toJSON=function(k){if(k){var L={};return b._fields.forEach(function(D){L[D]="0x"+b[D].toString("hex")}),L}return e.baToJSON(this.raw)},b.serialize=function(){return x.encode(b.raw)},T.forEach(function(k,L){b._fields.push(k.name);function D(){return b.raw[L]}function F(V){V=e.toBuffer(V),V.toString("hex")==="00"&&!k.allowZero&&(V=C.allocUnsafe(0)),k.allowLess&&k.length?(V=e.stripZeros(V),y(k.length>=V.length,"The field "+k.name+" must not have more "+k.length+" bytes")):!(k.allowZero&&V.length===0)&&k.length&&y(k.length===V.length,"The field "+k.name+" must have byte length of "+k.length),b.raw[L]=V}Object.defineProperty(b,k.name,{enumerable:!0,configurable:!0,get:D,set:F}),k.default&&(b[k.name]=k.default),k.alias&&Object.defineProperty(b,k.alias,{enumerable:!1,configurable:!0,set:F,get:D})}),M)if(typeof M=="string"&&(M=C.from(e.stripHexPrefix(M),"hex")),C.isBuffer(M)&&(M=x.decode(M)),Array.isArray(M)){if(M.length>b._fields.length)throw new Error("wrong number of fields in data");M.forEach(function(k,L){b[b._fields[L]]=e.toBuffer(k)})}else if((typeof M>"u"?"undefined":t(M))==="object"){var O=Object.keys(M);T.forEach(function(k){O.indexOf(k.name)!==-1&&(b[k.name]=M[k.name]),O.indexOf(k.alias)!==-1&&(b[k.alias]=M[k.alias])})}else throw new Error("invalid data")}})(qr);var ro={exports:{}},no={exports:{}},Pn={exports:{}},Ec=typeof Oe=="object"&&Oe&&Oe.Object===Object&&Oe,Pf=Ec,Sc=Pf,Ac=typeof self=="object"&&self&&self.Object===Object&&self,Tc=Sc||Ac||Function("return this")(),If=Tc,Rc=If,kc=Rc.Symbol,Bf=kc,as=Bf,Lf=Object.prototype,Cc=Lf.hasOwnProperty,Oc=Lf.toString,Gr=as?as.toStringTag:void 0;function Pc(e){var t=Cc.call(e,Gr),r=e[Gr];try{e[Gr]=void 0;var n=!0}catch{}var s=Oc.call(e);return n&&(t?e[Gr]=r:delete e[Gr]),s}var Ic=Pc,Bc=Object.prototype,Lc=Bc.toString;function Nc(e){return Lc.call(e)}var qc=Nc,ss=Bf,Uc=Ic,Dc=qc,$c="[object Null]",Hc="[object Undefined]",fs=ss?ss.toStringTag:void 0;function Fc(e){return e==null?e===void 0?Hc:$c:fs&&fs in Object(e)?Uc(e):Dc(e)}var Vo=Fc;function jc(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Nf=jc,Kc=Vo,zc=Nf,Wc="[object AsyncFunction]",Gc="[object Function]",Vc="[object GeneratorFunction]",Zc="[object Proxy]";function Yc(e){if(!zc(e))return!1;var t=Kc(e);return t==Gc||t==Vc||t==Wc||t==Zc}var Jc=Yc,Xc=9007199254740991;function Qc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Xc}var qf=Qc,eh=Jc,th=qf;function rh(e){return e!=null&&th(e.length)&&!eh(e)}var Xn=rh,In={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default})(In,In.exports);var io={exports:{}},Bn={exports:{}};function nh(){}var ln=nh,en={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return function(){if(n!==null){var s=n;n=null,s.apply(this,arguments)}}}e.exports=t.default})(en,en.exports);var oo={exports:{}},ao={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n){return r&&n[r]&&n[r]()};var r=typeof Symbol=="function"&&Symbol.iterator;e.exports=t.default})(ao,ao.exports);function ih(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var oh=ih;function ah(e){return e!=null&&typeof e=="object"}var Zo=ah,sh=Vo,fh=Zo,uh="[object Arguments]";function lh(e){return fh(e)&&sh(e)==uh}var ch=lh,us=ch,hh=Zo,Uf=Object.prototype,dh=Uf.hasOwnProperty,ph=Uf.propertyIsEnumerable,vh=us(function(){return arguments}())?us:function(e){return hh(e)&&dh.call(e,"callee")&&!ph.call(e,"callee")},gh=vh,mh=Array.isArray,Df=mh,so={exports:{}};function yh(){return!1}var _h=yh;(function(e,t){var r=If,n=_h,s=t&&!t.nodeType&&t,o=s&&!0&&e&&!e.nodeType&&e,p=o&&o.exports===s,m=p?r.Buffer:void 0,y=m?m.isBuffer:void 0,x=y||n;e.exports=x})(so,so.exports);var wh=9007199254740991,xh=/^(?:0|[1-9]\d*)$/;function bh(e,t){var r=typeof e;return t=t??wh,!!t&&(r=="number"||r!="symbol"&&xh.test(e))&&e>-1&&e%1==0&&e<t}var Mh=bh,Eh=Vo,Sh=qf,Ah=Zo,Th="[object Arguments]",Rh="[object Array]",kh="[object Boolean]",Ch="[object Date]",Oh="[object Error]",Ph="[object Function]",Ih="[object Map]",Bh="[object Number]",Lh="[object Object]",Nh="[object RegExp]",qh="[object Set]",Uh="[object String]",Dh="[object WeakMap]",$h="[object ArrayBuffer]",Hh="[object DataView]",Fh="[object Float32Array]",jh="[object Float64Array]",Kh="[object Int8Array]",zh="[object Int16Array]",Wh="[object Int32Array]",Gh="[object Uint8Array]",Vh="[object Uint8ClampedArray]",Zh="[object Uint16Array]",Yh="[object Uint32Array]",nt={};nt[Fh]=nt[jh]=nt[Kh]=nt[zh]=nt[Wh]=nt[Gh]=nt[Vh]=nt[Zh]=nt[Yh]=!0;nt[Th]=nt[Rh]=nt[$h]=nt[kh]=nt[Hh]=nt[Ch]=nt[Oh]=nt[Ph]=nt[Ih]=nt[Bh]=nt[Lh]=nt[Nh]=nt[qh]=nt[Uh]=nt[Dh]=!1;function Jh(e){return Ah(e)&&Sh(e.length)&&!!nt[Eh(e)]}var Xh=Jh;function Qh(e){return function(t){return e(t)}}var ed=Qh,fo={exports:{}};(function(e,t){var r=Pf,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===n,p=o&&r.process,m=function(){try{var y=s&&s.require&&s.require("util").types;return y||p&&p.binding&&p.binding("util")}catch{}}();e.exports=m})(fo,fo.exports);var td=Xh,rd=ed,ls=fo.exports,cs=ls&&ls.isTypedArray,nd=cs?rd(cs):td,id=nd,od=oh,ad=gh,sd=Df,fd=so.exports,ud=Mh,ld=id,cd=Object.prototype,hd=cd.hasOwnProperty;function dd(e,t){var r=sd(e),n=!r&&ad(e),s=!r&&!n&&fd(e),o=!r&&!n&&!s&&ld(e),p=r||n||s||o,m=p?od(e.length,String):[],y=m.length;for(var x in e)(t||hd.call(e,x))&&!(p&&(x=="length"||s&&(x=="offset"||x=="parent")||o&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||ud(x,y)))&&m.push(x);return m}var pd=dd,vd=Object.prototype;function gd(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||vd;return e===r}var md=gd;function yd(e,t){return function(r){return e(t(r))}}var _d=yd,wd=_d,xd=wd(Object.keys,Object),bd=xd,Md=md,Ed=bd,Sd=Object.prototype,Ad=Sd.hasOwnProperty;function Td(e){if(!Md(e))return Ed(e);var t=[];for(var r in Object(e))Ad.call(e,r)&&r!="constructor"&&t.push(r);return t}var Rd=Td,kd=pd,Cd=Rd,Od=Xn;function Pd(e){return Od(e)?kd(e):Cd(e)}var Id=Pd;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=C;var r=Xn,n=y(r),s=ao.exports,o=y(s),p=Id,m=y(p);function y(B){return B&&B.__esModule?B:{default:B}}function x(B){var b=-1,T=B.length;return function(){return++b<T?{value:B[b],key:b}:null}}function w(B){var b=-1;return function(){var M=B.next();return M.done?null:(b++,{value:M.value,key:b})}}function E(B){var b=(0,m.default)(B),T=-1,M=b.length;return function O(){var k=b[++T];return k==="__proto__"?O():T<M?{value:B[k],key:k}:null}}function C(B){if((0,n.default)(B))return x(B);var b=(0,o.default)(B);return b?w(b):E(B)}e.exports=t.default})(oo,oo.exports);var tn={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return function(){if(n===null)throw new Error("Callback was already called.");var s=n;n=null,s.apply(this,arguments)}}e.exports=t.default})(tn,tn.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=B;var r=ln,n=C(r),s=en.exports,o=C(s),p=oo.exports,m=C(p),y=tn.exports,x=C(y),w=In.exports,E=C(w);function C(b){return b&&b.__esModule?b:{default:b}}function B(b){return function(T,M,O){if(O=(0,o.default)(O||n.default),b<=0||!T)return O(null);var k=(0,m.default)(T),L=!1,D=0,F=!1;function V(X,ee){if(D-=1,X)L=!0,O(X);else{if(ee===E.default||L&&D<=0)return L=!0,O(null);F||te()}}function te(){for(F=!0;D<b&&!L;){var X=k();if(X===null){L=!0,D<=0&&O(null);return}D+=1,M(X.value,X.key,(0,x.default)(V))}F=!1}te()}}e.exports=t.default})(Bn,Bn.exports);var Dt={},uo={exports:{}},lo={exports:{}},Rr={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n,s){s=s|0;for(var o=Math.max(n.length-s,0),p=Array(o),m=0;m<o;m++)p[m]=n[s+m];return p}e.exports=t.default})(Rr,Rr.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(o){return function(){var p=(0,n.default)(arguments),m=p.pop();o.call(this,p,m)}};var r=Rr.exports,n=s(r);function s(o){return o&&o.__esModule?o:{default:o}}e.exports=t.default})(lo,lo.exports);var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.hasNextTick=Zt.hasSetImmediate=void 0;Zt.fallback=$f;Zt.wrap=Hf;var Bd=Rr.exports,Ld=Nd(Bd);function Nd(e){return e&&e.__esModule?e:{default:e}}var qd=Zt.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,Ud=Zt.hasNextTick=typeof Ze.exports=="object"&&typeof Ze.exports.nextTick=="function";function $f(e){setTimeout(e,0)}function Hf(e){return function(t){var r=(0,Ld.default)(arguments,1);e(function(){t.apply(null,r)})}}var kn;qd?kn=setImmediate:Ud?kn=Ze.exports.nextTick:kn=$f;Zt.default=Hf(kn);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=x;var r=Nf,n=y(r),s=lo.exports,o=y(s),p=Zt,m=y(p);function y(C){return C&&C.__esModule?C:{default:C}}function x(C){return(0,o.default)(function(B,b){var T;try{T=C.apply(this,B)}catch(M){return b(M)}(0,n.default)(T)&&typeof T.then=="function"?T.then(function(M){w(b,null,M)},function(M){w(b,M.message?M:new Error(M))}):b(null,T)})}function w(C,B,b){try{C(B,b)}catch(T){(0,m.default)(E,T)}}function E(C){throw C}e.exports=t.default})(uo,uo.exports);Object.defineProperty(Dt,"__esModule",{value:!0});Dt.isAsync=void 0;var Dd=uo.exports,$d=Hd(Dd);function Hd(e){return e&&e.__esModule?e:{default:e}}var Fd=typeof Symbol=="function";function Ff(e){return Fd&&e[Symbol.toStringTag]==="AsyncFunction"}function jd(e){return Ff(e)?(0,$d.default)(e):e}Dt.default=jd;Dt.isAsync=Ff;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=Bn.exports,n=p(r),s=Dt,o=p(s);function p(y){return y&&y.__esModule?y:{default:y}}function m(y,x,w,E){(0,n.default)(x)(y,(0,o.default)(w),E)}e.exports=t.default})(io,io.exports);var Ln={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n,s){return function(o,p,m){return n(o,s,p,m)}}e.exports=t.default})(Ln,Ln.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(F,V,te){var X=(0,n.default)(F)?L:D;X(F,(0,O.default)(V),te)};var r=Xn,n=k(r),s=In.exports,o=k(s),p=io.exports,m=k(p),y=Ln.exports,x=k(y),w=ln,E=k(w),C=en.exports,B=k(C),b=tn.exports,T=k(b),M=Dt,O=k(M);function k(F){return F&&F.__esModule?F:{default:F}}function L(F,V,te){te=(0,B.default)(te||E.default);var X=0,ee=0,P=F.length;P===0&&te(null);function l(i,f){i?te(i):(++ee===P||f===o.default)&&te(null)}for(;X<P;X++)V(F[X],X,(0,T.default)(l))}var D=(0,x.default)(m.default,1/0);e.exports=t.default})(Pn,Pn.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=Pn.exports,n=p(r),s=Dt,o=p(s);function p(y){return y&&y.__esModule?y:{default:y}}function m(y){return function(x,w,E){return y(n.default,x,(0,o.default)(w),E)}}e.exports=t.default})(no,no.exports);var co={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=ln,n=p(r),s=Dt,o=p(s);function p(y){return y&&y.__esModule?y:{default:y}}function m(y,x,w,E){E=E||n.default,x=x||[];var C=[],B=0,b=(0,o.default)(w);y(x,function(T,M,O){var k=B++;b(T,function(L,D){C[k]=D,O(L)})},function(T){E(T,C)})}e.exports=t.default})(co,co.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=no.exports,n=p(r),s=co.exports,o=p(s);function p(m){return m&&m.__esModule?m:{default:m}}t.default=(0,n.default)(o.default),e.exports=t.default})(ro,ro.exports);var ho={exports:{}},po={exports:{}},vo={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(n){return function(s,o,p){return n(s,p)}}e.exports=t.default})(vo,vo.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=x;var r=Bn.exports,n=y(r),s=vo.exports,o=y(s),p=Dt,m=y(p);function y(w){return w&&w.__esModule?w:{default:w}}function x(w,E,C,B){(0,n.default)(E)(w,(0,o.default)((0,m.default)(C)),B)}e.exports=t.default})(po,po.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=po.exports,n=p(r),s=Ln.exports,o=p(s);function p(m){return m&&m.__esModule?m:{default:m}}t.default=(0,o.default)(n.default,1),e.exports=t.default})(ho,ho.exports);const jf=pf.exports.EventEmitter,Kd=Ft.inherits;var zd=cn;Kd(cn,jf);function cn(){const e=this;jf.call(e),e.isLocked=!0}cn.prototype.go=function(){const e=this;e.isLocked=!1,e.emit("unlock")};cn.prototype.stop=function(){const e=this;e.isLocked=!0,e.emit("lock")};cn.prototype.await=function(e){const t=this;t.isLocked?t.once("unlock",e):setTimeout(e)};var yn={},Ni,hs;function Wd(){if(hs)return Ni;hs=1;var e,t,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},n;function s(B){throw{name:"SyntaxError",message:B,at:e,text:n}}function o(B){return B&&B!==t&&s("Expected '"+B+"' instead of '"+t+"'"),t=n.charAt(e),e+=1,t}function p(){var B,b="";for(t==="-"&&(b="-",o("-"));t>="0"&&t<="9";)b+=t,o();if(t===".")for(b+=".";o()&&t>="0"&&t<="9";)b+=t;if(t==="e"||t==="E")for(b+=t,o(),(t==="-"||t==="+")&&(b+=t,o());t>="0"&&t<="9";)b+=t,o();return B=Number(b),isFinite(B)||s("Bad number"),B}function m(){var B,b,T="",M;if(t==='"')for(;o();){if(t==='"')return o(),T;if(t==="\\")if(o(),t==="u"){for(M=0,b=0;b<4&&(B=parseInt(o(),16),!!isFinite(B));b+=1)M=M*16+B;T+=String.fromCharCode(M)}else if(typeof r[t]=="string")T+=r[t];else break;else T+=t}s("Bad string")}function y(){for(;t&&t<=" ";)o()}function x(){switch(t){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null;default:s("Unexpected '"+t+"'")}}function w(){var B=[];if(t==="["){if(o("["),y(),t==="]")return o("]"),B;for(;t;){if(B.push(C()),y(),t==="]")return o("]"),B;o(","),y()}}s("Bad array")}function E(){var B,b={};if(t==="{"){if(o("{"),y(),t==="}")return o("}"),b;for(;t;){if(B=m(),y(),o(":"),Object.prototype.hasOwnProperty.call(b,B)&&s('Duplicate key "'+B+'"'),b[B]=C(),y(),t==="}")return o("}"),b;o(","),y()}}s("Bad object")}function C(){switch(y(),t){case"{":return E();case"[":return w();case'"':return m();case"-":return p();default:return t>="0"&&t<="9"?p():x()}}return Ni=function(B,b){var T;return n=B,e=0,t=" ",T=C(),y(),t&&s("Syntax error"),typeof b=="function"?function M(O,k){var L,D,F=O[k];if(F&&typeof F=="object")for(L in C)Object.prototype.hasOwnProperty.call(F,L)&&(D=M(F,L),typeof D>"u"?delete F[L]:F[L]=D);return b.call(O,k,F)}({"":T},""):T},Ni}var qi,ds;function Gd(){if(ds)return qi;ds=1;var e=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,t,r,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s;function o(m){return e.lastIndex=0,e.test(m)?'"'+m.replace(e,function(y){var x=n[y];return typeof x=="string"?x:"\\u"+("0000"+y.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+m+'"'}function p(m,y){var x,w,E,C,B=t,b,T=y[m];switch(T&&typeof T=="object"&&typeof T.toJSON=="function"&&(T=T.toJSON(m)),typeof s=="function"&&(T=s.call(y,m,T)),typeof T){case"string":return o(T);case"number":return isFinite(T)?String(T):"null";case"boolean":case"null":return String(T);case"object":if(!T)return"null";if(t+=r,b=[],Object.prototype.toString.apply(T)==="[object Array]"){for(C=T.length,x=0;x<C;x+=1)b[x]=p(x,T)||"null";return E=b.length===0?"[]":t?`[
`+t+b.join(`,
`+t)+`
`+B+"]":"["+b.join(",")+"]",t=B,E}if(s&&typeof s=="object")for(C=s.length,x=0;x<C;x+=1)w=s[x],typeof w=="string"&&(E=p(w,T),E&&b.push(o(w)+(t?": ":":")+E));else for(w in T)Object.prototype.hasOwnProperty.call(T,w)&&(E=p(w,T),E&&b.push(o(w)+(t?": ":":")+E));return E=b.length===0?"{}":t?`{
`+t+b.join(`,
`+t)+`
`+B+"}":"{"+b.join(",")+"}",t=B,E}}return qi=function(m,y,x){var w;if(t="",r="",typeof x=="number")for(w=0;w<x;w+=1)r+=" ";else typeof x=="string"&&(r=x);if(s=y,y&&typeof y!="function"&&(typeof y!="object"||typeof y.length!="number"))throw new Error("JSON.stringify");return p("",{"":m})},qi}var ps;function Vd(){return ps||(ps=1,yn.parse=Wd(),yn.stringify=Gd()),yn}var _n=typeof JSON<"u"?JSON:Vd(),Zd=Array.isArray||function(e){return{}.toString.call(e)==="[object Array]"},Yd=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r},Kf=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var r=t.space||"";typeof r=="number"&&(r=Array(r+1).join(" "));var n=typeof t.cycles=="boolean"?t.cycles:!1,s=t.replacer||function(m,y){return y},o=t.cmp&&function(m){return function(y){return function(x,w){var E={key:x,value:y[x]},C={key:w,value:y[w]};return m(E,C)}}}(t.cmp),p=[];return function m(y,x,w,E){var C=r?`
`+new Array(E+1).join(r):"",B=r?": ":":";if(w&&w.toJSON&&typeof w.toJSON=="function"&&(w=w.toJSON()),w=s.call(y,x,w),w!==void 0){if(typeof w!="object"||w===null)return _n.stringify(w);if(Zd(w)){for(var O=[],b=0;b<w.length;b++){var T=m(w,b,w[b],E+1)||_n.stringify(null);O.push(C+r+T)}return"["+O.join(",")+C+"]"}if(p.indexOf(w)!==-1){if(n)return _n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}else p.push(w);for(var M=Yd(w).sort(o&&o(w)),O=[],b=0;b<M.length;b++){var x=M[b],k=m(w,x,w[x],E+1);if(!!k){var L=_n.stringify(x)+B+k;O.push(C+r+L)}}return p.splice(p.indexOf(w),1),"{"+O.join(",")+C+"}"}}({"":e},"",e,0)};const Jd=Kf;var Xd={cacheIdentifierForPayload:Qd,canCache:zf,blockTagForPayload:ep,paramsWithoutBlockTag:Wf,blockTagParamIndex:Yo,cacheTypeForPayload:Gf};function Qd(e,t={}){if(!zf(e))return null;const{includeBlockRef:r}=t,n=r?e.params:Wf(e);return e.method+":"+Jd(n)}function zf(e){return Gf(e)!=="never"}function ep(e){var t=Yo(e);return t>=e.params.length?null:e.params[t]}function Wf(e){var t=Yo(e);return t>=e.params.length?e.params:e.method==="eth_getBlockByNumber"?e.params.slice(1):e.params.slice(0,t)}function Yo(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":return 1;case"eth_getBlockByNumber":return 0;default:return}}function Gf(e){switch(e.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":return"fork";case"eth_gasPrice":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"eth_blockNumber":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":return"never"}}var tp=rp;function rp(){return Math.floor(Number.MAX_SAFE_INTEGER*Math.random())}const np=tp,ip=Ho;var Jo=op;function op(e){return ip({id:np(),jsonrpc:"2.0",params:[]},e)}const Vf=pf.exports.EventEmitter,ap=Ft.inherits,ot=qr,sp=d0,fp=ro.exports,up=ho.exports,lp=zd,cp=Jo,hp=function(){};var dp=pt;ap(pt,Vf);function pt(e){const t=this;Vf.call(t),t.setMaxListeners(30),e=e||{};const r={sendAsync:t._handleAsync.bind(t)},n=e.blockTrackerProvider||r;t._blockTracker=e.blockTracker||new sp({provider:n,pollingInterval:e.pollingInterval||4e3,setSkipCacheFlag:!0}),t._ready=new lp,t.currentBlock=null,t._providers=[]}pt.prototype.start=function(e=hp){const t=this;t._ready.go(),t._blockTracker.on("latest",r=>{t._getBlockByNumberWithRetry(r,(n,s)=>{if(n){this.emit("error",n);return}if(!s){console.log(s),this.emit("error",new Error("Could not find block"));return}const o=pp(s);t._setCurrentBlock(o),t.emit("rawBlock",s),t.emit("latest",s)})}),t._blockTracker.on("sync",t.emit.bind(t,"sync")),t._blockTracker.on("error",t.emit.bind(t,"error")),t._running=!0,t.emit("start")};pt.prototype.stop=function(){const e=this;e._blockTracker.removeAllListeners(),e._running=!1,e.emit("stop")};pt.prototype.isRunning=function(){return this._running};pt.prototype.addProvider=function(e,t){const r=this;typeof t=="number"?r._providers.splice(t,0,e):r._providers.push(e),e.setEngine(this)};pt.prototype.removeProvider=function(e){const t=this,r=t._providers.indexOf(e);if(r<0)throw new Error("Provider not found.");t._providers.splice(r,1)};pt.prototype.send=function(e){throw new Error("Web3ProviderEngine does not support synchronous requests.")};pt.prototype.sendAsync=function(e,t){const r=this;r._ready.await(function(){Array.isArray(e)?fp(e,r._handleAsync.bind(r),t):r._handleAsync(e,t)})};pt.prototype._getBlockByNumberWithRetry=function(e,t){const r=this;let n=5;s();return;function s(){r._getBlockByNumber(e,o)}function o(p,m){if(p)return t(p);if(!m)if(n>0){n--,setTimeout(function(){s()},1e3);return}else{t(null,null);return}t(null,m)}};pt.prototype._getBlockByNumber=function(e,t){const r=cp({method:"eth_getBlockByNumber",params:[e,!1],skipCache:!0});this._handleAsync(r,(n,s)=>n?t(n):t(null,s.result))};pt.prototype._handleAsync=function(e,t){var r=this,n=-1,s=null,o=null,p=[];m();function m(x){if(n+=1,p.unshift(x),n>=r._providers.length)y(new Error('Request for method "'+e.method+'" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));else try{var w=r._providers[n];w.handleRequest(e,m,y)}catch(E){y(E)}}function y(x,w){o=x,s=w,up(p,function(E,C){E?E(o,s,C):C()},function(){var E={id:e.id,jsonrpc:e.jsonrpc,result:s};o!=null?(E.error={message:o.stack||o.message||o,code:-32e3},t(o,E)):t(null,E)})}};pt.prototype._setCurrentBlock=function(e){const t=this;t.currentBlock=e,t.emit("block",e)};function pp(e){return{number:ot.toBuffer(e.number),hash:ot.toBuffer(e.hash),parentHash:ot.toBuffer(e.parentHash),nonce:ot.toBuffer(e.nonce),mixHash:ot.toBuffer(e.mixHash),sha3Uncles:ot.toBuffer(e.sha3Uncles),logsBloom:ot.toBuffer(e.logsBloom),transactionsRoot:ot.toBuffer(e.transactionsRoot),stateRoot:ot.toBuffer(e.stateRoot),receiptsRoot:ot.toBuffer(e.receiptRoot||e.receiptsRoot),miner:ot.toBuffer(e.miner),difficulty:ot.toBuffer(e.difficulty),totalDifficulty:ot.toBuffer(e.totalDifficulty),size:ot.toBuffer(e.size),extraData:ot.toBuffer(e.extraData),gasLimit:ot.toBuffer(e.gasLimit),gasUsed:ot.toBuffer(e.gasUsed),timestamp:ot.toBuffer(e.timestamp),transactions:e.transactions}}const vp=Jo;var Qn=Dr;function Dr(){}Dr.prototype.setEngine=function(e){const t=this;t.engine||(t.engine=e,e.on("block",function(r){t.currentBlock=r}),e.on("start",function(){t.start()}),e.on("stop",function(){t.stop()}))};Dr.prototype.handleRequest=function(e,t,r){throw new Error("Subproviders should override `handleRequest`.")};Dr.prototype.emitPayload=function(e,t){this.engine.sendAsync(vp(e),t)};Dr.prototype.stop=function(){};Dr.prototype.start=function(){};const gp=Qn;class mp extends gp{constructor(t){if(super(),!t)throw new Error("JsonRpcEngineMiddlewareSubprovider - no constructorFn specified");this._constructorFn=t}setEngine(t){if(this.middleware)throw new Error("JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice");const r=t._blockTracker,n=this._constructorFn({engine:t,provider:t,blockTracker:r});if(!n)throw new Error("JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware");if(typeof n!="function")throw new Error("JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function");this.middleware=n}handleRequest(t,r,n){const s={id:t.id};this.middleware(t,s,o,p);function o(m){r((y,x,w)=>{y?(delete s.result,s.error={message:y.message||y}):s.result=x,m?m(w):w()})}function p(m){if(m)return n(m);n(null,s.result)}}}var Xo=mp;const yp=Kf;var _p={cacheIdentifierForPayload:wp,canCache:Zf,blockTagForPayload:xp,paramsWithoutBlockTag:Yf,blockTagParamIndex:Qo,cacheTypeForPayload:Jf};function wp(e,t){const r=t?Yf(e):e.params;return Zf(e)?e.method+":"+yp(r):null}function Zf(e){return Jf(e)!=="never"}function xp(e){let t=Qo(e);return t>=e.params.length?null:e.params[t]}function Yf(e){const t=Qo(e);return t>=e.params.length?e.params:e.method==="eth_getBlockByNumber"?e.params.slice(1):e.params.slice(0,t)}function Qo(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function Jf(e){switch(e.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return"fork";case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":case"test_neverCache":return"never"}}var bp=function(t){return(r,n,s,o)=>{let p;const m=new Promise(E=>{p=E});let y,x;t(r,n,async()=>{x=!0,s(E=>{y=E,p()}),await m}).then(async()=>{x?(await m,y(null)):o(null)}).catch(E=>{y?y(E):o(E)})}};const Mr=_p,Mp=bp,Ep=[void 0,null,"<nil>"];var Sp=Ap;function Ap(e={}){const{blockTracker:t}=e;if(!t)throw new Error("createBlockCacheMiddleware - No BlockTracker specified");const r=new Tp,n={perma:r,block:r,fork:r};return Mp(async(s,o,p)=>{if(s.skipCache)return p();const m=Mr.cacheTypeForPayload(s),y=n[m];if(!y||!y.canCacheRequest(s))return p();let x=Mr.blockTagForPayload(s);x||(x="latest");let w;if(x==="earliest")w="0x00";else if(x==="latest"){const C=await t.getLatestBlock();r.clearBefore(C),w=C}else w=x;const E=await y.get(s,w);E===void 0?(await p(),await y.set(s,w,o.result)):o.result=E})}class Tp{constructor(){this.cache={}}getBlockCacheForPayload(t,r){const n=Number.parseInt(r,16);let s=this.cache[n];if(!s){const o={};this.cache[n]=o,s=o}return s}async get(t,r){const n=this.getBlockCacheForPayload(t,r);if(!n)return;const s=Mr.cacheIdentifierForPayload(t,!0);return n[s]}async set(t,r,n){if(!this.canCacheResult(t,n))return;const o=this.getBlockCacheForPayload(t,r),p=Mr.cacheIdentifierForPayload(t,!0);o[p]=n}canCacheRequest(t){return!(!Mr.canCache(t)||Mr.blockTagForPayload(t)==="pending")}canCacheResult(t,r){if(!Ep.includes(r))return!(["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(t.method)&&(!r||!r.blockHash||r.blockHash==="0x0000000000000000000000000000000000000000000000000000000000000000"))}clearBefore(t){const r=this,n=Number.parseInt(t,16);Object.keys(r.cache).map(Number).filter(s=>s<n).forEach(s=>delete r.cache[s])}}const Rp=Xo,kp=Sp;class Cp extends Rp{constructor(t){super(({blockTracker:r})=>kp(Object.assign({blockTracker:r},t)))}}var Op=Cp;const Pp=Ft.inherits,Ip=Qn;var Bp=ea;Pp(ea,Ip);function ea(e){const t=this;e=e||{},t.staticResponses=e}ea.prototype.handleRequest=function(e,t,r){var s=this.staticResponses[e.method];typeof s=="function"?s(e,t,r):s!==void 0?setTimeout(()=>r(null,s)):t()};const Lp=Xo,Np=p0;class qp extends Lp{constructor(){super(({blockTracker:t,provider:r,engine:n})=>Np({blockTracker:t,provider:r}))}}var Up=qp,go={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(T,M){if(M=(0,m.default)(M||o.default),!(0,n.default)(T))return M(new Error("First argument to waterfall must be an array of functions"));if(!T.length)return M();var O=0;function k(D){var F=(0,B.default)(T[O++]);D.push((0,E.default)(L)),F.apply(null,D)}function L(D){if(D||O===T.length)return M.apply(null,arguments);k((0,x.default)(arguments,1))}k([])};var r=Df,n=b(r),s=ln,o=b(s),p=en.exports,m=b(p),y=Rr.exports,x=b(y),w=tn.exports,E=b(w),C=Dt,B=b(C);function b(T){return T&&T.__esModule?T:{default:T}}e.exports=t.default})(go,go.exports);var mo={exports:{}},yo={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=E;var r=ln,n=w(r),s=Xn,o=w(s),p=Rr.exports,m=w(p),y=Dt,x=w(y);function w(C){return C&&C.__esModule?C:{default:C}}function E(C,B,b){b=b||n.default;var T=(0,o.default)(B)?[]:{};C(B,function(M,O,k){(0,x.default)(M)(function(L,D){arguments.length>2&&(D=(0,m.default)(arguments,1)),T[O]=D,k(L)})},function(M){b(M,T)})}e.exports=t.default})(yo,yo.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=Pn.exports,n=p(r),s=yo.exports,o=p(s);function p(y){return y&&y.__esModule?y:{default:y}}function m(y,x){(0,o.default)(n.default,y,x)}e.exports=t.default})(mo,mo.exports);var Xf={exports:{}},Qf={},ei={},$r={},ir={exports:{}};(function(e){(function(t,r){function n(l,i){if(!l)throw new Error(i||"Assertion failed")}function s(l,i){l.super_=i;var f=function(){};f.prototype=i.prototype,l.prototype=new f,l.prototype.constructor=l}function o(l,i,f){if(o.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((i==="le"||i==="be")&&(f=i,i=10),this._init(l||0,i||10,f||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=j.Buffer}catch{}o.isBN=function(i){return i instanceof o?!0:i!==null&&typeof i=="object"&&i.constructor.wordSize===o.wordSize&&Array.isArray(i.words)},o.max=function(i,f){return i.cmp(f)>0?i:f},o.min=function(i,f){return i.cmp(f)<0?i:f},o.prototype._init=function(i,f,c){if(typeof i=="number")return this._initNumber(i,f,c);if(typeof i=="object")return this._initArray(i,f,c);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),i=i.toString().replace(/\s+/g,"");var h=0;i[0]==="-"&&(h++,this.negative=1),h<i.length&&(f===16?this._parseHex(i,h,c):(this._parseBase(i,f,h),c==="le"&&this._initArray(this.toArray(),f,c)))},o.prototype._initNumber=function(i,f,c){i<0&&(this.negative=1,i=-i),i<67108864?(this.words=[i&67108863],this.length=1):i<4503599627370496?(this.words=[i&67108863,i/67108864&67108863],this.length=2):(n(i<9007199254740992),this.words=[i&67108863,i/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),f,c)},o.prototype._initArray=function(i,f,c){if(n(typeof i.length=="number"),i.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(i.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var d,_,g=0;if(c==="be")for(h=i.length-1,d=0;h>=0;h-=3)_=i[h]|i[h-1]<<8|i[h-2]<<16,this.words[d]|=_<<g&67108863,this.words[d+1]=_>>>26-g&67108863,g+=24,g>=26&&(g-=26,d++);else if(c==="le")for(h=0,d=0;h<i.length;h+=3)_=i[h]|i[h+1]<<8|i[h+2]<<16,this.words[d]|=_<<g&67108863,this.words[d+1]=_>>>26-g&67108863,g+=24,g>=26&&(g-=26,d++);return this.strip()};function m(l,i){var f=l.charCodeAt(i);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function y(l,i,f){var c=m(l,f);return f-1>=i&&(c|=m(l,f-1)<<4),c}o.prototype._parseHex=function(i,f,c){this.length=Math.ceil((i.length-f)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var d=0,_=0,g;if(c==="be")for(h=i.length-1;h>=f;h-=2)g=y(i,f,h)<<d,this.words[_]|=g&67108863,d>=18?(d-=18,_+=1,this.words[_]|=g>>>26):d+=8;else{var u=i.length-f;for(h=u%2===0?f+1:f;h<i.length;h+=2)g=y(i,f,h)<<d,this.words[_]|=g&67108863,d>=18?(d-=18,_+=1,this.words[_]|=g>>>26):d+=8}this.strip()};function x(l,i,f,c){for(var h=0,d=Math.min(l.length,f),_=i;_<d;_++){var g=l.charCodeAt(_)-48;h*=c,g>=49?h+=g-49+10:g>=17?h+=g-17+10:h+=g}return h}o.prototype._parseBase=function(i,f,c){this.words=[0],this.length=1;for(var h=0,d=1;d<=67108863;d*=f)h++;h--,d=d/f|0;for(var _=i.length-c,g=_%h,u=Math.min(_,_-g)+c,a=0,v=c;v<u;v+=h)a=x(i,v,v+h,f),this.imuln(d),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(g!==0){var S=1;for(a=x(i,v,i.length,f),v=0;v<g;v++)S*=f;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},o.prototype.copy=function(i){i.words=new Array(this.length);for(var f=0;f<this.length;f++)i.words[f]=this.words[f];i.length=this.length,i.negative=this.negative,i.red=this.red},o.prototype.clone=function(){var i=new o(null);return this.copy(i),i},o.prototype._expand=function(i){for(;this.length<i;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(i,f){i=i||10,f=f|0||1;var c;if(i===16||i==="hex"){c="";for(var h=0,d=0,_=0;_<this.length;_++){var g=this.words[_],u=((g<<h|d)&16777215).toString(16);d=g>>>24-h&16777215,d!==0||_!==this.length-1?c=w[6-u.length]+u+c:c=u+c,h+=2,h>=26&&(h-=26,_--)}for(d!==0&&(c=d.toString(16)+c);c.length%f!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(i===(i|0)&&i>=2&&i<=36){var a=E[i],v=C[i];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var A=S.modn(v).toString(i);S=S.idivn(v),S.isZero()?c=A+c:c=w[a-A.length]+A+c}for(this.isZero()&&(c="0"+c);c.length%f!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var i=this.words[0];return this.length===2?i+=this.words[1]*67108864:this.length===3&&this.words[2]===1?i+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-i:i},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(i,f){return n(typeof p<"u"),this.toArrayLike(p,i,f)},o.prototype.toArray=function(i,f){return this.toArrayLike(Array,i,f)},o.prototype.toArrayLike=function(i,f,c){var h=this.byteLength(),d=c||Math.max(1,h);n(h<=d,"byte array longer than desired length"),n(d>0,"Requested array length <= 0"),this.strip();var _=f==="le",g=new i(d),u,a,v=this.clone();if(_){for(a=0;!v.isZero();a++)u=v.andln(255),v.iushrn(8),g[a]=u;for(;a<d;a++)g[a]=0}else{for(a=0;a<d-h;a++)g[a]=0;for(a=0;!v.isZero();a++)u=v.andln(255),v.iushrn(8),g[d-a-1]=u}return g},Math.clz32?o.prototype._countBits=function(i){return 32-Math.clz32(i)}:o.prototype._countBits=function(i){var f=i,c=0;return f>=4096&&(c+=13,f>>>=13),f>=64&&(c+=7,f>>>=7),f>=8&&(c+=4,f>>>=4),f>=2&&(c+=2,f>>>=2),c+f},o.prototype._zeroBits=function(i){if(i===0)return 26;var f=i,c=0;return(f&8191)===0&&(c+=13,f>>>=13),(f&127)===0&&(c+=7,f>>>=7),(f&15)===0&&(c+=4,f>>>=4),(f&3)===0&&(c+=2,f>>>=2),(f&1)===0&&c++,c},o.prototype.bitLength=function(){var i=this.words[this.length-1],f=this._countBits(i);return(this.length-1)*26+f};function B(l){for(var i=new Array(l.bitLength()),f=0;f<i.length;f++){var c=f/26|0,h=f%26;i[f]=(l.words[c]&1<<h)>>>h}return i}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var i=0,f=0;f<this.length;f++){var c=this._zeroBits(this.words[f]);if(i+=c,c!==26)break}return i},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(i){return this.negative!==0?this.abs().inotn(i).iaddn(1):this.clone()},o.prototype.fromTwos=function(i){return this.testn(i-1)?this.notn(i).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(i){for(;this.length<i.length;)this.words[this.length++]=0;for(var f=0;f<i.length;f++)this.words[f]=this.words[f]|i.words[f];return this.strip()},o.prototype.ior=function(i){return n((this.negative|i.negative)===0),this.iuor(i)},o.prototype.or=function(i){return this.length>i.length?this.clone().ior(i):i.clone().ior(this)},o.prototype.uor=function(i){return this.length>i.length?this.clone().iuor(i):i.clone().iuor(this)},o.prototype.iuand=function(i){var f;this.length>i.length?f=i:f=this;for(var c=0;c<f.length;c++)this.words[c]=this.words[c]&i.words[c];return this.length=f.length,this.strip()},o.prototype.iand=function(i){return n((this.negative|i.negative)===0),this.iuand(i)},o.prototype.and=function(i){return this.length>i.length?this.clone().iand(i):i.clone().iand(this)},o.prototype.uand=function(i){return this.length>i.length?this.clone().iuand(i):i.clone().iuand(this)},o.prototype.iuxor=function(i){var f,c;this.length>i.length?(f=this,c=i):(f=i,c=this);for(var h=0;h<c.length;h++)this.words[h]=f.words[h]^c.words[h];if(this!==f)for(;h<f.length;h++)this.words[h]=f.words[h];return this.length=f.length,this.strip()},o.prototype.ixor=function(i){return n((this.negative|i.negative)===0),this.iuxor(i)},o.prototype.xor=function(i){return this.length>i.length?this.clone().ixor(i):i.clone().ixor(this)},o.prototype.uxor=function(i){return this.length>i.length?this.clone().iuxor(i):i.clone().iuxor(this)},o.prototype.inotn=function(i){n(typeof i=="number"&&i>=0);var f=Math.ceil(i/26)|0,c=i%26;this._expand(f),c>0&&f--;for(var h=0;h<f;h++)this.words[h]=~this.words[h]&67108863;return c>0&&(this.words[h]=~this.words[h]&67108863>>26-c),this.strip()},o.prototype.notn=function(i){return this.clone().inotn(i)},o.prototype.setn=function(i,f){n(typeof i=="number"&&i>=0);var c=i/26|0,h=i%26;return this._expand(c+1),f?this.words[c]=this.words[c]|1<<h:this.words[c]=this.words[c]&~(1<<h),this.strip()},o.prototype.iadd=function(i){var f;if(this.negative!==0&&i.negative===0)return this.negative=0,f=this.isub(i),this.negative^=1,this._normSign();if(this.negative===0&&i.negative!==0)return i.negative=0,f=this.isub(i),i.negative=1,f._normSign();var c,h;this.length>i.length?(c=this,h=i):(c=i,h=this);for(var d=0,_=0;_<h.length;_++)f=(c.words[_]|0)+(h.words[_]|0)+d,this.words[_]=f&67108863,d=f>>>26;for(;d!==0&&_<c.length;_++)f=(c.words[_]|0)+d,this.words[_]=f&67108863,d=f>>>26;if(this.length=c.length,d!==0)this.words[this.length]=d,this.length++;else if(c!==this)for(;_<c.length;_++)this.words[_]=c.words[_];return this},o.prototype.add=function(i){var f;return i.negative!==0&&this.negative===0?(i.negative=0,f=this.sub(i),i.negative^=1,f):i.negative===0&&this.negative!==0?(this.negative=0,f=i.sub(this),this.negative=1,f):this.length>i.length?this.clone().iadd(i):i.clone().iadd(this)},o.prototype.isub=function(i){if(i.negative!==0){i.negative=0;var f=this.iadd(i);return i.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(i),this.negative=1,this._normSign();var c=this.cmp(i);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,d;c>0?(h=this,d=i):(h=i,d=this);for(var _=0,g=0;g<d.length;g++)f=(h.words[g]|0)-(d.words[g]|0)+_,_=f>>26,this.words[g]=f&67108863;for(;_!==0&&g<h.length;g++)f=(h.words[g]|0)+_,_=f>>26,this.words[g]=f&67108863;if(_===0&&g<h.length&&h!==this)for(;g<h.length;g++)this.words[g]=h.words[g];return this.length=Math.max(this.length,g),h!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(i){return this.clone().isub(i)};function b(l,i,f){f.negative=i.negative^l.negative;var c=l.length+i.length|0;f.length=c,c=c-1|0;var h=l.words[0]|0,d=i.words[0]|0,_=h*d,g=_&67108863,u=_/67108864|0;f.words[0]=g;for(var a=1;a<c;a++){for(var v=u>>>26,S=u&67108863,A=Math.min(a,i.length-1),I=Math.max(0,a-l.length+1);I<=A;I++){var q=a-I|0;h=l.words[q]|0,d=i.words[I]|0,_=h*d+S,v+=_/67108864|0,S=_&67108863}f.words[a]=S|0,u=v|0}return u!==0?f.words[a]=u|0:f.length--,f.strip()}var T=function(i,f,c){var h=i.words,d=f.words,_=c.words,g=0,u,a,v,S=h[0]|0,A=S&8191,I=S>>>13,q=h[1]|0,$=q&8191,W=q>>>13,oe=h[2]|0,G=oe&8191,se=oe>>>13,Re=h[3]|0,ie=Re&8191,pe=Re>>>13,ke=h[4]|0,ae=ke&8191,Ae=ke>>>13,qe=h[5]|0,ue=qe&8191,Ee=qe>>>13,Fe=h[6]|0,ve=Fe&8191,U=Fe>>>13,K=h[7]|0,R=K&8191,H=K>>>13,N=h[8]|0,z=N&8191,Z=N>>>13,le=h[9]|0,Y=le&8191,J=le>>>13,Ce=d[0]|0,re=Ce&8191,be=Ce>>>13,Ue=d[1]|0,ne=Ue&8191,ge=Ue>>>13,$e=d[2]|0,de=$e&8191,Me=$e>>>13,We=d[3]|0,Q=We&8191,_e=We>>>13,De=d[4]|0,fe=De&8191,Se=De>>>13,Je=d[5]|0,ce=Je&8191,Te=Je>>>13,ze=d[6]|0,me=ze&8191,Be=ze>>>13,Ge=d[7]|0,ye=Ge&8191,Pe=Ge>>>13,Ye=d[8]|0,we=Ye&8191,Ne=Ye>>>13,tt=d[9]|0,xe=tt&8191,Le=tt>>>13;c.negative=i.negative^f.negative,c.length=19,u=Math.imul(A,re),a=Math.imul(A,be),a=a+Math.imul(I,re)|0,v=Math.imul(I,be);var mt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(mt>>>26)|0,mt&=67108863,u=Math.imul($,re),a=Math.imul($,be),a=a+Math.imul(W,re)|0,v=Math.imul(W,be),u=u+Math.imul(A,ne)|0,a=a+Math.imul(A,ge)|0,a=a+Math.imul(I,ne)|0,v=v+Math.imul(I,ge)|0;var yt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(yt>>>26)|0,yt&=67108863,u=Math.imul(G,re),a=Math.imul(G,be),a=a+Math.imul(se,re)|0,v=Math.imul(se,be),u=u+Math.imul($,ne)|0,a=a+Math.imul($,ge)|0,a=a+Math.imul(W,ne)|0,v=v+Math.imul(W,ge)|0,u=u+Math.imul(A,de)|0,a=a+Math.imul(A,Me)|0,a=a+Math.imul(I,de)|0,v=v+Math.imul(I,Me)|0;var _t=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(_t>>>26)|0,_t&=67108863,u=Math.imul(ie,re),a=Math.imul(ie,be),a=a+Math.imul(pe,re)|0,v=Math.imul(pe,be),u=u+Math.imul(G,ne)|0,a=a+Math.imul(G,ge)|0,a=a+Math.imul(se,ne)|0,v=v+Math.imul(se,ge)|0,u=u+Math.imul($,de)|0,a=a+Math.imul($,Me)|0,a=a+Math.imul(W,de)|0,v=v+Math.imul(W,Me)|0,u=u+Math.imul(A,Q)|0,a=a+Math.imul(A,_e)|0,a=a+Math.imul(I,Q)|0,v=v+Math.imul(I,_e)|0;var wt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(wt>>>26)|0,wt&=67108863,u=Math.imul(ae,re),a=Math.imul(ae,be),a=a+Math.imul(Ae,re)|0,v=Math.imul(Ae,be),u=u+Math.imul(ie,ne)|0,a=a+Math.imul(ie,ge)|0,a=a+Math.imul(pe,ne)|0,v=v+Math.imul(pe,ge)|0,u=u+Math.imul(G,de)|0,a=a+Math.imul(G,Me)|0,a=a+Math.imul(se,de)|0,v=v+Math.imul(se,Me)|0,u=u+Math.imul($,Q)|0,a=a+Math.imul($,_e)|0,a=a+Math.imul(W,Q)|0,v=v+Math.imul(W,_e)|0,u=u+Math.imul(A,fe)|0,a=a+Math.imul(A,Se)|0,a=a+Math.imul(I,fe)|0,v=v+Math.imul(I,Se)|0;var xt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(xt>>>26)|0,xt&=67108863,u=Math.imul(ue,re),a=Math.imul(ue,be),a=a+Math.imul(Ee,re)|0,v=Math.imul(Ee,be),u=u+Math.imul(ae,ne)|0,a=a+Math.imul(ae,ge)|0,a=a+Math.imul(Ae,ne)|0,v=v+Math.imul(Ae,ge)|0,u=u+Math.imul(ie,de)|0,a=a+Math.imul(ie,Me)|0,a=a+Math.imul(pe,de)|0,v=v+Math.imul(pe,Me)|0,u=u+Math.imul(G,Q)|0,a=a+Math.imul(G,_e)|0,a=a+Math.imul(se,Q)|0,v=v+Math.imul(se,_e)|0,u=u+Math.imul($,fe)|0,a=a+Math.imul($,Se)|0,a=a+Math.imul(W,fe)|0,v=v+Math.imul(W,Se)|0,u=u+Math.imul(A,ce)|0,a=a+Math.imul(A,Te)|0,a=a+Math.imul(I,ce)|0,v=v+Math.imul(I,Te)|0;var bt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(bt>>>26)|0,bt&=67108863,u=Math.imul(ve,re),a=Math.imul(ve,be),a=a+Math.imul(U,re)|0,v=Math.imul(U,be),u=u+Math.imul(ue,ne)|0,a=a+Math.imul(ue,ge)|0,a=a+Math.imul(Ee,ne)|0,v=v+Math.imul(Ee,ge)|0,u=u+Math.imul(ae,de)|0,a=a+Math.imul(ae,Me)|0,a=a+Math.imul(Ae,de)|0,v=v+Math.imul(Ae,Me)|0,u=u+Math.imul(ie,Q)|0,a=a+Math.imul(ie,_e)|0,a=a+Math.imul(pe,Q)|0,v=v+Math.imul(pe,_e)|0,u=u+Math.imul(G,fe)|0,a=a+Math.imul(G,Se)|0,a=a+Math.imul(se,fe)|0,v=v+Math.imul(se,Se)|0,u=u+Math.imul($,ce)|0,a=a+Math.imul($,Te)|0,a=a+Math.imul(W,ce)|0,v=v+Math.imul(W,Te)|0,u=u+Math.imul(A,me)|0,a=a+Math.imul(A,Be)|0,a=a+Math.imul(I,me)|0,v=v+Math.imul(I,Be)|0;var Mt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,u=Math.imul(R,re),a=Math.imul(R,be),a=a+Math.imul(H,re)|0,v=Math.imul(H,be),u=u+Math.imul(ve,ne)|0,a=a+Math.imul(ve,ge)|0,a=a+Math.imul(U,ne)|0,v=v+Math.imul(U,ge)|0,u=u+Math.imul(ue,de)|0,a=a+Math.imul(ue,Me)|0,a=a+Math.imul(Ee,de)|0,v=v+Math.imul(Ee,Me)|0,u=u+Math.imul(ae,Q)|0,a=a+Math.imul(ae,_e)|0,a=a+Math.imul(Ae,Q)|0,v=v+Math.imul(Ae,_e)|0,u=u+Math.imul(ie,fe)|0,a=a+Math.imul(ie,Se)|0,a=a+Math.imul(pe,fe)|0,v=v+Math.imul(pe,Se)|0,u=u+Math.imul(G,ce)|0,a=a+Math.imul(G,Te)|0,a=a+Math.imul(se,ce)|0,v=v+Math.imul(se,Te)|0,u=u+Math.imul($,me)|0,a=a+Math.imul($,Be)|0,a=a+Math.imul(W,me)|0,v=v+Math.imul(W,Be)|0,u=u+Math.imul(A,ye)|0,a=a+Math.imul(A,Pe)|0,a=a+Math.imul(I,ye)|0,v=v+Math.imul(I,Pe)|0;var Et=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(Et>>>26)|0,Et&=67108863,u=Math.imul(z,re),a=Math.imul(z,be),a=a+Math.imul(Z,re)|0,v=Math.imul(Z,be),u=u+Math.imul(R,ne)|0,a=a+Math.imul(R,ge)|0,a=a+Math.imul(H,ne)|0,v=v+Math.imul(H,ge)|0,u=u+Math.imul(ve,de)|0,a=a+Math.imul(ve,Me)|0,a=a+Math.imul(U,de)|0,v=v+Math.imul(U,Me)|0,u=u+Math.imul(ue,Q)|0,a=a+Math.imul(ue,_e)|0,a=a+Math.imul(Ee,Q)|0,v=v+Math.imul(Ee,_e)|0,u=u+Math.imul(ae,fe)|0,a=a+Math.imul(ae,Se)|0,a=a+Math.imul(Ae,fe)|0,v=v+Math.imul(Ae,Se)|0,u=u+Math.imul(ie,ce)|0,a=a+Math.imul(ie,Te)|0,a=a+Math.imul(pe,ce)|0,v=v+Math.imul(pe,Te)|0,u=u+Math.imul(G,me)|0,a=a+Math.imul(G,Be)|0,a=a+Math.imul(se,me)|0,v=v+Math.imul(se,Be)|0,u=u+Math.imul($,ye)|0,a=a+Math.imul($,Pe)|0,a=a+Math.imul(W,ye)|0,v=v+Math.imul(W,Pe)|0,u=u+Math.imul(A,we)|0,a=a+Math.imul(A,Ne)|0,a=a+Math.imul(I,we)|0,v=v+Math.imul(I,Ne)|0;var St=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(St>>>26)|0,St&=67108863,u=Math.imul(Y,re),a=Math.imul(Y,be),a=a+Math.imul(J,re)|0,v=Math.imul(J,be),u=u+Math.imul(z,ne)|0,a=a+Math.imul(z,ge)|0,a=a+Math.imul(Z,ne)|0,v=v+Math.imul(Z,ge)|0,u=u+Math.imul(R,de)|0,a=a+Math.imul(R,Me)|0,a=a+Math.imul(H,de)|0,v=v+Math.imul(H,Me)|0,u=u+Math.imul(ve,Q)|0,a=a+Math.imul(ve,_e)|0,a=a+Math.imul(U,Q)|0,v=v+Math.imul(U,_e)|0,u=u+Math.imul(ue,fe)|0,a=a+Math.imul(ue,Se)|0,a=a+Math.imul(Ee,fe)|0,v=v+Math.imul(Ee,Se)|0,u=u+Math.imul(ae,ce)|0,a=a+Math.imul(ae,Te)|0,a=a+Math.imul(Ae,ce)|0,v=v+Math.imul(Ae,Te)|0,u=u+Math.imul(ie,me)|0,a=a+Math.imul(ie,Be)|0,a=a+Math.imul(pe,me)|0,v=v+Math.imul(pe,Be)|0,u=u+Math.imul(G,ye)|0,a=a+Math.imul(G,Pe)|0,a=a+Math.imul(se,ye)|0,v=v+Math.imul(se,Pe)|0,u=u+Math.imul($,we)|0,a=a+Math.imul($,Ne)|0,a=a+Math.imul(W,we)|0,v=v+Math.imul(W,Ne)|0,u=u+Math.imul(A,xe)|0,a=a+Math.imul(A,Le)|0,a=a+Math.imul(I,xe)|0,v=v+Math.imul(I,Le)|0;var At=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(At>>>26)|0,At&=67108863,u=Math.imul(Y,ne),a=Math.imul(Y,ge),a=a+Math.imul(J,ne)|0,v=Math.imul(J,ge),u=u+Math.imul(z,de)|0,a=a+Math.imul(z,Me)|0,a=a+Math.imul(Z,de)|0,v=v+Math.imul(Z,Me)|0,u=u+Math.imul(R,Q)|0,a=a+Math.imul(R,_e)|0,a=a+Math.imul(H,Q)|0,v=v+Math.imul(H,_e)|0,u=u+Math.imul(ve,fe)|0,a=a+Math.imul(ve,Se)|0,a=a+Math.imul(U,fe)|0,v=v+Math.imul(U,Se)|0,u=u+Math.imul(ue,ce)|0,a=a+Math.imul(ue,Te)|0,a=a+Math.imul(Ee,ce)|0,v=v+Math.imul(Ee,Te)|0,u=u+Math.imul(ae,me)|0,a=a+Math.imul(ae,Be)|0,a=a+Math.imul(Ae,me)|0,v=v+Math.imul(Ae,Be)|0,u=u+Math.imul(ie,ye)|0,a=a+Math.imul(ie,Pe)|0,a=a+Math.imul(pe,ye)|0,v=v+Math.imul(pe,Pe)|0,u=u+Math.imul(G,we)|0,a=a+Math.imul(G,Ne)|0,a=a+Math.imul(se,we)|0,v=v+Math.imul(se,Ne)|0,u=u+Math.imul($,xe)|0,a=a+Math.imul($,Le)|0,a=a+Math.imul(W,xe)|0,v=v+Math.imul(W,Le)|0;var Tt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,u=Math.imul(Y,de),a=Math.imul(Y,Me),a=a+Math.imul(J,de)|0,v=Math.imul(J,Me),u=u+Math.imul(z,Q)|0,a=a+Math.imul(z,_e)|0,a=a+Math.imul(Z,Q)|0,v=v+Math.imul(Z,_e)|0,u=u+Math.imul(R,fe)|0,a=a+Math.imul(R,Se)|0,a=a+Math.imul(H,fe)|0,v=v+Math.imul(H,Se)|0,u=u+Math.imul(ve,ce)|0,a=a+Math.imul(ve,Te)|0,a=a+Math.imul(U,ce)|0,v=v+Math.imul(U,Te)|0,u=u+Math.imul(ue,me)|0,a=a+Math.imul(ue,Be)|0,a=a+Math.imul(Ee,me)|0,v=v+Math.imul(Ee,Be)|0,u=u+Math.imul(ae,ye)|0,a=a+Math.imul(ae,Pe)|0,a=a+Math.imul(Ae,ye)|0,v=v+Math.imul(Ae,Pe)|0,u=u+Math.imul(ie,we)|0,a=a+Math.imul(ie,Ne)|0,a=a+Math.imul(pe,we)|0,v=v+Math.imul(pe,Ne)|0,u=u+Math.imul(G,xe)|0,a=a+Math.imul(G,Le)|0,a=a+Math.imul(se,xe)|0,v=v+Math.imul(se,Le)|0;var Rt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u=Math.imul(Y,Q),a=Math.imul(Y,_e),a=a+Math.imul(J,Q)|0,v=Math.imul(J,_e),u=u+Math.imul(z,fe)|0,a=a+Math.imul(z,Se)|0,a=a+Math.imul(Z,fe)|0,v=v+Math.imul(Z,Se)|0,u=u+Math.imul(R,ce)|0,a=a+Math.imul(R,Te)|0,a=a+Math.imul(H,ce)|0,v=v+Math.imul(H,Te)|0,u=u+Math.imul(ve,me)|0,a=a+Math.imul(ve,Be)|0,a=a+Math.imul(U,me)|0,v=v+Math.imul(U,Be)|0,u=u+Math.imul(ue,ye)|0,a=a+Math.imul(ue,Pe)|0,a=a+Math.imul(Ee,ye)|0,v=v+Math.imul(Ee,Pe)|0,u=u+Math.imul(ae,we)|0,a=a+Math.imul(ae,Ne)|0,a=a+Math.imul(Ae,we)|0,v=v+Math.imul(Ae,Ne)|0,u=u+Math.imul(ie,xe)|0,a=a+Math.imul(ie,Le)|0,a=a+Math.imul(pe,xe)|0,v=v+Math.imul(pe,Le)|0;var kt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(kt>>>26)|0,kt&=67108863,u=Math.imul(Y,fe),a=Math.imul(Y,Se),a=a+Math.imul(J,fe)|0,v=Math.imul(J,Se),u=u+Math.imul(z,ce)|0,a=a+Math.imul(z,Te)|0,a=a+Math.imul(Z,ce)|0,v=v+Math.imul(Z,Te)|0,u=u+Math.imul(R,me)|0,a=a+Math.imul(R,Be)|0,a=a+Math.imul(H,me)|0,v=v+Math.imul(H,Be)|0,u=u+Math.imul(ve,ye)|0,a=a+Math.imul(ve,Pe)|0,a=a+Math.imul(U,ye)|0,v=v+Math.imul(U,Pe)|0,u=u+Math.imul(ue,we)|0,a=a+Math.imul(ue,Ne)|0,a=a+Math.imul(Ee,we)|0,v=v+Math.imul(Ee,Ne)|0,u=u+Math.imul(ae,xe)|0,a=a+Math.imul(ae,Le)|0,a=a+Math.imul(Ae,xe)|0,v=v+Math.imul(Ae,Le)|0;var Ct=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u=Math.imul(Y,ce),a=Math.imul(Y,Te),a=a+Math.imul(J,ce)|0,v=Math.imul(J,Te),u=u+Math.imul(z,me)|0,a=a+Math.imul(z,Be)|0,a=a+Math.imul(Z,me)|0,v=v+Math.imul(Z,Be)|0,u=u+Math.imul(R,ye)|0,a=a+Math.imul(R,Pe)|0,a=a+Math.imul(H,ye)|0,v=v+Math.imul(H,Pe)|0,u=u+Math.imul(ve,we)|0,a=a+Math.imul(ve,Ne)|0,a=a+Math.imul(U,we)|0,v=v+Math.imul(U,Ne)|0,u=u+Math.imul(ue,xe)|0,a=a+Math.imul(ue,Le)|0,a=a+Math.imul(Ee,xe)|0,v=v+Math.imul(Ee,Le)|0;var Ot=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u=Math.imul(Y,me),a=Math.imul(Y,Be),a=a+Math.imul(J,me)|0,v=Math.imul(J,Be),u=u+Math.imul(z,ye)|0,a=a+Math.imul(z,Pe)|0,a=a+Math.imul(Z,ye)|0,v=v+Math.imul(Z,Pe)|0,u=u+Math.imul(R,we)|0,a=a+Math.imul(R,Ne)|0,a=a+Math.imul(H,we)|0,v=v+Math.imul(H,Ne)|0,u=u+Math.imul(ve,xe)|0,a=a+Math.imul(ve,Le)|0,a=a+Math.imul(U,xe)|0,v=v+Math.imul(U,Le)|0;var Pt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,u=Math.imul(Y,ye),a=Math.imul(Y,Pe),a=a+Math.imul(J,ye)|0,v=Math.imul(J,Pe),u=u+Math.imul(z,we)|0,a=a+Math.imul(z,Ne)|0,a=a+Math.imul(Z,we)|0,v=v+Math.imul(Z,Ne)|0,u=u+Math.imul(R,xe)|0,a=a+Math.imul(R,Le)|0,a=a+Math.imul(H,xe)|0,v=v+Math.imul(H,Le)|0;var It=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(It>>>26)|0,It&=67108863,u=Math.imul(Y,we),a=Math.imul(Y,Ne),a=a+Math.imul(J,we)|0,v=Math.imul(J,Ne),u=u+Math.imul(z,xe)|0,a=a+Math.imul(z,Le)|0,a=a+Math.imul(Z,xe)|0,v=v+Math.imul(Z,Le)|0;var Bt=(g+u|0)+((a&8191)<<13)|0;g=(v+(a>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,u=Math.imul(Y,xe),a=Math.imul(Y,Le),a=a+Math.imul(J,xe)|0,v=Math.imul(J,Le);var sr=(g+u|0)+((a&8191)<<13)|0;return g=(v+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,_[0]=mt,_[1]=yt,_[2]=_t,_[3]=wt,_[4]=xt,_[5]=bt,_[6]=Mt,_[7]=Et,_[8]=St,_[9]=At,_[10]=Tt,_[11]=Rt,_[12]=kt,_[13]=Ct,_[14]=Ot,_[15]=Pt,_[16]=It,_[17]=Bt,_[18]=sr,g!==0&&(_[19]=g,c.length++),c};Math.imul||(T=b);function M(l,i,f){f.negative=i.negative^l.negative,f.length=l.length+i.length;for(var c=0,h=0,d=0;d<f.length-1;d++){var _=h;h=0;for(var g=c&67108863,u=Math.min(d,i.length-1),a=Math.max(0,d-l.length+1);a<=u;a++){var v=d-a,S=l.words[v]|0,A=i.words[a]|0,I=S*A,q=I&67108863;_=_+(I/67108864|0)|0,q=q+g|0,g=q&67108863,_=_+(q>>>26)|0,h+=_>>>26,_&=67108863}f.words[d]=g,c=_,_=h}return c!==0?f.words[d]=c:f.length--,f.strip()}function O(l,i,f){var c=new k;return c.mulp(l,i,f)}o.prototype.mulTo=function(i,f){var c,h=this.length+i.length;return this.length===10&&i.length===10?c=T(this,i,f):h<63?c=b(this,i,f):h<1024?c=M(this,i,f):c=O(this,i,f),c};function k(l,i){this.x=l,this.y=i}k.prototype.makeRBT=function(i){for(var f=new Array(i),c=o.prototype._countBits(i)-1,h=0;h<i;h++)f[h]=this.revBin(h,c,i);return f},k.prototype.revBin=function(i,f,c){if(i===0||i===c-1)return i;for(var h=0,d=0;d<f;d++)h|=(i&1)<<f-d-1,i>>=1;return h},k.prototype.permute=function(i,f,c,h,d,_){for(var g=0;g<_;g++)h[g]=f[i[g]],d[g]=c[i[g]]},k.prototype.transform=function(i,f,c,h,d,_){this.permute(_,i,f,c,h,d);for(var g=1;g<d;g<<=1)for(var u=g<<1,a=Math.cos(2*Math.PI/u),v=Math.sin(2*Math.PI/u),S=0;S<d;S+=u)for(var A=a,I=v,q=0;q<g;q++){var $=c[S+q],W=h[S+q],oe=c[S+q+g],G=h[S+q+g],se=A*oe-I*G;G=A*G+I*oe,oe=se,c[S+q]=$+oe,h[S+q]=W+G,c[S+q+g]=$-oe,h[S+q+g]=W-G,q!==u&&(se=a*A-v*I,I=a*I+v*A,A=se)}},k.prototype.guessLen13b=function(i,f){var c=Math.max(f,i)|1,h=c&1,d=0;for(c=c/2|0;c;c=c>>>1)d++;return 1<<d+1+h},k.prototype.conjugate=function(i,f,c){if(!(c<=1))for(var h=0;h<c/2;h++){var d=i[h];i[h]=i[c-h-1],i[c-h-1]=d,d=f[h],f[h]=-f[c-h-1],f[c-h-1]=-d}},k.prototype.normalize13b=function(i,f){for(var c=0,h=0;h<f/2;h++){var d=Math.round(i[2*h+1]/f)*8192+Math.round(i[2*h]/f)+c;i[h]=d&67108863,d<67108864?c=0:c=d/67108864|0}return i},k.prototype.convert13b=function(i,f,c,h){for(var d=0,_=0;_<f;_++)d=d+(i[_]|0),c[2*_]=d&8191,d=d>>>13,c[2*_+1]=d&8191,d=d>>>13;for(_=2*f;_<h;++_)c[_]=0;n(d===0),n((d&-8192)===0)},k.prototype.stub=function(i){for(var f=new Array(i),c=0;c<i;c++)f[c]=0;return f},k.prototype.mulp=function(i,f,c){var h=2*this.guessLen13b(i.length,f.length),d=this.makeRBT(h),_=this.stub(h),g=new Array(h),u=new Array(h),a=new Array(h),v=new Array(h),S=new Array(h),A=new Array(h),I=c.words;I.length=h,this.convert13b(i.words,i.length,g,h),this.convert13b(f.words,f.length,v,h),this.transform(g,_,u,a,h,d),this.transform(v,_,S,A,h,d);for(var q=0;q<h;q++){var $=u[q]*S[q]-a[q]*A[q];a[q]=u[q]*A[q]+a[q]*S[q],u[q]=$}return this.conjugate(u,a,h),this.transform(u,a,I,_,h,d),this.conjugate(I,_,h),this.normalize13b(I,h),c.negative=i.negative^f.negative,c.length=i.length+f.length,c.strip()},o.prototype.mul=function(i){var f=new o(null);return f.words=new Array(this.length+i.length),this.mulTo(i,f)},o.prototype.mulf=function(i){var f=new o(null);return f.words=new Array(this.length+i.length),O(this,i,f)},o.prototype.imul=function(i){return this.clone().mulTo(i,this)},o.prototype.imuln=function(i){n(typeof i=="number"),n(i<67108864);for(var f=0,c=0;c<this.length;c++){var h=(this.words[c]|0)*i,d=(h&67108863)+(f&67108863);f>>=26,f+=h/67108864|0,f+=d>>>26,this.words[c]=d&67108863}return f!==0&&(this.words[c]=f,this.length++),this},o.prototype.muln=function(i){return this.clone().imuln(i)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(i){var f=B(i);if(f.length===0)return new o(1);for(var c=this,h=0;h<f.length&&f[h]===0;h++,c=c.sqr());if(++h<f.length)for(var d=c.sqr();h<f.length;h++,d=d.sqr())f[h]!==0&&(c=c.mul(d));return c},o.prototype.iushln=function(i){n(typeof i=="number"&&i>=0);var f=i%26,c=(i-f)/26,h=67108863>>>26-f<<26-f,d;if(f!==0){var _=0;for(d=0;d<this.length;d++){var g=this.words[d]&h,u=(this.words[d]|0)-g<<f;this.words[d]=u|_,_=g>>>26-f}_&&(this.words[d]=_,this.length++)}if(c!==0){for(d=this.length-1;d>=0;d--)this.words[d+c]=this.words[d];for(d=0;d<c;d++)this.words[d]=0;this.length+=c}return this.strip()},o.prototype.ishln=function(i){return n(this.negative===0),this.iushln(i)},o.prototype.iushrn=function(i,f,c){n(typeof i=="number"&&i>=0);var h;f?h=(f-f%26)/26:h=0;var d=i%26,_=Math.min((i-d)/26,this.length),g=67108863^67108863>>>d<<d,u=c;if(h-=_,h=Math.max(0,h),u){for(var a=0;a<_;a++)u.words[a]=this.words[a];u.length=_}if(_!==0)if(this.length>_)for(this.length-=_,a=0;a<this.length;a++)this.words[a]=this.words[a+_];else this.words[0]=0,this.length=1;var v=0;for(a=this.length-1;a>=0&&(v!==0||a>=h);a--){var S=this.words[a]|0;this.words[a]=v<<26-d|S>>>d,v=S&g}return u&&v!==0&&(u.words[u.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(i,f,c){return n(this.negative===0),this.iushrn(i,f,c)},o.prototype.shln=function(i){return this.clone().ishln(i)},o.prototype.ushln=function(i){return this.clone().iushln(i)},o.prototype.shrn=function(i){return this.clone().ishrn(i)},o.prototype.ushrn=function(i){return this.clone().iushrn(i)},o.prototype.testn=function(i){n(typeof i=="number"&&i>=0);var f=i%26,c=(i-f)/26,h=1<<f;if(this.length<=c)return!1;var d=this.words[c];return!!(d&h)},o.prototype.imaskn=function(i){n(typeof i=="number"&&i>=0);var f=i%26,c=(i-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(f!==0&&c++,this.length=Math.min(c,this.length),f!==0){var h=67108863^67108863>>>f<<f;this.words[this.length-1]&=h}return this.strip()},o.prototype.maskn=function(i){return this.clone().imaskn(i)},o.prototype.iaddn=function(i){return n(typeof i=="number"),n(i<67108864),i<0?this.isubn(-i):this.negative!==0?this.length===1&&(this.words[0]|0)<i?(this.words[0]=i-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(i),this.negative=1,this):this._iaddn(i)},o.prototype._iaddn=function(i){this.words[0]+=i;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},o.prototype.isubn=function(i){if(n(typeof i=="number"),n(i<67108864),i<0)return this.iaddn(-i);if(this.negative!==0)return this.negative=0,this.iaddn(i),this.negative=1,this;if(this.words[0]-=i,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},o.prototype.addn=function(i){return this.clone().iaddn(i)},o.prototype.subn=function(i){return this.clone().isubn(i)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(i,f,c){var h=i.length+c,d;this._expand(h);var _,g=0;for(d=0;d<i.length;d++){_=(this.words[d+c]|0)+g;var u=(i.words[d]|0)*f;_-=u&67108863,g=(_>>26)-(u/67108864|0),this.words[d+c]=_&67108863}for(;d<this.length-c;d++)_=(this.words[d+c]|0)+g,g=_>>26,this.words[d+c]=_&67108863;if(g===0)return this.strip();for(n(g===-1),g=0,d=0;d<this.length;d++)_=-(this.words[d]|0)+g,g=_>>26,this.words[d]=_&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(i,f){var c=this.length-i.length,h=this.clone(),d=i,_=d.words[d.length-1]|0,g=this._countBits(_);c=26-g,c!==0&&(d=d.ushln(c),h.iushln(c),_=d.words[d.length-1]|0);var u=h.length-d.length,a;if(f!=="mod"){a=new o(null),a.length=u+1,a.words=new Array(a.length);for(var v=0;v<a.length;v++)a.words[v]=0}var S=h.clone()._ishlnsubmul(d,1,u);S.negative===0&&(h=S,a&&(a.words[u]=1));for(var A=u-1;A>=0;A--){var I=(h.words[d.length+A]|0)*67108864+(h.words[d.length+A-1]|0);for(I=Math.min(I/_|0,67108863),h._ishlnsubmul(d,I,A);h.negative!==0;)I--,h.negative=0,h._ishlnsubmul(d,1,A),h.isZero()||(h.negative^=1);a&&(a.words[A]=I)}return a&&a.strip(),h.strip(),f!=="div"&&c!==0&&h.iushrn(c),{div:a||null,mod:h}},o.prototype.divmod=function(i,f,c){if(n(!i.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var h,d,_;return this.negative!==0&&i.negative===0?(_=this.neg().divmod(i,f),f!=="mod"&&(h=_.div.neg()),f!=="div"&&(d=_.mod.neg(),c&&d.negative!==0&&d.iadd(i)),{div:h,mod:d}):this.negative===0&&i.negative!==0?(_=this.divmod(i.neg(),f),f!=="mod"&&(h=_.div.neg()),{div:h,mod:_.mod}):(this.negative&i.negative)!==0?(_=this.neg().divmod(i.neg(),f),f!=="div"&&(d=_.mod.neg(),c&&d.negative!==0&&d.isub(i)),{div:_.div,mod:d}):i.length>this.length||this.cmp(i)<0?{div:new o(0),mod:this}:i.length===1?f==="div"?{div:this.divn(i.words[0]),mod:null}:f==="mod"?{div:null,mod:new o(this.modn(i.words[0]))}:{div:this.divn(i.words[0]),mod:new o(this.modn(i.words[0]))}:this._wordDiv(i,f)},o.prototype.div=function(i){return this.divmod(i,"div",!1).div},o.prototype.mod=function(i){return this.divmod(i,"mod",!1).mod},o.prototype.umod=function(i){return this.divmod(i,"mod",!0).mod},o.prototype.divRound=function(i){var f=this.divmod(i);if(f.mod.isZero())return f.div;var c=f.div.negative!==0?f.mod.isub(i):f.mod,h=i.ushrn(1),d=i.andln(1),_=c.cmp(h);return _<0||d===1&&_===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},o.prototype.modn=function(i){n(i<=67108863);for(var f=(1<<26)%i,c=0,h=this.length-1;h>=0;h--)c=(f*c+(this.words[h]|0))%i;return c},o.prototype.idivn=function(i){n(i<=67108863);for(var f=0,c=this.length-1;c>=0;c--){var h=(this.words[c]|0)+f*67108864;this.words[c]=h/i|0,f=h%i}return this.strip()},o.prototype.divn=function(i){return this.clone().idivn(i)},o.prototype.egcd=function(i){n(i.negative===0),n(!i.isZero());var f=this,c=i.clone();f.negative!==0?f=f.umod(i):f=f.clone();for(var h=new o(1),d=new o(0),_=new o(0),g=new o(1),u=0;f.isEven()&&c.isEven();)f.iushrn(1),c.iushrn(1),++u;for(var a=c.clone(),v=f.clone();!f.isZero();){for(var S=0,A=1;(f.words[0]&A)===0&&S<26;++S,A<<=1);if(S>0)for(f.iushrn(S);S-- >0;)(h.isOdd()||d.isOdd())&&(h.iadd(a),d.isub(v)),h.iushrn(1),d.iushrn(1);for(var I=0,q=1;(c.words[0]&q)===0&&I<26;++I,q<<=1);if(I>0)for(c.iushrn(I);I-- >0;)(_.isOdd()||g.isOdd())&&(_.iadd(a),g.isub(v)),_.iushrn(1),g.iushrn(1);f.cmp(c)>=0?(f.isub(c),h.isub(_),d.isub(g)):(c.isub(f),_.isub(h),g.isub(d))}return{a:_,b:g,gcd:c.iushln(u)}},o.prototype._invmp=function(i){n(i.negative===0),n(!i.isZero());var f=this,c=i.clone();f.negative!==0?f=f.umod(i):f=f.clone();for(var h=new o(1),d=new o(0),_=c.clone();f.cmpn(1)>0&&c.cmpn(1)>0;){for(var g=0,u=1;(f.words[0]&u)===0&&g<26;++g,u<<=1);if(g>0)for(f.iushrn(g);g-- >0;)h.isOdd()&&h.iadd(_),h.iushrn(1);for(var a=0,v=1;(c.words[0]&v)===0&&a<26;++a,v<<=1);if(a>0)for(c.iushrn(a);a-- >0;)d.isOdd()&&d.iadd(_),d.iushrn(1);f.cmp(c)>=0?(f.isub(c),h.isub(d)):(c.isub(f),d.isub(h))}var S;return f.cmpn(1)===0?S=h:S=d,S.cmpn(0)<0&&S.iadd(i),S},o.prototype.gcd=function(i){if(this.isZero())return i.abs();if(i.isZero())return this.abs();var f=this.clone(),c=i.clone();f.negative=0,c.negative=0;for(var h=0;f.isEven()&&c.isEven();h++)f.iushrn(1),c.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;c.isEven();)c.iushrn(1);var d=f.cmp(c);if(d<0){var _=f;f=c,c=_}else if(d===0||c.cmpn(1)===0)break;f.isub(c)}while(!0);return c.iushln(h)},o.prototype.invm=function(i){return this.egcd(i).a.umod(i)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(i){return this.words[0]&i},o.prototype.bincn=function(i){n(typeof i=="number");var f=i%26,c=(i-f)/26,h=1<<f;if(this.length<=c)return this._expand(c+1),this.words[c]|=h,this;for(var d=h,_=c;d!==0&&_<this.length;_++){var g=this.words[_]|0;g+=d,d=g>>>26,g&=67108863,this.words[_]=g}return d!==0&&(this.words[_]=d,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(i){var f=i<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var c;if(this.length>1)c=1;else{f&&(i=-i),n(i<=67108863,"Number is too big");var h=this.words[0]|0;c=h===i?0:h<i?-1:1}return this.negative!==0?-c|0:c},o.prototype.cmp=function(i){if(this.negative!==0&&i.negative===0)return-1;if(this.negative===0&&i.negative!==0)return 1;var f=this.ucmp(i);return this.negative!==0?-f|0:f},o.prototype.ucmp=function(i){if(this.length>i.length)return 1;if(this.length<i.length)return-1;for(var f=0,c=this.length-1;c>=0;c--){var h=this.words[c]|0,d=i.words[c]|0;if(h!==d){h<d?f=-1:h>d&&(f=1);break}}return f},o.prototype.gtn=function(i){return this.cmpn(i)===1},o.prototype.gt=function(i){return this.cmp(i)===1},o.prototype.gten=function(i){return this.cmpn(i)>=0},o.prototype.gte=function(i){return this.cmp(i)>=0},o.prototype.ltn=function(i){return this.cmpn(i)===-1},o.prototype.lt=function(i){return this.cmp(i)===-1},o.prototype.lten=function(i){return this.cmpn(i)<=0},o.prototype.lte=function(i){return this.cmp(i)<=0},o.prototype.eqn=function(i){return this.cmpn(i)===0},o.prototype.eq=function(i){return this.cmp(i)===0},o.red=function(i){return new ee(i)},o.prototype.toRed=function(i){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),i.convertTo(this)._forceRed(i)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(i){return this.red=i,this},o.prototype.forceRed=function(i){return n(!this.red,"Already a number in reduction context"),this._forceRed(i)},o.prototype.redAdd=function(i){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,i)},o.prototype.redIAdd=function(i){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,i)},o.prototype.redSub=function(i){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,i)},o.prototype.redISub=function(i){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,i)},o.prototype.redShl=function(i){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,i)},o.prototype.redMul=function(i){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.mul(this,i)},o.prototype.redIMul=function(i){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.imul(this,i)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(i){return n(this.red&&!i.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,i)};var L={k256:null,p224:null,p192:null,p25519:null};function D(l,i){this.name=l,this.p=new o(i,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var i=new o(null);return i.words=new Array(Math.ceil(this.n/13)),i},D.prototype.ireduce=function(i){var f=i,c;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),c=f.bitLength();while(c>this.n);var h=c<this.n?-1:f.ucmp(this.p);return h===0?(f.words[0]=0,f.length=1):h>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},D.prototype.split=function(i,f){i.iushrn(this.n,0,f)},D.prototype.imulK=function(i){return i.imul(this.k)};function F(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(F,D),F.prototype.split=function(i,f){for(var c=4194303,h=Math.min(i.length,9),d=0;d<h;d++)f.words[d]=i.words[d];if(f.length=h,i.length<=9){i.words[0]=0,i.length=1;return}var _=i.words[9];for(f.words[f.length++]=_&c,d=10;d<i.length;d++){var g=i.words[d]|0;i.words[d-10]=(g&c)<<4|_>>>22,_=g}_>>>=22,i.words[d-10]=_,_===0&&i.length>10?i.length-=10:i.length-=9},F.prototype.imulK=function(i){i.words[i.length]=0,i.words[i.length+1]=0,i.length+=2;for(var f=0,c=0;c<i.length;c++){var h=i.words[c]|0;f+=h*977,i.words[c]=f&67108863,f=h*64+(f/67108864|0)}return i.words[i.length-1]===0&&(i.length--,i.words[i.length-1]===0&&i.length--),i};function V(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(V,D);function te(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(te,D);function X(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(X,D),X.prototype.imulK=function(i){for(var f=0,c=0;c<i.length;c++){var h=(i.words[c]|0)*19+f,d=h&67108863;h>>>=26,i.words[c]=d,f=h}return f!==0&&(i.words[i.length++]=f),i},o._prime=function(i){if(L[i])return L[i];var f;if(i==="k256")f=new F;else if(i==="p224")f=new V;else if(i==="p192")f=new te;else if(i==="p25519")f=new X;else throw new Error("Unknown prime "+i);return L[i]=f,f};function ee(l){if(typeof l=="string"){var i=o._prime(l);this.m=i.p,this.prime=i}else n(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}ee.prototype._verify1=function(i){n(i.negative===0,"red works only with positives"),n(i.red,"red works only with red numbers")},ee.prototype._verify2=function(i,f){n((i.negative|f.negative)===0,"red works only with positives"),n(i.red&&i.red===f.red,"red works only with red numbers")},ee.prototype.imod=function(i){return this.prime?this.prime.ireduce(i)._forceRed(this):i.umod(this.m)._forceRed(this)},ee.prototype.neg=function(i){return i.isZero()?i.clone():this.m.sub(i)._forceRed(this)},ee.prototype.add=function(i,f){this._verify2(i,f);var c=i.add(f);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},ee.prototype.iadd=function(i,f){this._verify2(i,f);var c=i.iadd(f);return c.cmp(this.m)>=0&&c.isub(this.m),c},ee.prototype.sub=function(i,f){this._verify2(i,f);var c=i.sub(f);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},ee.prototype.isub=function(i,f){this._verify2(i,f);var c=i.isub(f);return c.cmpn(0)<0&&c.iadd(this.m),c},ee.prototype.shl=function(i,f){return this._verify1(i),this.imod(i.ushln(f))},ee.prototype.imul=function(i,f){return this._verify2(i,f),this.imod(i.imul(f))},ee.prototype.mul=function(i,f){return this._verify2(i,f),this.imod(i.mul(f))},ee.prototype.isqr=function(i){return this.imul(i,i.clone())},ee.prototype.sqr=function(i){return this.mul(i,i)},ee.prototype.sqrt=function(i){if(i.isZero())return i.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var c=this.m.add(new o(1)).iushrn(2);return this.pow(i,c)}for(var h=this.m.subn(1),d=0;!h.isZero()&&h.andln(1)===0;)d++,h.iushrn(1);n(!h.isZero());var _=new o(1).toRed(this),g=_.redNeg(),u=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new o(2*a*a).toRed(this);this.pow(a,u).cmp(g)!==0;)a.redIAdd(g);for(var v=this.pow(a,h),S=this.pow(i,h.addn(1).iushrn(1)),A=this.pow(i,h),I=d;A.cmp(_)!==0;){for(var q=A,$=0;q.cmp(_)!==0;$++)q=q.redSqr();n($<I);var W=this.pow(v,new o(1).iushln(I-$-1));S=S.redMul(W),v=W.redSqr(),A=A.redMul(v),I=$}return S},ee.prototype.invm=function(i){var f=i._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},ee.prototype.pow=function(i,f){if(f.isZero())return new o(1).toRed(this);if(f.cmpn(1)===0)return i.clone();var c=4,h=new Array(1<<c);h[0]=new o(1).toRed(this),h[1]=i;for(var d=2;d<h.length;d++)h[d]=this.mul(h[d-1],i);var _=h[0],g=0,u=0,a=f.bitLength()%26;for(a===0&&(a=26),d=f.length-1;d>=0;d--){for(var v=f.words[d],S=a-1;S>=0;S--){var A=v>>S&1;if(_!==h[0]&&(_=this.sqr(_)),A===0&&g===0){u=0;continue}g<<=1,g|=A,u++,!(u!==c&&(d!==0||S!==0))&&(_=this.mul(_,h[g]),u=0,g=0)}a=26}return _},ee.prototype.convertTo=function(i){var f=i.umod(this.m);return f===i?f.clone():f},ee.prototype.convertFrom=function(i){var f=i.clone();return f.red=null,f},o.mont=function(i){return new P(i)};function P(l){ee.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(P,ee),P.prototype.convertTo=function(i){return this.imod(i.ushln(this.shift))},P.prototype.convertFrom=function(i){var f=this.imod(i.mul(this.rinv));return f.red=null,f},P.prototype.imul=function(i,f){if(i.isZero()||f.isZero())return i.words[0]=0,i.length=1,i;var c=i.imul(f),h=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=c.isub(h).iushrn(this.shift),_=d;return d.cmp(this.m)>=0?_=d.isub(this.m):d.cmpn(0)<0&&(_=d.iadd(this.m)),_._forceRed(this)},P.prototype.mul=function(i,f){if(i.isZero()||f.isZero())return new o(0)._forceRed(this);var c=i.mul(f),h=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=c.isub(h).iushrn(this.shift),_=d;return d.cmp(this.m)>=0?_=d.isub(this.m):d.cmpn(0)<0&&(_=d.iadd(this.m)),_._forceRed(this)},P.prototype.invm=function(i){var f=this.imod(i._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(e,Oe)})(ir);Object.defineProperty($r,"__esModule",{value:!0});var pr=ir.exports,Dp=Do().ec,ta=new Dp("secp256k1"),kr=ta.curve;$r.privateKeyExport=function(e,t){t===void 0&&(t=!0);var r=new pr(e);if(r.ucmp(kr.n)>=0)throw new Error("couldn't export to DER format");var n=ta.g.mul(r);return eu(n.getX(),n.getY(),t)};$r.privateKeyModInverse=function(e){var t=new pr(e);if(t.ucmp(kr.n)>=0||t.isZero())throw new Error("private key range is invalid");return t.invm(kr.n).toArrayLike(j.Buffer,"be",32)};$r.signatureImport=function(e){var t=new pr(e.r);t.ucmp(kr.n)>=0&&(t=new pr(0));var r=new pr(e.s);return r.ucmp(kr.n)>=0&&(r=new pr(0)),j.Buffer.concat([t.toArrayLike(j.Buffer,"be",32),r.toArrayLike(j.Buffer,"be",32)])};$r.ecdhUnsafe=function(e,t,r){r===void 0&&(r=!0);var n=ta.keyFromPublic(e),s=new pr(t);if(s.ucmp(kr.n)>=0||s.isZero())throw new Error("scalar was invalid (zero or overflow)");var o=n.pub.mul(s);return eu(o.getX(),o.getY(),r)};var eu=function(e,t,r){var n;return r?(n=j.Buffer.alloc(33),n[0]=t.isOdd()?3:2,e.toArrayLike(j.Buffer,"be",32).copy(n,1)):(n=j.Buffer.alloc(65),n[0]=4,e.toArrayLike(j.Buffer,"be",32).copy(n,1),t.toArrayLike(j.Buffer,"be",32).copy(n,33)),n},hn={};Object.defineProperty(hn,"__esModule",{value:!0});var $p=j.Buffer.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Hp=j.Buffer.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);hn.privateKeyExport=function(e,t,r){r===void 0&&(r=!0);var n=j.Buffer.from(r?$p:Hp);return e.copy(n,r?8:9),t.copy(n,r?181:214),n};hn.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||e[r]!==48||(r+=1,t<r+1||!(e[r]&128)))return null;var n=e[r]&127;if(r+=1,n<1||n>2||t<r+n)return null;var s=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return r+=n,t<r+s||t<r+3||e[r]!==2||e[r+1]!==1||e[r+2]!==1||(r+=3,t<r+2||e[r]!==4||e[r+1]>32||t<r+2+e[r+1])?null:e.slice(r+2,r+2+e[r+1])};hn.signatureImportLax=function(e){var t=j.Buffer.alloc(32,0),r=j.Buffer.alloc(32,0),n=e.length,s=0;if(e[s++]!==48)return null;var o=e[s++];if(o&128&&(s+=o-128,s>n)||e[s++]!==2)return null;var p=e[s++];if(p&128){if(o=p-128,s+o>n)return null;for(;o>0&&e[s]===0;s+=1,o-=1);for(p=0;o>0;s+=1,o-=1)p=(p<<8)+e[s]}if(p>n-s)return null;var m=s;if(s+=p,e[s++]!==2)return null;var y=e[s++];if(y&128){if(o=y-128,s+o>n)return null;for(;o>0&&e[s]===0;s+=1,o-=1);for(y=0;o>0;s+=1,o-=1)y=(y<<8)+e[s]}if(y>n-s)return null;var x=s;for(s+=y;p>0&&e[m]===0;p-=1,m+=1);if(p>32)return null;var w=e.slice(m,m+p);for(w.copy(t,32-w.length);y>0&&e[x]===0;y-=1,x+=1);if(y>32)return null;var E=e.slice(x,x+y);return E.copy(r,32-E.length),{r:t,s:r}};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ecdhUnsafe=e.ecdh=e.recover=e.verify=e.sign=e.signatureImportLax=e.signatureImport=e.signatureExport=e.signatureNormalize=e.publicKeyCombine=e.publicKeyTweakMul=e.publicKeyTweakAdd=e.publicKeyVerify=e.publicKeyConvert=e.publicKeyCreate=e.privateKeyTweakMul=e.privateKeyTweakAdd=e.privateKeyModInverse=e.privateKeyNegate=e.privateKeyImport=e.privateKeyExport=e.privateKeyVerify=void 0;var t=jo,r=$r,n=hn;e.privateKeyVerify=function(s){return s.length!==32?!1:t.privateKeyVerify(Uint8Array.from(s))},e.privateKeyExport=function(s,o){if(s.length!==32)throw new RangeError("private key length is invalid");var p=r.privateKeyExport(s,o);return n.privateKeyExport(s,p,o)},e.privateKeyImport=function(s){if(s=n.privateKeyImport(s),s!==null&&s.length===32&&e.privateKeyVerify(s))return s;throw new Error("couldn't import from DER format")},e.privateKeyNegate=function(s){return j.Buffer.from(t.privateKeyNegate(Uint8Array.from(s)))},e.privateKeyModInverse=function(s){if(s.length!==32)throw new Error("private key length is invalid");return j.Buffer.from(r.privateKeyModInverse(Uint8Array.from(s)))},e.privateKeyTweakAdd=function(s,o){return j.Buffer.from(t.privateKeyTweakAdd(Uint8Array.from(s),o))},e.privateKeyTweakMul=function(s,o){return j.Buffer.from(t.privateKeyTweakMul(Uint8Array.from(s),Uint8Array.from(o)))},e.publicKeyCreate=function(s,o){return j.Buffer.from(t.publicKeyCreate(Uint8Array.from(s),o))},e.publicKeyConvert=function(s,o){return j.Buffer.from(t.publicKeyConvert(Uint8Array.from(s),o))},e.publicKeyVerify=function(s){return s.length!==33&&s.length!==65?!1:t.publicKeyVerify(Uint8Array.from(s))},e.publicKeyTweakAdd=function(s,o,p){return j.Buffer.from(t.publicKeyTweakAdd(Uint8Array.from(s),Uint8Array.from(o),p))},e.publicKeyTweakMul=function(s,o,p){return j.Buffer.from(t.publicKeyTweakMul(Uint8Array.from(s),Uint8Array.from(o),p))},e.publicKeyCombine=function(s,o){var p=[];return s.forEach(function(m){p.push(Uint8Array.from(m))}),j.Buffer.from(t.publicKeyCombine(p,o))},e.signatureNormalize=function(s){return j.Buffer.from(t.signatureNormalize(Uint8Array.from(s)))},e.signatureExport=function(s){return j.Buffer.from(t.signatureExport(Uint8Array.from(s)))},e.signatureImport=function(s){return j.Buffer.from(t.signatureImport(Uint8Array.from(s)))},e.signatureImportLax=function(s){if(s.length===0)throw new RangeError("signature length is invalid");var o=n.signatureImportLax(s);if(o===null)throw new Error("couldn't parse DER signature");return r.signatureImport(o)},e.sign=function(s,o,p){if(p===null)throw new TypeError("options should be an Object");var m=void 0;if(p){if(m={},p.data===null)throw new TypeError("options.data should be a Buffer");if(p.data){if(p.data.length!=32)throw new RangeError("options.data length is invalid");m.data=new Uint8Array(p.data)}if(p.noncefn===null)throw new TypeError("options.noncefn should be a Function");p.noncefn&&(m.noncefn=function(x,w,E,C,B){var b=E!=null?j.Buffer.from(E):null,T=C!=null?j.Buffer.from(C):null,M=j.Buffer.from("");return p.noncefn&&(M=p.noncefn(j.Buffer.from(x),j.Buffer.from(w),b,T,B)),new Uint8Array(M)})}var y=t.ecdsaSign(Uint8Array.from(s),Uint8Array.from(o),m);return{signature:j.Buffer.from(y.signature),recovery:y.recid}},e.verify=function(s,o,p){return t.ecdsaVerify(Uint8Array.from(o),Uint8Array.from(s),p)},e.recover=function(s,o,p,m){return j.Buffer.from(t.ecdsaRecover(Uint8Array.from(o),p,Uint8Array.from(s),m))},e.ecdh=function(s,o){return j.Buffer.from(t.ecdh(Uint8Array.from(s),Uint8Array.from(o),{}))},e.ecdhUnsafe=function(s,o,p){if(s.length!==33&&s.length!==65)throw new RangeError("public key length is invalid");if(o.length!==32)throw new RangeError("private key length is invalid");return j.Buffer.from(r.ecdhUnsafe(Uint8Array.from(s),Uint8Array.from(o),p))}})(ei);var tu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.MAX_INTEGER=void 0;var t=ir.exports;e.MAX_INTEGER=new t("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new t("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=j.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=j.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=j.Buffer.from(e.KECCAK256_RLP_S,"hex")})(tu);var ru={},Hr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.baToJSON=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToHex=e.bufferToInt=e.toBuffer=e.stripZeros=e.unpad=e.setLengthRight=e.setLength=e.setLengthLeft=e.zeros=void 0;var t=Ur,r=ir.exports;e.zeros=function(n){return j.Buffer.allocUnsafe(n).fill(0)},e.setLengthLeft=function(n,s,o){o===void 0&&(o=!1);var p=e.zeros(s);return n=e.toBuffer(n),o?n.length<s?(n.copy(p),p):n.slice(0,s):n.length<s?(n.copy(p,s-n.length),p):n.slice(-s)},e.setLength=e.setLengthLeft,e.setLengthRight=function(n,s){return e.setLength(n,s,!0)},e.unpad=function(n){n=t.stripHexPrefix(n);for(var s=n[0];n.length>0&&s.toString()==="0";)n=n.slice(1),s=n[0];return n},e.stripZeros=e.unpad,e.toBuffer=function(n){if(!j.Buffer.isBuffer(n))if(Array.isArray(n))n=j.Buffer.from(n);else if(typeof n=="string")if(t.isHexString(n))n=j.Buffer.from(t.padToEven(t.stripHexPrefix(n)),"hex");else throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+n);else if(typeof n=="number")n=t.intToBuffer(n);else if(n==null)n=j.Buffer.allocUnsafe(0);else if(r.isBN(n))n=n.toArrayLike(j.Buffer);else if(n.toArray)n=j.Buffer.from(n.toArray());else throw new Error("invalid type");return n},e.bufferToInt=function(n){return new r(e.toBuffer(n)).toNumber()},e.bufferToHex=function(n){return n=e.toBuffer(n),"0x"+n.toString("hex")},e.fromSigned=function(n){return new r(n).fromTwos(256)},e.toUnsigned=function(n){return j.Buffer.from(n.toTwos(256).toArray())},e.addHexPrefix=function(n){return typeof n!="string"||t.isHexPrefixed(n)?n:"0x"+n},e.baToJSON=function(n){if(j.Buffer.isBuffer(n))return"0x"+n.toString("hex");if(n instanceof Array){for(var s=[],o=0;o<n.length;o++)s.push(e.baToJSON(n[o]));return s}}})(Hr);var ti={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.rlphash=e.ripemd160=e.sha256=e.keccak256=e.keccak=void 0;var t=mr,r=t.keccak224,n=t.keccak384,s=t.keccak256,o=t.keccak512,p=df,m=Ur,y=qt,x=Hr;e.keccak=function(w,E){switch(E===void 0&&(E=256),typeof w=="string"&&!m.isHexString(w)?w=j.Buffer.from(w,"utf8"):w=x.toBuffer(w),E||(E=256),E){case 224:return r(w);case 256:return s(w);case 384:return n(w);case 512:return o(w);default:throw new Error("Invald algorithm: keccak"+E)}},e.keccak256=function(w){return e.keccak(w)},e.sha256=function(w){return w=x.toBuffer(w),p("sha256").update(w).digest()},e.ripemd160=function(w,E){w=x.toBuffer(w);var C=p("rmd160").update(w).digest();return E===!0?x.setLength(C,32):C},e.rlphash=function(w){return e.keccak(y.encode(w))}})(ti);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.importPublic=e.privateToPublic=e.privateToAddress=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.isPrecompiled=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isZeroAddress=e.isValidAddress=e.zeroAddress=void 0;var t=Qr(),r=Ur,n=ei,s=ir.exports,o=Hr,p=ti;e.zeroAddress=function(){var m=20,y=o.zeros(m);return o.bufferToHex(y)},e.isValidAddress=function(m){return/^0x[0-9a-fA-F]{40}$/.test(m)},e.isZeroAddress=function(m){var y=e.zeroAddress();return y===o.addHexPrefix(m)},e.toChecksumAddress=function(m,y){m=r.stripHexPrefix(m).toLowerCase();for(var x=y!==void 0?y.toString()+"0x":"",w=p.keccak(x+m).toString("hex"),E="0x",C=0;C<m.length;C++)parseInt(w[C],16)>=8?E+=m[C].toUpperCase():E+=m[C];return E},e.isValidChecksumAddress=function(m,y){return e.isValidAddress(m)&&e.toChecksumAddress(m,y)===m},e.generateAddress=function(m,y){m=o.toBuffer(m);var x=new s(y);return x.isZero()?p.rlphash([m,null]).slice(-20):p.rlphash([m,j.Buffer.from(x.toArray())]).slice(-20)},e.generateAddress2=function(m,y,x){var w=o.toBuffer(m),E=o.toBuffer(y),C=o.toBuffer(x);t(w.length===20),t(E.length===32);var B=p.keccak256(j.Buffer.concat([j.Buffer.from("ff","hex"),w,E,p.keccak256(C)]));return B.slice(-20)},e.isPrecompiled=function(m){var y=o.unpad(m);return y.length===1&&y[0]>=1&&y[0]<=8},e.isValidPrivate=function(m){return n.privateKeyVerify(m)},e.isValidPublic=function(m,y){return y===void 0&&(y=!1),m.length===64?n.publicKeyVerify(j.Buffer.concat([j.Buffer.from([4]),m])):y?n.publicKeyVerify(m):!1},e.pubToAddress=function(m,y){return y===void 0&&(y=!1),m=o.toBuffer(m),y&&m.length!==64&&(m=n.publicKeyConvert(m,!1).slice(1)),t(m.length===64),p.keccak(m).slice(-20)},e.publicToAddress=e.pubToAddress,e.privateToAddress=function(m){return e.publicToAddress(e.privateToPublic(m))},e.privateToPublic=function(m){return m=o.toBuffer(m),n.publicKeyCreate(m,!1).slice(1)},e.importPublic=function(m){return m=o.toBuffer(m),m.length!==64&&(m=n.publicKeyConvert(m,!1).slice(1)),m}})(ru);var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.hashPersonalMessage=ht.isValidSignature=ht.fromRpcSig=ht.toRpcSig=ht.ecrecover=ht.ecsign=void 0;var _o=ei,wn=ir.exports,vr=Hr,Fp=ti;ht.ecsign=function(e,t,r){var n=_o.sign(e,t),s=n.recovery,o={r:n.signature.slice(0,32),s:n.signature.slice(32,64),v:r?s+(r*2+35):s+27};return o};ht.ecrecover=function(e,t,r,n,s){var o=j.Buffer.concat([vr.setLength(r,32),vr.setLength(n,32)],64),p=ra(t,s);if(!na(p))throw new Error("Invalid signature v value");var m=_o.recover(e,o,p);return _o.publicKeyConvert(m,!1).slice(1)};ht.toRpcSig=function(e,t,r,n){var s=ra(e,n);if(!na(s))throw new Error("Invalid signature v value");return vr.bufferToHex(j.Buffer.concat([vr.setLengthLeft(t,32),vr.setLengthLeft(r,32),vr.toBuffer(e)]))};ht.fromRpcSig=function(e){var t=vr.toBuffer(e);if(t.length!==65)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}};ht.isValidSignature=function(e,t,r,n,s){n===void 0&&(n=!0);var o=new wn("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),p=new wn("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(t.length!==32||r.length!==32||!na(ra(e,s)))return!1;var m=new wn(t),y=new wn(r);return!(m.isZero()||m.gt(p)||y.isZero()||y.gt(p)||n&&y.cmp(o)===1)};ht.hashPersonalMessage=function(e){var t=j.Buffer.from(`Ethereum Signed Message:
`+e.length.toString(),"utf-8");return Fp.keccak(j.Buffer.concat([t,e]))};function ra(e,t){return t?e-(2*t+35):e-27}function na(e){return e===0||e===1}var ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.defineProperties=void 0;var vs=Qr(),jp=Ur,gs=qt,xn=Hr;ri.defineProperties=function(e,t,r){if(e.raw=[],e._fields=[],e.toJSON=function(s){if(s===void 0&&(s=!1),s){var o={};return e._fields.forEach(function(p){o[p]="0x"+e[p].toString("hex")}),o}return xn.baToJSON(e.raw)},e.serialize=function(){return gs.encode(e.raw)},t.forEach(function(s,o){e._fields.push(s.name);function p(){return e.raw[o]}function m(y){y=xn.toBuffer(y),y.toString("hex")==="00"&&!s.allowZero&&(y=j.Buffer.allocUnsafe(0)),s.allowLess&&s.length?(y=xn.stripZeros(y),vs(s.length>=y.length,"The field "+s.name+" must not have more "+s.length+" bytes")):!(s.allowZero&&y.length===0)&&s.length&&vs(s.length===y.length,"The field "+s.name+" must have byte length of "+s.length),e.raw[o]=y}Object.defineProperty(e,s.name,{enumerable:!0,configurable:!0,get:p,set:m}),s.default&&(e[s.name]=s.default),s.alias&&Object.defineProperty(e,s.alias,{enumerable:!1,configurable:!0,set:m,get:p})}),r)if(typeof r=="string"&&(r=j.Buffer.from(jp.stripHexPrefix(r),"hex")),j.Buffer.isBuffer(r)&&(r=gs.decode(r)),Array.isArray(r)){if(r.length>e._fields.length)throw new Error("wrong number of fields in data");r.forEach(function(s,o){e[e._fields[o]]=xn.toBuffer(s)})}else if(typeof r=="object"){var n=Object.keys(r);t.forEach(function(s){n.indexOf(s.name)!==-1&&(e[s.name]=r[s.name]),n.indexOf(s.alias)!==-1&&(e[s.alias]=r[s.alias])})}else throw new Error("invalid data")};(function(e){var t=Oe&&Oe.__createBinding||(Object.create?function(m,y,x,w){w===void 0&&(w=x),Object.defineProperty(m,w,{enumerable:!0,get:function(){return y[x]}})}:function(m,y,x,w){w===void 0&&(w=x),m[w]=y[x]}),r=Oe&&Oe.__exportStar||function(m,y){for(var x in m)x!=="default"&&!y.hasOwnProperty(x)&&t(y,m,x)};Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=e.rlp=e.BN=void 0;var n=ei;e.secp256k1=n;var s=Ur,o=ir.exports;e.BN=o;var p=qt;e.rlp=p,Object.assign(e,s),r(tu,e),r(ru,e),r(ti,e),r(ht,e),r(Hr,e),r(ri,e)})(Qf);const jt=Qf,ct=ir.exports;var it=function(){};function ni(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e}it.eventID=function(e,t){var r=e+"("+t.map(ni).join(",")+")";return jt.keccak256(j.Buffer.from(r))};it.methodID=function(e,t){return it.eventID(e,t).slice(0,4)};function er(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function wo(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function dn(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":parseInt(t[2],10):null}function hr(e){var t=typeof e;if(t==="string")return jt.isHexPrefixed(e)?new ct(jt.stripHexPrefix(e),16):new ct(e,10);if(t==="number")return new ct(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function nu(e){var t=/^(\w+)\((.*)\)$/.exec(e);if(t.length!==3)throw new Error("Invalid method signature");var r=/^(.+)\):\((.+)$/.exec(t[2]);if(r!==null&&r.length===3)return{method:t[1],args:r[1].split(","),retargs:r[2].split(",")};var n=t[2].split(",");return n.length===1&&n[0]===""&&(n=[]),{method:t[1],args:n}}function $t(e,t){var r,n,s,o;if(e==="address")return $t("uint160",hr(t));if(e==="bool")return $t("uint8",t?1:0);if(e==="string")return $t("bytes",j.Buffer.from(t,"utf8"));if(rn(e)){if(typeof t.length>"u")throw new Error("Not an array?");if(r=dn(e),r!=="dynamic"&&r!==0&&t.length>r)throw new Error("Elements exceed array size: "+r);s=[],e=e.slice(0,e.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(o in t)s.push($t(e,t[o]));if(r==="dynamic"){var p=$t("uint256",t.length);s.unshift(p)}return j.Buffer.concat(s)}else{if(e==="bytes")return t=j.Buffer.from(t),s=j.Buffer.concat([$t("uint256",t.length),t]),t.length%32!==0&&(s=j.Buffer.concat([s,jt.zeros(32-t.length%32)])),s;if(e.startsWith("bytes")){if(r=er(e),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return jt.setLengthRight(t,32)}else if(e.startsWith("uint")){if(r=er(e),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=hr(t),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(j.Buffer,"be",32)}else if(e.startsWith("int")){if(r=er(e),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=hr(t),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(j.Buffer,"be",32)}else if(e.startsWith("ufixed")){if(r=wo(e),n=hr(t),n<0)throw new Error("Supplied ufixed is negative");return $t("uint256",n.mul(new ct(2).pow(new ct(r[1]))))}else if(e.startsWith("fixed"))return r=wo(e),$t("int256",hr(t).mul(new ct(2).pow(new ct(r[1]))))}throw new Error("Unsupported or invalid type: "+e)}function Nt(e,t,r){typeof e=="string"&&(e=ia(e));var n,s,o,p;if(e.name==="address")return Nt(e.rawType,t,r).toArrayLike(j.Buffer,"be",20).toString("hex");if(e.name==="bool")return Nt(e.rawType,t,r).toString()===new ct(1).toString();if(e.name==="string"){var m=Nt(e.rawType,t,r);return j.Buffer.from(m,"utf8").toString()}else if(e.isArray){for(o=[],n=e.size,e.size==="dynamic"&&(r=Nt("uint256",t,r).toNumber(),n=Nt("uint256",t,r).toNumber(),r=r+32),p=0;p<n;p++){var y=Nt(e.subArray,t,r);o.push(y),r+=e.subArray.memoryUsage}return o}else{if(e.name==="bytes")return r=Nt("uint256",t,r).toNumber(),n=Nt("uint256",t,r).toNumber(),t.slice(r+32,r+32+n);if(e.name.startsWith("bytes"))return t.slice(r,r+e.size);if(e.name.startsWith("uint")){if(s=new ct(t.slice(r,r+32),16,"be"),s.bitLength()>e.size)throw new Error("Decoded int exceeds width: "+e.size+" vs "+s.bitLength());return s}else if(e.name.startsWith("int")){if(s=new ct(t.slice(r,r+32),16,"be").fromTwos(256),s.bitLength()>e.size)throw new Error("Decoded uint exceeds width: "+e.size+" vs "+s.bitLength());return s}else if(e.name.startsWith("ufixed")){if(n=new ct(2).pow(new ct(e.size[1])),s=Nt("uint256",t,r),!s.mod(n).isZero())throw new Error("Decimals not supported yet");return s.div(n)}else if(e.name.startsWith("fixed")){if(n=new ct(2).pow(new ct(e.size[1])),s=Nt("int256",t,r),!s.mod(n).isZero())throw new Error("Decimals not supported yet");return s.div(n)}}throw new Error("Unsupported or invalid type: "+e.name)}function ia(e){var t,r;if(rn(e)){t=dn(e);var n=e.slice(0,e.lastIndexOf("["));return n=ia(n),r={isArray:!0,name:e,size:t,memoryUsage:t==="dynamic"?32:n.memoryUsage*t,subArray:n},r}else{var s;switch(e){case"address":s="uint160";break;case"bool":s="uint8";break;case"string":s="bytes";break}if(r={rawType:s,name:e,memoryUsage:32},e.startsWith("bytes")&&e!=="bytes"||e.startsWith("uint")||e.startsWith("int")?r.size=er(e):(e.startsWith("ufixed")||e.startsWith("fixed"))&&(r.size=wo(e)),e.startsWith("bytes")&&e!=="bytes"&&(r.size<1||r.size>32))throw new Error("Invalid bytes<N> width: "+r.size);if((e.startsWith("uint")||e.startsWith("int"))&&(r.size%8||r.size<8||r.size>256))throw new Error("Invalid int/uint<N> width: "+r.size);return r}}function Kp(e){return e==="string"||e==="bytes"||dn(e)==="dynamic"}function rn(e){return e.lastIndexOf("]")===e.length-1}it.rawEncode=function(e,t){var r=[],n=[],s=0;e.forEach(function(x){if(rn(x)){var w=dn(x);w!=="dynamic"?s+=32*w:s+=32}else s+=32});for(var o=0;o<e.length;o++){var p=ni(e[o]),m=t[o],y=$t(p,m);Kp(p)?(r.push($t("uint256",s)),n.push(y),s+=y.length):r.push(y)}return j.Buffer.concat(r.concat(n))};it.rawDecode=function(e,t){var r=[];t=j.Buffer.from(t);for(var n=0,s=0;s<e.length;s++){var o=ni(e[s]),p=ia(o),m=Nt(p,t,n);n+=p.memoryUsage,r.push(m)}return r};it.simpleEncode=function(e){var t=Array.prototype.slice.call(arguments).slice(1),r=nu(e);if(t.length!==r.args.length)throw new Error("Argument count mismatch");return j.Buffer.concat([it.methodID(r.method,r.args),it.rawEncode(r.args,t)])};it.simpleDecode=function(e,t){var r=nu(e);if(!r.retargs)throw new Error("No return values in method");return it.rawDecode(r.retargs,t)};function ms(e,t){return e.startsWith("address")||e.startsWith("bytes")?"0x"+t.toString("hex"):t.toString()}it.stringify=function(e,t){var r=[];for(var n in e){var s=e[n],o=t[n];/^[^\[]+\[.*\]$/.test(s)?o=o.map(function(p){return ms(s,p)}).join(", "):o=ms(s,o),r.push(o)}return r};it.solidityHexValue=function(e,t,r){var n,s;if(rn(e)){var o=e.replace(/\[.*?\]/,"");if(!rn(o)){var p=dn(e);if(p!=="dynamic"&&p!==0&&t.length>p)throw new Error("Elements exceed array size: "+p)}var m=t.map(function(w){return it.solidityHexValue(o,w,256)});return j.Buffer.concat(m)}else{if(e==="bytes")return t;if(e==="string")return j.Buffer.from(t,"utf8");if(e==="bool"){r=r||8;var y=Array(r/4).join("0");return j.Buffer.from(t?y+"1":y+"0","hex")}else if(e==="address"){var x=20;return r&&(x=r/8),jt.setLengthLeft(t,x)}else if(e.startsWith("bytes")){if(n=er(e),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return jt.setLengthRight(t,n)}else if(e.startsWith("uint")){if(n=er(e),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(s=hr(t),s.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+s.bitLength());return r=r||n,s.toArrayLike(j.Buffer,"be",r/8)}else if(e.startsWith("int")){if(n=er(e),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(s=hr(t),s.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+s.bitLength());return r=r||n,s.toTwos(n).toArrayLike(j.Buffer,"be",r/8)}else throw new Error("Unsupported or invalid type: "+e)}};it.solidityPack=function(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r=[],n=0;n<e.length;n++){var s=ni(e[n]),o=t[n];r.push(it.solidityHexValue(s,o,null))}return j.Buffer.concat(r)};it.soliditySHA3=function(e,t){return jt.keccak256(it.solidityPack(e,t))};it.soliditySHA256=function(e,t){return jt.sha256(it.solidityPack(e,t))};it.solidityRIPEMD160=function(e,t){return jt.ripemd160(it.solidityPack(e,t),!0)};function zp(e){return e>="0"&&e<="9"}it.fromSerpent=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(n==="s")t.push("bytes");else if(n==="b"){for(var s="bytes",o=r+1;o<e.length&&zp(e[o]);)s+=e[o]-"0",o++;r=o-1,t.push(s)}else if(n==="i")t.push("int256");else if(n==="a")t.push("int256[]");else throw new Error("Unsupported or invalid type: "+n)}return t};it.toSerpent=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(n==="bytes")t.push("s");else if(n.startsWith("bytes"))t.push("b"+er(n));else if(n==="int256")t.push("i");else if(n==="int256[]")t.push("a");else throw new Error("Unsupported or invalid type: "+n)}return t.join("")};var Wp=it;(function(e){e.exports=Wp})(Xf);const Qe=qr,Ui=Xf.exports;var Gp={concatSig:function(e,t,r){const n=Qe.fromSigned(t),s=Qe.fromSigned(r),o=Qe.bufferToInt(e),p=_s(Qe.toUnsigned(n).toString("hex"),64),m=_s(Qe.toUnsigned(s).toString("hex"),64),y=Qe.stripHexPrefix(Qe.intToHex(o));return Qe.addHexPrefix(p.concat(m,y)).toString("hex")},normalize:function(e){if(!!e){if(typeof e=="number"){const r=Qe.toBuffer(e);e=Qe.bufferToHex(r)}if(typeof e!="string"){var t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=" received "+typeof e+": "+e,new Error(t)}return Qe.addHexPrefix(e.toLowerCase())}},personalSign:function(e,t){var r=Qe.toBuffer(t.data),n=Qe.hashPersonalMessage(r),s=Qe.ecsign(n,e),o=Qe.bufferToHex(this.concatSig(s.v,s.r,s.s));return o},recoverPersonalSignature:function(e){const t=ys(e),r=Qe.publicToAddress(t);return Qe.bufferToHex(r)},extractPublicKey:function(e){return"0x"+ys(e).toString("hex")},typedSignatureHash:function(e){const t=Di(e);return Qe.bufferToHex(t)},signTypedData:function(e,t){const r=Di(t.data),n=Qe.ecsign(r,e);return Qe.bufferToHex(this.concatSig(n.v,n.r,n.s))},recoverTypedSignature:function(e){const t=Di(e.data),r=iu(t,e.sig),n=Qe.publicToAddress(r);return Qe.bufferToHex(n)}};function Di(e){const t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!e.length)throw t;const r=e.map(function(o){return o.type==="bytes"?Qe.toBuffer(o.value):o.value}),n=e.map(function(o){return o.type}),s=e.map(function(o){if(!o.name)throw t;return o.type+" "+o.name});return Ui.soliditySHA3(["bytes32","bytes32"],[Ui.soliditySHA3(new Array(e.length).fill("string"),s),Ui.soliditySHA3(n,r)])}function iu(e,t){const r=Qe.toBuffer(t),n=Qe.fromRpcSig(r);return Qe.ecrecover(e,n.v,n.r,n.s)}function ys(e){const t=Qe.toBuffer(e.data),r=Qe.hashPersonalMessage(t);return iu(r,e.sig)}function _s(e,t){for(var r=""+e;r.length<t;)r="0"+r;return r}var ou={exports:{}};(function(e,t){(function(r){var n=function(o){setTimeout(o,0)};typeof Ze.exports<"u"&&Ze.exports&&typeof Ze.exports.nextTick=="function"&&(n=Ze.exports.nextTick);function s(o){var p={capacity:o||1,current:0,queue:[],firstHere:!1,take:function(){if(p.firstHere===!1){p.current++,p.firstHere=!0;var m=1}else var m=0;var y={n:1};typeof arguments[0]=="function"?y.task=arguments[0]:y.n=arguments[0],arguments.length>=2&&(typeof arguments[1]=="function"?y.task=arguments[1]:y.n=arguments[1]);var x=y.task;if(y.task=function(){x(p.leave)},p.current+y.n-m>p.capacity)return m===1&&(p.current--,p.firstHere=!1),p.queue.push(y);p.current+=y.n-m,y.task(p.leave),m===1&&(p.firstHere=!1)},leave:function(m){if(m=m||1,p.current-=m,!p.queue.length){if(p.current<0)throw new Error("leave called too many times.");return}var y=p.queue[0];y.n+p.current>p.capacity||(p.queue.shift(),p.current+=y.n,n(y.task))},available:function(m){return m=m||1,p.current+m<=p.capacity}};return p}e.exports=s})()})(ou);const Vp=Jo;var Zp=Yp;function Yp(e,t,r){e.sendAsync(Vp({method:"eth_estimateGas",params:[t]}),function(n,s){if(n)return n.message==="no contract code at given address"?r(null,"0xcf08"):r(n);r(null,s.result)})}const ft=go.exports,Jp=mo.exports,Xp=Ft.inherits,Nn=qr,Qp=Gp,br=Ho,ev=ou.exports,tv=Qn,rv=Zp,nv=/^[0-9A-Fa-f]+$/g;var iv=Xe;Xp(Xe,tv);function Xe(e){const t=this;t.nonceLock=ev(1),e.getAccounts&&(t.getAccounts=e.getAccounts),e.processTransaction&&(t.processTransaction=e.processTransaction),e.processMessage&&(t.processMessage=e.processMessage),e.processPersonalMessage&&(t.processPersonalMessage=e.processPersonalMessage),e.processTypedMessage&&(t.processTypedMessage=e.processTypedMessage),t.approveTransaction=e.approveTransaction||t.autoApprove,t.approveMessage=e.approveMessage||t.autoApprove,t.approvePersonalMessage=e.approvePersonalMessage||t.autoApprove,t.approveDecryptMessage=e.approveDecryptMessage||t.autoApprove,t.approveEncryptionPublicKey=e.approveEncryptionPublicKey||t.autoApprove,t.approveTypedMessage=e.approveTypedMessage||t.autoApprove,e.signTransaction&&(t.signTransaction=e.signTransaction||wr("signTransaction")),e.signMessage&&(t.signMessage=e.signMessage||wr("signMessage")),e.signPersonalMessage&&(t.signPersonalMessage=e.signPersonalMessage||wr("signPersonalMessage")),e.decryptMessage&&(t.decryptMessage=e.decryptMessage||wr("decryptMessage")),e.encryptionPublicKey&&(t.encryptionPublicKey=e.encryptionPublicKey||wr("encryptionPublicKey")),e.signTypedMessage&&(t.signTypedMessage=e.signTypedMessage||wr("signTypedMessage")),e.recoverPersonalSignature&&(t.recoverPersonalSignature=e.recoverPersonalSignature),e.publishTransaction&&(t.publishTransaction=e.publishTransaction),t.estimateGas=e.estimateGas||t.estimateGas,t.getGasPrice=e.getGasPrice||t.getGasPrice}Xe.prototype.handleRequest=function(e,t,r){const n=this;n._parityRequests={},n._parityRequestCount=0;let s,o,p,m,y;switch(e.method){case"eth_coinbase":n.getAccounts(function(x,w){if(x)return r(x);let E=w[0]||null;r(null,E)});return;case"eth_accounts":n.getAccounts(function(x,w){if(x)return r(x);r(null,w)});return;case"eth_sendTransaction":s=e.params[0],ft([x=>n.validateTransaction(s,x),x=>n.processTransaction(s,x)],r);return;case"eth_signTransaction":s=e.params[0],ft([x=>n.validateTransaction(s,x),x=>n.processSignTransaction(s,x)],r);return;case"eth_sign":y=e.params[0],m=e.params[1],p=e.params[2]||{},o=br(p,{from:y,data:m}),ft([x=>n.validateMessage(o,x),x=>n.processMessage(o,x)],r);return;case"personal_sign":return function(){const x=e.params[0],w=e.params[1];if(ws(w)&&$i(x)){let E="The eth_personalSign method requires params ordered ";E+="[message, address]. This was previously handled incorrectly, ",E+="and has been corrected automatically. ",E+="Please switch this param order for smooth behavior in the future.",console.warn(E),y=e.params[0],m=e.params[1]}else m=e.params[0],y=e.params[1];p=e.params[2]||{},o=br(p,{from:y,data:m}),ft([E=>n.validatePersonalMessage(o,E),E=>n.processPersonalMessage(o,E)],r)}();case"eth_decryptMessage":return function(){const x=e.params[0],w=e.params[1];if(ws(w)&&$i(x)){let E="The eth_decryptMessage method requires params ordered ";E+="[message, address]. This was previously handled incorrectly, ",E+="and has been corrected automatically. ",E+="Please switch this param order for smooth behavior in the future.",console.warn(E),y=e.params[0],m=e.params[1]}else m=e.params[0],y=e.params[1];p=e.params[2]||{},o=br(p,{from:y,data:m}),ft([E=>n.validateDecryptMessage(o,E),E=>n.processDecryptMessage(o,E)],r)}();case"encryption_public_key":return function(){const x=e.params[0];ft([w=>n.validateEncryptionPublicKey(x,w),w=>n.processEncryptionPublicKey(x,w)],r)}();case"personal_ecRecover":return function(){m=e.params[0];let x=e.params[1];p=e.params[2]||{},o=br(p,{sig:x,data:m}),n.recoverPersonalSignature(o,r)}();case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":return function(){const x=e.params[0],w=e.params[1];$i(x)?(y=x,m=w):(m=x,y=w),p=e.params[2]||{},o=br(p,{from:y,data:m}),ft([E=>n.validateTypedMessage(o,E),E=>n.processTypedMessage(o,E)],r)}();case"parity_postTransaction":s=e.params[0],n.parityPostTransaction(s,r);return;case"parity_postSign":y=e.params[0],m=e.params[1],n.parityPostSign(y,m,r);return;case"parity_checkRequest":return function(){const x=e.params[0];n.parityCheckRequest(x,r)}();case"parity_defaultAccount":n.getAccounts(function(x,w){if(x)return r(x);const E=w[0]||null;r(null,E)});return;default:t();return}};Xe.prototype.getAccounts=function(e){e(null,[])};Xe.prototype.processTransaction=function(e,t){const r=this;ft([n=>r.approveTransaction(e,n),(n,s)=>r.checkApproval("transaction",n,s),n=>r.finalizeAndSubmitTx(e,n)],t)};Xe.prototype.processSignTransaction=function(e,t){const r=this;ft([n=>r.approveTransaction(e,n),(n,s)=>r.checkApproval("transaction",n,s),n=>r.finalizeTx(e,n)],t)};Xe.prototype.processMessage=function(e,t){const r=this;ft([n=>r.approveMessage(e,n),(n,s)=>r.checkApproval("message",n,s),n=>r.signMessage(e,n)],t)};Xe.prototype.processPersonalMessage=function(e,t){const r=this;ft([n=>r.approvePersonalMessage(e,n),(n,s)=>r.checkApproval("message",n,s),n=>r.signPersonalMessage(e,n)],t)};Xe.prototype.processDecryptMessage=function(e,t){const r=this;ft([n=>r.approveDecryptMessage(e,n),(n,s)=>r.checkApproval("decryptMessage",n,s),n=>r.decryptMessage(e,n)],t)};Xe.prototype.processEncryptionPublicKey=function(e,t){const r=this;ft([n=>r.approveEncryptionPublicKey(e,n),(n,s)=>r.checkApproval("encryptionPublicKey",n,s),n=>r.encryptionPublicKey(e,n)],t)};Xe.prototype.processTypedMessage=function(e,t){const r=this;ft([n=>r.approveTypedMessage(e,n),(n,s)=>r.checkApproval("message",n,s),n=>r.signTypedMessage(e,n)],t)};Xe.prototype.autoApprove=function(e,t){t(null,!0)};Xe.prototype.checkApproval=function(e,t,r){r(t?null:new Error("User denied "+e+" signature."))};Xe.prototype.parityPostTransaction=function(e,t){const r=this,s=`0x${r._parityRequestCount.toString(16)}`;r._parityRequestCount++,r.emitPayload({method:"eth_sendTransaction",params:[e]},function(o,p){if(o){r._parityRequests[s]={error:o};return}const m=p.result;r._parityRequests[s]=m}),t(null,s)};Xe.prototype.parityPostSign=function(e,t,r){const n=this,o=`0x${n._parityRequestCount.toString(16)}`;n._parityRequestCount++,n.emitPayload({method:"eth_sign",params:[e,t]},function(p,m){if(p){n._parityRequests[o]={error:p};return}const y=m.result;n._parityRequests[o]=y}),r(null,o)};Xe.prototype.parityCheckRequest=function(e,t){const n=this._parityRequests[e]||null;if(!n)return t(null,null);if(n.error)return t(n.error);t(null,n)};Xe.prototype.recoverPersonalSignature=function(e,t){let r;try{r=Qp.recoverPersonalSignature(e)}catch(n){return t(n)}t(null,r)};Xe.prototype.validateTransaction=function(e,t){const r=this;if(e.from===void 0)return t(new Error("Undefined address - from address required to sign transaction."));r.validateSender(e.from,function(n,s){if(n)return t(n);if(!s)return t(new Error(`Unknown address - unable to sign transaction for this address: "${e.from}"`));t()})};Xe.prototype.validateMessage=function(e,t){const r=this;if(e.from===void 0)return t(new Error("Undefined address - from address required to sign message."));r.validateSender(e.from,function(n,s){if(n)return t(n);if(!s)return t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`));t()})};Xe.prototype.validatePersonalMessage=function(e,t){const r=this;if(e.from===void 0)return t(new Error("Undefined address - from address required to sign personal message."));if(e.data===void 0)return t(new Error("Undefined message - message required to sign personal message."));if(!oa(e.data))return t(new Error("HookedWalletSubprovider - validateMessage - message was not encoded as hex."));r.validateSender(e.from,function(n,s){if(n)return t(n);if(!s)return t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`));t()})};Xe.prototype.validateDecryptMessage=function(e,t){const r=this;if(e.from===void 0)return t(new Error("Undefined address - from address required to decrypt message."));if(e.data===void 0)return t(new Error("Undefined message - message required to decrypt message."));if(!oa(e.data))return t(new Error("HookedWalletSubprovider - validateDecryptMessage - message was not encoded as hex."));r.validateSender(e.from,function(n,s){if(n)return t(n);if(!s)return t(new Error(`Unknown address - unable to decrypt message for this address: "${e.from}"`));t()})};Xe.prototype.validateEncryptionPublicKey=function(e,t){this.validateSender(e,function(n,s){if(n)return t(n);if(!s)return t(new Error(`Unknown address - unable to obtain encryption public key for this address: "${e}"`));t()})};Xe.prototype.validateTypedMessage=function(e,t){if(e.from===void 0)return t(new Error("Undefined address - from address required to sign typed data."));if(e.data===void 0)return t(new Error("Undefined data - message required to sign typed data."));this.validateSender(e.from,function(r,n){if(r)return t(r);if(!n)return t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`));t()})};Xe.prototype.validateSender=function(e,t){const r=this;if(!e)return t(null,!1);r.getAccounts(function(n,s){if(n)return t(n);const o=s.map(av).indexOf(e.toLowerCase())!==-1;t(null,o)})};Xe.prototype.finalizeAndSubmitTx=function(e,t){const r=this;r.nonceLock.take(function(){ft([r.fillInTxExtras.bind(r,e),r.signTransaction.bind(r),r.publishTransaction.bind(r)],function(n,s){if(r.nonceLock.leave(),n)return t(n);t(null,s)})})};Xe.prototype.finalizeTx=function(e,t){const r=this;r.nonceLock.take(function(){ft([r.fillInTxExtras.bind(r,e),r.signTransaction.bind(r)],function(n,s){if(r.nonceLock.leave(),n)return t(n);t(null,{raw:s,tx:e})})})};Xe.prototype.publishTransaction=function(e,t){this.emitPayload({method:"eth_sendRawTransaction",params:[e]},function(n,s){if(n)return t(n);t(null,s.result)})};Xe.prototype.estimateGas=function(e,t){rv(this.engine,e,t)};Xe.prototype.getGasPrice=function(e){this.emitPayload({method:"eth_gasPrice",params:[]},function(r,n){if(r)return e(r);e(null,n.result)})};Xe.prototype.fillInTxExtras=function(e,t){const r=this,n=e.from,s={};e.gasPrice===void 0&&(s.gasPrice=r.getGasPrice.bind(r)),e.nonce===void 0&&(s.nonce=r.emitPayload.bind(r,{method:"eth_getTransactionCount",params:[n,"pending"]})),e.gas===void 0&&(s.gas=r.estimateGas.bind(r,ov(e))),Jp(s,function(o,p){if(o)return t(o);const m={};p.gasPrice&&(m.gasPrice=p.gasPrice),p.nonce&&(m.nonce=p.nonce.result),p.gas&&(m.gas=p.gas),t(null,br(e,m))})};function ov(e){return{from:e.from,to:e.to,value:e.value,data:e.data,gas:e.gas,gasPrice:e.gasPrice,nonce:e.nonce}}function av(e){return e.toLowerCase()}function $i(e){const t=Nn.addHexPrefix(e);return Nn.isValidAddress(t)}function ws(e){const t=Nn.addHexPrefix(e);return!Nn.isValidAddress(t)&&oa(e)}function oa(e){return!(typeof e=="string")||!(e.slice(0,2)==="0x")?!1:e.slice(2).match(nv)}function wr(e){return function(t,r){r(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "'+e+'" fn in constructor options'))}}const sv={v:5e3,d:"Gas limit of the Genesis block."},fv={v:17179869184,d:"Difficulty of the Genesis block."},uv={v:"0x0000000000000042",d:"the geneis nonce"},lv={v:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",d:"extra data "},cv={v:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",d:"genesis hash"},hv={v:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544",d:"the genesis state root"},dv={v:5e3,d:"Minimum the gas limit may ever be."},pv={v:1024,d:"The bound divisor of the gas limit, used in update calculations."},vv={v:131072,d:"The minimum that the difficulty may ever be."},gv={v:2048,d:"The bound divisor of the difficulty, used in the update calculations."},mv={v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not."},yv={v:32,d:"Maximum size extra data may be after Genesis."},_v={v:3e4,d:"Duration between proof-of-work epochs."},wv={v:1024,d:"Maximum size of VM stack allowed."},xv={v:1024,d:"Maximum depth of call/create stack."},bv={v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them."},Mv={v:10,d:"Once per EXP instuction."},Ev={v:10,d:"Times ceil(log256(exponent)) for the EXP instruction."},Sv={v:30,d:"Once per SHA3 operation."},Av={v:6,d:"Once per word of the SHA3 operation's data."},Tv={v:50,d:"Once per SLOAD operation."},Rv={v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero."},kv={v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero."},Cv={v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero."},Ov={v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero."},Pv={v:375,d:"Per LOG* operation."},Iv={v:8,d:"Per byte in a LOG* operation's data."},Bv={v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas."},Lv={v:32e3,d:"Once per CREATE operation & contract-creation transaction."},Nv={v:40,d:"Once per CALL operation & message call transaction."},qv={v:2300,d:"Free gas given at beginning of call."},Uv={v:9e3,d:"Paid for CALL when the value transfor is non-zero."},Dv={v:25e3,d:"Paid for CALL when the destination address didn't exist prior."},$v={v:24e3,d:"Refunded following a suicide operation."},Hv={v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL."},Fv={v:512,d:"Divisor for the quadratic particle of the memory cost equation."},jv={v:200,d:""},Kv={v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions."},zv={v:32e3,d:"the cost of creating a contract via tx"},Wv={v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions."},Gv={v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions."},Vv={v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added."},Zv={v:3e3,d:""},Yv={v:60,d:""},Jv={v:12,d:""},Xv={v:600,d:""},Qv={v:120,d:""},eg={v:15,d:""},tg={v:3,d:""},rg={v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},ng={v:"625000000000000000",d:"The amount of wei a miner of an uncle block gets for being inculded in the blockchain"},ig={v:"156250000000000000",d:"the amount a miner gets for inculding a uncle"},og={v:115e4,d:"the block that the Homestead fork started at"},ag={v:2463e3,d:"the block that the Homestead Reprice (EIP150) fork started at"},sg={v:1e5,d:"Exponential difficulty timebomb period"},fg={v:2},ug={genesisGasLimit:sv,genesisDifficulty:fv,genesisNonce:uv,genesisExtraData:lv,genesisHash:cv,genesisStateRoot:hv,minGasLimit:dv,gasLimitBoundDivisor:pv,minimumDifficulty:vv,difficultyBoundDivisor:gv,durationLimit:mv,maximumExtraDataSize:yv,epochDuration:_v,stackLimit:wv,callCreateDepth:xv,tierStepGas:bv,expGas:Mv,expByteGas:Ev,sha3Gas:Sv,sha3WordGas:Av,sloadGas:Tv,sstoreSetGas:Rv,sstoreResetGas:kv,sstoreRefundGas:Cv,jumpdestGas:Ov,logGas:Pv,logDataGas:Iv,logTopicGas:Bv,createGas:Lv,callGas:Nv,callStipend:qv,callValueTransferGas:Uv,callNewAccountGas:Dv,suicideRefundGas:$v,memoryGas:Hv,quadCoeffDiv:Fv,createDataGas:jv,txGas:Kv,txCreation:zv,txDataZeroGas:Wv,txDataNonZeroGas:Gv,copyGas:Vv,ecrecoverGas:Zv,sha256Gas:Yv,sha256WordGas:Jv,ripemd160Gas:Xv,ripemd160WordGas:Qv,identityGas:eg,identityWordGas:tg,minerReward:rg,ommerReward:ng,niblingReward:ig,homeSteadForkNumber:og,homesteadRepriceForkNumber:ag,timebombPeriod:sg,freeBlockPeriod:fg};function lg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Xt=qr,bn=ug,cr=Xt.BN,cg=new cr("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),hg=function(){function e(t){lg(this,e),t=t||{};var r=[{name:"nonce",length:32,allowLess:!0,default:new j.Buffer([])},{name:"gasPrice",length:32,allowLess:!0,default:new j.Buffer([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new j.Buffer([])},{name:"to",allowZero:!0,length:20,default:new j.Buffer([])},{name:"value",length:32,allowLess:!0,default:new j.Buffer([])},{name:"data",alias:"input",allowZero:!0,default:new j.Buffer([])},{name:"v",allowZero:!0,default:new j.Buffer([28])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new j.Buffer([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new j.Buffer([])}];Xt.defineProperties(this,r,t),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)});var n=Xt.bufferToInt(this.v),s=Math.floor((n-35)/2);s<0&&(s=0),this._chainId=s||t.chainId||0,this._homestead=!0}return e.prototype.toCreationAddress=function(){return this.to.toString("hex")===""},e.prototype.hash=function(r){r===void 0&&(r=!0);var n=void 0;if(r)n=this.raw;else if(this._chainId>0){var s=this.raw.slice();this.v=this._chainId,this.r=0,this.s=0,n=this.raw,this.raw=s}else n=this.raw.slice(0,6);return Xt.rlphash(n)},e.prototype.getChainId=function(){return this._chainId},e.prototype.getSenderAddress=function(){if(this._from)return this._from;var r=this.getSenderPublicKey();return this._from=Xt.publicToAddress(r),this._from},e.prototype.getSenderPublicKey=function(){if((!this._senderPubKey||!this._senderPubKey.length)&&!this.verifySignature())throw new Error("Invalid Signature");return this._senderPubKey},e.prototype.verifySignature=function(){var r=this.hash(!1);if(this._homestead&&new cr(this.s).cmp(cg)===1)return!1;try{var n=Xt.bufferToInt(this.v);this._chainId>0&&(n-=this._chainId*2+8),this._senderPubKey=Xt.ecrecover(r,n,this.r,this.s)}catch{return!1}return!!this._senderPubKey},e.prototype.sign=function(r){var n=this.hash(!1),s=Xt.ecsign(n,r);this._chainId>0&&(s.v+=this._chainId*2+8),Object.assign(this,s)},e.prototype.getDataFee=function(){for(var r=this.raw[5],n=new cr(0),s=0;s<r.length;s++)r[s]===0?n.iaddn(bn.txDataZeroGas.v):n.iaddn(bn.txDataNonZeroGas.v);return n},e.prototype.getBaseFee=function(){var r=this.getDataFee().iaddn(bn.txGas.v);return this._homestead&&this.toCreationAddress()&&r.iaddn(bn.txCreation.v),r},e.prototype.getUpfrontCost=function(){return new cr(this.gasLimit).imul(new cr(this.gasPrice)).iadd(new cr(this.value))},e.prototype.validate=function(r){var n=[];return this.verifySignature()||n.push("Invalid Signature"),this.getBaseFee().cmp(new cr(this.gasLimit))>0&&n.push(["gas limit is too low. Need at least "+this.getBaseFee()]),r===void 0||r===!1?n.length===0:n.join(" ")},e}(),dg=hg;const pg=Ft.inherits,vg=dg,Mn=qr,gg=Qn,mg=Xd.blockTagForPayload;var yg=aa;pg(aa,gg);function aa(e){const t=this;t.nonceCache={}}aa.prototype.handleRequest=function(e,t,r){const n=this;switch(e.method){case"eth_getTransactionCount":var s=mg(e),o=e.params[0].toLowerCase(),p=n.nonceCache[o];s==="pending"?p?r(null,p):t(function(m,y,x){if(m)return x();n.nonceCache[o]===void 0&&(n.nonceCache[o]=y),x()}):t();return;case"eth_sendRawTransaction":t(function(m,y,x){if(m)return x();var w=e.params[0];Mn.stripHexPrefix(w),j.Buffer.from(Mn.stripHexPrefix(w),"hex");var E=new vg(j.Buffer.from(Mn.stripHexPrefix(w),"hex")),C="0x"+E.getSenderAddress().toString("hex").toLowerCase(),B=Mn.bufferToInt(E.nonce);B++;var b=B.toString(16);b.length%2&&(b="0"+b),b="0x"+b,n.nonceCache[C]=b,x()});return;case"evm_revert":n.nonceCache={},t();return;default:t();return}};const _g=Xo,wg=v0;class xg extends _g{constructor(){super(({blockTracker:t,provider:r,engine:n})=>{const{events:s,middleware:o}=wg({blockTracker:t,provider:r});return s.on("notification",p=>n.emit("data",null,p)),o})}}var bg=xg,sa={},rt={};Object.defineProperty(rt,"__esModule",{value:!0});var au=rt.getLocalStorage=mu=rt.getLocalStorageOrThrow=gu=rt.getCrypto=vu=rt.getCryptoOrThrow=pu=rt.getLocation=du=rt.getLocationOrThrow=hu=rt.getNavigator=cu=rt.getNavigatorOrThrow=lu=rt.getDocument=uu=rt.getDocumentOrThrow=fu=rt.getFromWindowOrThrow=su=rt.getFromWindow=void 0;function yr(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}var su=rt.getFromWindow=yr;function Fr(e){const t=yr(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}var fu=rt.getFromWindowOrThrow=Fr;function Mg(){return Fr("document")}var uu=rt.getDocumentOrThrow=Mg;function Eg(){return yr("document")}var lu=rt.getDocument=Eg;function Sg(){return Fr("navigator")}var cu=rt.getNavigatorOrThrow=Sg;function Ag(){return yr("navigator")}var hu=rt.getNavigator=Ag;function Tg(){return Fr("location")}var du=rt.getLocationOrThrow=Tg;function Rg(){return yr("location")}var pu=rt.getLocation=Rg;function kg(){return Fr("crypto")}var vu=rt.getCryptoOrThrow=kg;function Cg(){return yr("crypto")}var gu=rt.getCrypto=Cg;function Og(){return Fr("localStorage")}var mu=rt.getLocalStorageOrThrow=Og;function Pg(){return yr("localStorage")}au=rt.getLocalStorage=Pg;Object.defineProperty(sa,"__esModule",{value:!0});var yu=sa.getWindowMetadata=void 0;const xs=rt;function Ig(){let e,t;try{e=xs.getDocumentOrThrow(),t=xs.getLocationOrThrow()}catch{return null}function r(){const E=e.getElementsByTagName("link"),C=[];for(let B=0;B<E.length;B++){const b=E[B],T=b.getAttribute("rel");if(T&&T.toLowerCase().indexOf("icon")>-1){const M=b.getAttribute("href");if(M)if(M.toLowerCase().indexOf("https:")===-1&&M.toLowerCase().indexOf("http:")===-1&&M.indexOf("//")!==0){let O=t.protocol+"//"+t.host;if(M.indexOf("/")===0)O+=M;else{const k=t.pathname.split("/");k.pop();const L=k.join("/");O+=L+"/"+M}C.push(O)}else if(M.indexOf("//")===0){const O=t.protocol+M;C.push(O)}else C.push(M)}}return C}function n(...E){const C=e.getElementsByTagName("meta");for(let B=0;B<C.length;B++){const b=C[B],T=["itemprop","property","name"].map(M=>b.getAttribute(M)).filter(M=>M?E.includes(M):!1);if(T.length&&T){const M=b.getAttribute("content");if(M)return M}}return""}function s(){let E=n("name","og:site_name","og:title","twitter:title");return E||(E=e.title),E}function o(){return n("description","og:description","twitter:description","keywords")}const p=s(),m=o(),y=t.origin,x=r();return{description:m,url:y,icons:x,name:p}}yu=sa.getWindowMetadata=Ig;var Bg=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],p=0,m=o.length;p<m;p++,s++)n[s]=o[p];return n},Lg=function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e}(),Ng=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=Ze.exports.platform}return e}(),qg=function(){function e(t,r,n,s){this.name=t,this.version=r,this.os=n,this.bot=s,this.type="bot-device"}return e}(),Ug=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),Dg=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),$g=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Hg=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,bs=3,Fg=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",$g]],Ms=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function jg(e){return e?Es(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Dg:typeof navigator<"u"?Es(navigator.userAgent):Wg()}function Kg(e){return e!==""&&Fg.reduce(function(t,r){var n=r[0],s=r[1];if(t)return t;var o=s.exec(e);return!!o&&[n,o]},!1)}function Es(e){var t=Kg(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new Ug;var s=n[1]&&n[1].split(/[._]/).slice(0,3);s?s.length<bs&&(s=Bg(s,Gg(bs-s.length))):s=[];var o=s.join("."),p=zg(e),m=Hg.exec(e);return m&&m[1]?new qg(r,o,p,m[1]):new Lg(r,o,p)}function zg(e){for(var t=0,r=Ms.length;t<r;t++){var n=Ms[t],s=n[0],o=n[1],p=o.exec(e);if(p)return s}return null}function Wg(){var e=typeof Ze.exports<"u"&&Ze.exports.version;return e?new Ng(Ze.exports.version.slice(1)):null}function Gg(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}function ii(e){return jg(e)}function oi(){const e=ii();return e&&e.os?e.os:void 0}function _u(){const e=oi();return e?e.toLowerCase().includes("android"):!1}function wu(){const e=oi();return e?e.toLowerCase().includes("ios")||e.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function xu(){return oi()?_u()||wu():!1}function bu(){const e=ii();return e&&e.name?e.name.toLowerCase()==="node":!1}function Mu(){return!bu()&&!!Su()}const Eu=su,Vg=fu,Zg=uu,Yg=lu,Jg=cu,Su=hu,Xg=du,Au=pu,Qg=vu,em=gu,tm=mu,ai=au;function xo(){return yu()}function rm(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return JSON.parse(e)}catch{return e}}function nm(e){return typeof e=="string"?e:JSON.stringify(e)}const Tu=rm,Ru=nm;function fa(e,t){const r=Ru(t),n=ai();n&&n.setItem(e,r)}function ua(e){let t=null,r=null;const n=ai();return n&&(r=n.getItem(e)),t=r&&Tu(r),t}function la(e){const t=ai();t&&t.removeItem(e)}const qn="WALLETCONNECT_DEEPLINK_CHOICE";function im(e,t){const r=encodeURIComponent(e);return t.universalLink?`${t.universalLink}/wc?uri=${r}`:t.deepLink?`${t.deepLink}${t.deepLink.endsWith(":")?"//":"/"}wc?uri=${r}`:""}function om(e){const t=e.href.split("?")[0];fa(qn,Object.assign(Object.assign({},e),{href:t}))}function ku(e,t){return e.filter(r=>r.name.toLowerCase().includes(t.toLowerCase()))[0]}function am(e,t){let r=e;return t&&(r=t.map(n=>ku(e,n)).filter(Boolean)),r}const Cu="https://registry.walletconnect.com";function sm(){return Cu+"/api/v2/wallets"}function fm(){return Cu+"/api/v2/dapps"}function Ou(e,t="mobile"){var r;return{name:e.name||"",shortName:e.metadata.shortName||"",color:e.metadata.colors.primary||"",logo:(r=e.image_url.sm)!==null&&r!==void 0?r:"",universalLink:e[t].universal||"",deepLink:e[t].native||""}}function um(e,t="mobile"){return Object.values(e).filter(r=>!!r[t].universal||!!r[t].native).map(r=>Ou(r,t))}const lm=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:ii,detectOS:oi,isAndroid:_u,isIOS:wu,isMobile:xu,isNode:bu,isBrowser:Mu,getFromWindow:Eu,getFromWindowOrThrow:Vg,getDocumentOrThrow:Zg,getDocument:Yg,getNavigatorOrThrow:Jg,getNavigator:Su,getLocationOrThrow:Xg,getLocation:Au,getCryptoOrThrow:Qg,getCrypto:em,getLocalStorageOrThrow:tm,getLocalStorage:ai,getClientMeta:xo,safeJsonParse:Tu,safeJsonStringify:Ru,setLocal:fa,getLocal:ua,removeLocal:la,mobileLinkChoiceKey:qn,formatIOSMobile:im,saveMobileLinkInfo:om,getMobileRegistryEntry:ku,getMobileLinkRegistry:am,getWalletRegistryUrl:sm,getDappRegistryUrl:fm,formatMobileRegistryEntry:Ou,formatMobileRegistry:um},Symbol.toStringTag,{value:"Module"})),cm=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],ca=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],hm={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var Pu={exports:{}};(function(e){(function(t,r){function n(P,l){if(!P)throw new Error(l||"Assertion failed")}function s(P,l){P.super_=l;var i=function(){};i.prototype=l.prototype,P.prototype=new i,P.prototype.constructor=P}function o(P,l,i){if(o.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&((l==="le"||l==="be")&&(i=l,l=10),this._init(P||0,l||10,i||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var p;try{p=j.Buffer}catch{}o.isBN=function(l){return l instanceof o?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===o.wordSize&&Array.isArray(l.words)},o.max=function(l,i){return l.cmp(i)>0?l:i},o.min=function(l,i){return l.cmp(i)<0?l:i},o.prototype._init=function(l,i,f){if(typeof l=="number")return this._initNumber(l,i,f);if(typeof l=="object")return this._initArray(l,i,f);i==="hex"&&(i=16),n(i===(i|0)&&i>=2&&i<=36),l=l.toString().replace(/\s+/g,"");var c=0;l[0]==="-"&&c++,i===16?this._parseHex(l,c):this._parseBase(l,i,c),l[0]==="-"&&(this.negative=1),this.strip(),f==="le"&&this._initArray(this.toArray(),i,f)},o.prototype._initNumber=function(l,i,f){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(n(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),i,f)},o.prototype._initArray=function(l,i,f){if(n(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var h,d,_=0;if(f==="be")for(c=l.length-1,h=0;c>=0;c-=3)d=l[c]|l[c-1]<<8|l[c-2]<<16,this.words[h]|=d<<_&67108863,this.words[h+1]=d>>>26-_&67108863,_+=24,_>=26&&(_-=26,h++);else if(f==="le")for(c=0,h=0;c<l.length;c+=3)d=l[c]|l[c+1]<<8|l[c+2]<<16,this.words[h]|=d<<_&67108863,this.words[h+1]=d>>>26-_&67108863,_+=24,_>=26&&(_-=26,h++);return this.strip()};function m(P,l,i){for(var f=0,c=Math.min(P.length,i),h=l;h<c;h++){var d=P.charCodeAt(h)-48;f<<=4,d>=49&&d<=54?f|=d-49+10:d>=17&&d<=22?f|=d-17+10:f|=d&15}return f}o.prototype._parseHex=function(l,i){this.length=Math.ceil((l.length-i)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var c,h,d=0;for(f=l.length-6,c=0;f>=i;f-=6)h=m(l,f,f+6),this.words[c]|=h<<d&67108863,this.words[c+1]|=h>>>26-d&4194303,d+=24,d>=26&&(d-=26,c++);f+6!==i&&(h=m(l,i,f+6),this.words[c]|=h<<d&67108863,this.words[c+1]|=h>>>26-d&4194303),this.strip()};function y(P,l,i,f){for(var c=0,h=Math.min(P.length,i),d=l;d<h;d++){var _=P.charCodeAt(d)-48;c*=f,_>=49?c+=_-49+10:_>=17?c+=_-17+10:c+=_}return c}o.prototype._parseBase=function(l,i,f){this.words=[0],this.length=1;for(var c=0,h=1;h<=67108863;h*=i)c++;c--,h=h/i|0;for(var d=l.length-f,_=d%c,g=Math.min(d,d-_)+f,u=0,a=f;a<g;a+=c)u=y(l,a,a+c,i),this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(_!==0){var v=1;for(u=y(l,a,l.length,i),a=0;a<_;a++)v*=i;this.imuln(v),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(l){l.words=new Array(this.length);for(var i=0;i<this.length;i++)l.words[i]=this.words[i];l.length=this.length,l.negative=this.negative,l.red=this.red},o.prototype.clone=function(){var l=new o(null);return this.copy(l),l},o.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(l,i){l=l||10,i=i|0||1;var f;if(l===16||l==="hex"){f="";for(var c=0,h=0,d=0;d<this.length;d++){var _=this.words[d],g=((_<<c|h)&16777215).toString(16);h=_>>>24-c&16777215,h!==0||d!==this.length-1?f=x[6-g.length]+g+f:f=g+f,c+=2,c>=26&&(c-=26,d--)}for(h!==0&&(f=h.toString(16)+f);f.length%i!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(l===(l|0)&&l>=2&&l<=36){var u=w[l],a=E[l];f="";var v=this.clone();for(v.negative=0;!v.isZero();){var S=v.modn(a).toString(l);v=v.idivn(a),v.isZero()?f=S+f:f=x[u-S.length]+S+f}for(this.isZero()&&(f="0"+f);f.length%i!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(l,i){return n(typeof p<"u"),this.toArrayLike(p,l,i)},o.prototype.toArray=function(l,i){return this.toArrayLike(Array,l,i)},o.prototype.toArrayLike=function(l,i,f){var c=this.byteLength(),h=f||Math.max(1,c);n(c<=h,"byte array longer than desired length"),n(h>0,"Requested array length <= 0"),this.strip();var d=i==="le",_=new l(h),g,u,a=this.clone();if(d){for(u=0;!a.isZero();u++)g=a.andln(255),a.iushrn(8),_[u]=g;for(;u<h;u++)_[u]=0}else{for(u=0;u<h-c;u++)_[u]=0;for(u=0;!a.isZero();u++)g=a.andln(255),a.iushrn(8),_[h-u-1]=g}return _},Math.clz32?o.prototype._countBits=function(l){return 32-Math.clz32(l)}:o.prototype._countBits=function(l){var i=l,f=0;return i>=4096&&(f+=13,i>>>=13),i>=64&&(f+=7,i>>>=7),i>=8&&(f+=4,i>>>=4),i>=2&&(f+=2,i>>>=2),f+i},o.prototype._zeroBits=function(l){if(l===0)return 26;var i=l,f=0;return(i&8191)===0&&(f+=13,i>>>=13),(i&127)===0&&(f+=7,i>>>=7),(i&15)===0&&(f+=4,i>>>=4),(i&3)===0&&(f+=2,i>>>=2),(i&1)===0&&f++,f},o.prototype.bitLength=function(){var l=this.words[this.length-1],i=this._countBits(l);return(this.length-1)*26+i};function C(P){for(var l=new Array(P.bitLength()),i=0;i<l.length;i++){var f=i/26|0,c=i%26;l[i]=(P.words[f]&1<<c)>>>c}return l}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,i=0;i<this.length;i++){var f=this._zeroBits(this.words[i]);if(l+=f,f!==26)break}return l},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},o.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var i=0;i<l.length;i++)this.words[i]=this.words[i]|l.words[i];return this.strip()},o.prototype.ior=function(l){return n((this.negative|l.negative)===0),this.iuor(l)},o.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},o.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},o.prototype.iuand=function(l){var i;this.length>l.length?i=l:i=this;for(var f=0;f<i.length;f++)this.words[f]=this.words[f]&l.words[f];return this.length=i.length,this.strip()},o.prototype.iand=function(l){return n((this.negative|l.negative)===0),this.iuand(l)},o.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},o.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},o.prototype.iuxor=function(l){var i,f;this.length>l.length?(i=this,f=l):(i=l,f=this);for(var c=0;c<f.length;c++)this.words[c]=i.words[c]^f.words[c];if(this!==i)for(;c<i.length;c++)this.words[c]=i.words[c];return this.length=i.length,this.strip()},o.prototype.ixor=function(l){return n((this.negative|l.negative)===0),this.iuxor(l)},o.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},o.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},o.prototype.inotn=function(l){n(typeof l=="number"&&l>=0);var i=Math.ceil(l/26)|0,f=l%26;this._expand(i),f>0&&i--;for(var c=0;c<i;c++)this.words[c]=~this.words[c]&67108863;return f>0&&(this.words[c]=~this.words[c]&67108863>>26-f),this.strip()},o.prototype.notn=function(l){return this.clone().inotn(l)},o.prototype.setn=function(l,i){n(typeof l=="number"&&l>=0);var f=l/26|0,c=l%26;return this._expand(f+1),i?this.words[f]=this.words[f]|1<<c:this.words[f]=this.words[f]&~(1<<c),this.strip()},o.prototype.iadd=function(l){var i;if(this.negative!==0&&l.negative===0)return this.negative=0,i=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,i=this.isub(l),l.negative=1,i._normSign();var f,c;this.length>l.length?(f=this,c=l):(f=l,c=this);for(var h=0,d=0;d<c.length;d++)i=(f.words[d]|0)+(c.words[d]|0)+h,this.words[d]=i&67108863,h=i>>>26;for(;h!==0&&d<f.length;d++)i=(f.words[d]|0)+h,this.words[d]=i&67108863,h=i>>>26;if(this.length=f.length,h!==0)this.words[this.length]=h,this.length++;else if(f!==this)for(;d<f.length;d++)this.words[d]=f.words[d];return this},o.prototype.add=function(l){var i;return l.negative!==0&&this.negative===0?(l.negative=0,i=this.sub(l),l.negative^=1,i):l.negative===0&&this.negative!==0?(this.negative=0,i=l.sub(this),this.negative=1,i):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},o.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var i=this.iadd(l);return l.negative=1,i._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var f=this.cmp(l);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var c,h;f>0?(c=this,h=l):(c=l,h=this);for(var d=0,_=0;_<h.length;_++)i=(c.words[_]|0)-(h.words[_]|0)+d,d=i>>26,this.words[_]=i&67108863;for(;d!==0&&_<c.length;_++)i=(c.words[_]|0)+d,d=i>>26,this.words[_]=i&67108863;if(d===0&&_<c.length&&c!==this)for(;_<c.length;_++)this.words[_]=c.words[_];return this.length=Math.max(this.length,_),c!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(l){return this.clone().isub(l)};function B(P,l,i){i.negative=l.negative^P.negative;var f=P.length+l.length|0;i.length=f,f=f-1|0;var c=P.words[0]|0,h=l.words[0]|0,d=c*h,_=d&67108863,g=d/67108864|0;i.words[0]=_;for(var u=1;u<f;u++){for(var a=g>>>26,v=g&67108863,S=Math.min(u,l.length-1),A=Math.max(0,u-P.length+1);A<=S;A++){var I=u-A|0;c=P.words[I]|0,h=l.words[A]|0,d=c*h+v,a+=d/67108864|0,v=d&67108863}i.words[u]=v|0,g=a|0}return g!==0?i.words[u]=g|0:i.length--,i.strip()}var b=function(l,i,f){var c=l.words,h=i.words,d=f.words,_=0,g,u,a,v=c[0]|0,S=v&8191,A=v>>>13,I=c[1]|0,q=I&8191,$=I>>>13,W=c[2]|0,oe=W&8191,G=W>>>13,se=c[3]|0,Re=se&8191,ie=se>>>13,pe=c[4]|0,ke=pe&8191,ae=pe>>>13,Ae=c[5]|0,qe=Ae&8191,ue=Ae>>>13,Ee=c[6]|0,Fe=Ee&8191,ve=Ee>>>13,U=c[7]|0,K=U&8191,R=U>>>13,H=c[8]|0,N=H&8191,z=H>>>13,Z=c[9]|0,le=Z&8191,Y=Z>>>13,J=h[0]|0,Ce=J&8191,re=J>>>13,be=h[1]|0,Ue=be&8191,ne=be>>>13,ge=h[2]|0,$e=ge&8191,de=ge>>>13,Me=h[3]|0,We=Me&8191,Q=Me>>>13,_e=h[4]|0,De=_e&8191,fe=_e>>>13,Se=h[5]|0,Je=Se&8191,ce=Se>>>13,Te=h[6]|0,ze=Te&8191,me=Te>>>13,Be=h[7]|0,Ge=Be&8191,ye=Be>>>13,Pe=h[8]|0,Ye=Pe&8191,we=Pe>>>13,Ne=h[9]|0,tt=Ne&8191,xe=Ne>>>13;f.negative=l.negative^i.negative,f.length=19,g=Math.imul(S,Ce),u=Math.imul(S,re),u=u+Math.imul(A,Ce)|0,a=Math.imul(A,re);var Le=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(Le>>>26)|0,Le&=67108863,g=Math.imul(q,Ce),u=Math.imul(q,re),u=u+Math.imul($,Ce)|0,a=Math.imul($,re),g=g+Math.imul(S,Ue)|0,u=u+Math.imul(S,ne)|0,u=u+Math.imul(A,Ue)|0,a=a+Math.imul(A,ne)|0;var mt=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,g=Math.imul(oe,Ce),u=Math.imul(oe,re),u=u+Math.imul(G,Ce)|0,a=Math.imul(G,re),g=g+Math.imul(q,Ue)|0,u=u+Math.imul(q,ne)|0,u=u+Math.imul($,Ue)|0,a=a+Math.imul($,ne)|0,g=g+Math.imul(S,$e)|0,u=u+Math.imul(S,de)|0,u=u+Math.imul(A,$e)|0,a=a+Math.imul(A,de)|0;var yt=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(yt>>>26)|0,yt&=67108863,g=Math.imul(Re,Ce),u=Math.imul(Re,re),u=u+Math.imul(ie,Ce)|0,a=Math.imul(ie,re),g=g+Math.imul(oe,Ue)|0,u=u+Math.imul(oe,ne)|0,u=u+Math.imul(G,Ue)|0,a=a+Math.imul(G,ne)|0,g=g+Math.imul(q,$e)|0,u=u+Math.imul(q,de)|0,u=u+Math.imul($,$e)|0,a=a+Math.imul($,de)|0,g=g+Math.imul(S,We)|0,u=u+Math.imul(S,Q)|0,u=u+Math.imul(A,We)|0,a=a+Math.imul(A,Q)|0;var _t=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,g=Math.imul(ke,Ce),u=Math.imul(ke,re),u=u+Math.imul(ae,Ce)|0,a=Math.imul(ae,re),g=g+Math.imul(Re,Ue)|0,u=u+Math.imul(Re,ne)|0,u=u+Math.imul(ie,Ue)|0,a=a+Math.imul(ie,ne)|0,g=g+Math.imul(oe,$e)|0,u=u+Math.imul(oe,de)|0,u=u+Math.imul(G,$e)|0,a=a+Math.imul(G,de)|0,g=g+Math.imul(q,We)|0,u=u+Math.imul(q,Q)|0,u=u+Math.imul($,We)|0,a=a+Math.imul($,Q)|0,g=g+Math.imul(S,De)|0,u=u+Math.imul(S,fe)|0,u=u+Math.imul(A,De)|0,a=a+Math.imul(A,fe)|0;var wt=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(wt>>>26)|0,wt&=67108863,g=Math.imul(qe,Ce),u=Math.imul(qe,re),u=u+Math.imul(ue,Ce)|0,a=Math.imul(ue,re),g=g+Math.imul(ke,Ue)|0,u=u+Math.imul(ke,ne)|0,u=u+Math.imul(ae,Ue)|0,a=a+Math.imul(ae,ne)|0,g=g+Math.imul(Re,$e)|0,u=u+Math.imul(Re,de)|0,u=u+Math.imul(ie,$e)|0,a=a+Math.imul(ie,de)|0,g=g+Math.imul(oe,We)|0,u=u+Math.imul(oe,Q)|0,u=u+Math.imul(G,We)|0,a=a+Math.imul(G,Q)|0,g=g+Math.imul(q,De)|0,u=u+Math.imul(q,fe)|0,u=u+Math.imul($,De)|0,a=a+Math.imul($,fe)|0,g=g+Math.imul(S,Je)|0,u=u+Math.imul(S,ce)|0,u=u+Math.imul(A,Je)|0,a=a+Math.imul(A,ce)|0;var xt=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,g=Math.imul(Fe,Ce),u=Math.imul(Fe,re),u=u+Math.imul(ve,Ce)|0,a=Math.imul(ve,re),g=g+Math.imul(qe,Ue)|0,u=u+Math.imul(qe,ne)|0,u=u+Math.imul(ue,Ue)|0,a=a+Math.imul(ue,ne)|0,g=g+Math.imul(ke,$e)|0,u=u+Math.imul(ke,de)|0,u=u+Math.imul(ae,$e)|0,a=a+Math.imul(ae,de)|0,g=g+Math.imul(Re,We)|0,u=u+Math.imul(Re,Q)|0,u=u+Math.imul(ie,We)|0,a=a+Math.imul(ie,Q)|0,g=g+Math.imul(oe,De)|0,u=u+Math.imul(oe,fe)|0,u=u+Math.imul(G,De)|0,a=a+Math.imul(G,fe)|0,g=g+Math.imul(q,Je)|0,u=u+Math.imul(q,ce)|0,u=u+Math.imul($,Je)|0,a=a+Math.imul($,ce)|0,g=g+Math.imul(S,ze)|0,u=u+Math.imul(S,me)|0,u=u+Math.imul(A,ze)|0,a=a+Math.imul(A,me)|0;var bt=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(bt>>>26)|0,bt&=67108863,g=Math.imul(K,Ce),u=Math.imul(K,re),u=u+Math.imul(R,Ce)|0,a=Math.imul(R,re),g=g+Math.imul(Fe,Ue)|0,u=u+Math.imul(Fe,ne)|0,u=u+Math.imul(ve,Ue)|0,a=a+Math.imul(ve,ne)|0,g=g+Math.imul(qe,$e)|0,u=u+Math.imul(qe,de)|0,u=u+Math.imul(ue,$e)|0,a=a+Math.imul(ue,de)|0,g=g+Math.imul(ke,We)|0,u=u+Math.imul(ke,Q)|0,u=u+Math.imul(ae,We)|0,a=a+Math.imul(ae,Q)|0,g=g+Math.imul(Re,De)|0,u=u+Math.imul(Re,fe)|0,u=u+Math.imul(ie,De)|0,a=a+Math.imul(ie,fe)|0,g=g+Math.imul(oe,Je)|0,u=u+Math.imul(oe,ce)|0,u=u+Math.imul(G,Je)|0,a=a+Math.imul(G,ce)|0,g=g+Math.imul(q,ze)|0,u=u+Math.imul(q,me)|0,u=u+Math.imul($,ze)|0,a=a+Math.imul($,me)|0,g=g+Math.imul(S,Ge)|0,u=u+Math.imul(S,ye)|0,u=u+Math.imul(A,Ge)|0,a=a+Math.imul(A,ye)|0;var Mt=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,g=Math.imul(N,Ce),u=Math.imul(N,re),u=u+Math.imul(z,Ce)|0,a=Math.imul(z,re),g=g+Math.imul(K,Ue)|0,u=u+Math.imul(K,ne)|0,u=u+Math.imul(R,Ue)|0,a=a+Math.imul(R,ne)|0,g=g+Math.imul(Fe,$e)|0,u=u+Math.imul(Fe,de)|0,u=u+Math.imul(ve,$e)|0,a=a+Math.imul(ve,de)|0,g=g+Math.imul(qe,We)|0,u=u+Math.imul(qe,Q)|0,u=u+Math.imul(ue,We)|0,a=a+Math.imul(ue,Q)|0,g=g+Math.imul(ke,De)|0,u=u+Math.imul(ke,fe)|0,u=u+Math.imul(ae,De)|0,a=a+Math.imul(ae,fe)|0,g=g+Math.imul(Re,Je)|0,u=u+Math.imul(Re,ce)|0,u=u+Math.imul(ie,Je)|0,a=a+Math.imul(ie,ce)|0,g=g+Math.imul(oe,ze)|0,u=u+Math.imul(oe,me)|0,u=u+Math.imul(G,ze)|0,a=a+Math.imul(G,me)|0,g=g+Math.imul(q,Ge)|0,u=u+Math.imul(q,ye)|0,u=u+Math.imul($,Ge)|0,a=a+Math.imul($,ye)|0,g=g+Math.imul(S,Ye)|0,u=u+Math.imul(S,we)|0,u=u+Math.imul(A,Ye)|0,a=a+Math.imul(A,we)|0;var Et=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(Et>>>26)|0,Et&=67108863,g=Math.imul(le,Ce),u=Math.imul(le,re),u=u+Math.imul(Y,Ce)|0,a=Math.imul(Y,re),g=g+Math.imul(N,Ue)|0,u=u+Math.imul(N,ne)|0,u=u+Math.imul(z,Ue)|0,a=a+Math.imul(z,ne)|0,g=g+Math.imul(K,$e)|0,u=u+Math.imul(K,de)|0,u=u+Math.imul(R,$e)|0,a=a+Math.imul(R,de)|0,g=g+Math.imul(Fe,We)|0,u=u+Math.imul(Fe,Q)|0,u=u+Math.imul(ve,We)|0,a=a+Math.imul(ve,Q)|0,g=g+Math.imul(qe,De)|0,u=u+Math.imul(qe,fe)|0,u=u+Math.imul(ue,De)|0,a=a+Math.imul(ue,fe)|0,g=g+Math.imul(ke,Je)|0,u=u+Math.imul(ke,ce)|0,u=u+Math.imul(ae,Je)|0,a=a+Math.imul(ae,ce)|0,g=g+Math.imul(Re,ze)|0,u=u+Math.imul(Re,me)|0,u=u+Math.imul(ie,ze)|0,a=a+Math.imul(ie,me)|0,g=g+Math.imul(oe,Ge)|0,u=u+Math.imul(oe,ye)|0,u=u+Math.imul(G,Ge)|0,a=a+Math.imul(G,ye)|0,g=g+Math.imul(q,Ye)|0,u=u+Math.imul(q,we)|0,u=u+Math.imul($,Ye)|0,a=a+Math.imul($,we)|0,g=g+Math.imul(S,tt)|0,u=u+Math.imul(S,xe)|0,u=u+Math.imul(A,tt)|0,a=a+Math.imul(A,xe)|0;var St=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(St>>>26)|0,St&=67108863,g=Math.imul(le,Ue),u=Math.imul(le,ne),u=u+Math.imul(Y,Ue)|0,a=Math.imul(Y,ne),g=g+Math.imul(N,$e)|0,u=u+Math.imul(N,de)|0,u=u+Math.imul(z,$e)|0,a=a+Math.imul(z,de)|0,g=g+Math.imul(K,We)|0,u=u+Math.imul(K,Q)|0,u=u+Math.imul(R,We)|0,a=a+Math.imul(R,Q)|0,g=g+Math.imul(Fe,De)|0,u=u+Math.imul(Fe,fe)|0,u=u+Math.imul(ve,De)|0,a=a+Math.imul(ve,fe)|0,g=g+Math.imul(qe,Je)|0,u=u+Math.imul(qe,ce)|0,u=u+Math.imul(ue,Je)|0,a=a+Math.imul(ue,ce)|0,g=g+Math.imul(ke,ze)|0,u=u+Math.imul(ke,me)|0,u=u+Math.imul(ae,ze)|0,a=a+Math.imul(ae,me)|0,g=g+Math.imul(Re,Ge)|0,u=u+Math.imul(Re,ye)|0,u=u+Math.imul(ie,Ge)|0,a=a+Math.imul(ie,ye)|0,g=g+Math.imul(oe,Ye)|0,u=u+Math.imul(oe,we)|0,u=u+Math.imul(G,Ye)|0,a=a+Math.imul(G,we)|0,g=g+Math.imul(q,tt)|0,u=u+Math.imul(q,xe)|0,u=u+Math.imul($,tt)|0,a=a+Math.imul($,xe)|0;var At=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(At>>>26)|0,At&=67108863,g=Math.imul(le,$e),u=Math.imul(le,de),u=u+Math.imul(Y,$e)|0,a=Math.imul(Y,de),g=g+Math.imul(N,We)|0,u=u+Math.imul(N,Q)|0,u=u+Math.imul(z,We)|0,a=a+Math.imul(z,Q)|0,g=g+Math.imul(K,De)|0,u=u+Math.imul(K,fe)|0,u=u+Math.imul(R,De)|0,a=a+Math.imul(R,fe)|0,g=g+Math.imul(Fe,Je)|0,u=u+Math.imul(Fe,ce)|0,u=u+Math.imul(ve,Je)|0,a=a+Math.imul(ve,ce)|0,g=g+Math.imul(qe,ze)|0,u=u+Math.imul(qe,me)|0,u=u+Math.imul(ue,ze)|0,a=a+Math.imul(ue,me)|0,g=g+Math.imul(ke,Ge)|0,u=u+Math.imul(ke,ye)|0,u=u+Math.imul(ae,Ge)|0,a=a+Math.imul(ae,ye)|0,g=g+Math.imul(Re,Ye)|0,u=u+Math.imul(Re,we)|0,u=u+Math.imul(ie,Ye)|0,a=a+Math.imul(ie,we)|0,g=g+Math.imul(oe,tt)|0,u=u+Math.imul(oe,xe)|0,u=u+Math.imul(G,tt)|0,a=a+Math.imul(G,xe)|0;var Tt=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,g=Math.imul(le,We),u=Math.imul(le,Q),u=u+Math.imul(Y,We)|0,a=Math.imul(Y,Q),g=g+Math.imul(N,De)|0,u=u+Math.imul(N,fe)|0,u=u+Math.imul(z,De)|0,a=a+Math.imul(z,fe)|0,g=g+Math.imul(K,Je)|0,u=u+Math.imul(K,ce)|0,u=u+Math.imul(R,Je)|0,a=a+Math.imul(R,ce)|0,g=g+Math.imul(Fe,ze)|0,u=u+Math.imul(Fe,me)|0,u=u+Math.imul(ve,ze)|0,a=a+Math.imul(ve,me)|0,g=g+Math.imul(qe,Ge)|0,u=u+Math.imul(qe,ye)|0,u=u+Math.imul(ue,Ge)|0,a=a+Math.imul(ue,ye)|0,g=g+Math.imul(ke,Ye)|0,u=u+Math.imul(ke,we)|0,u=u+Math.imul(ae,Ye)|0,a=a+Math.imul(ae,we)|0,g=g+Math.imul(Re,tt)|0,u=u+Math.imul(Re,xe)|0,u=u+Math.imul(ie,tt)|0,a=a+Math.imul(ie,xe)|0;var Rt=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,g=Math.imul(le,De),u=Math.imul(le,fe),u=u+Math.imul(Y,De)|0,a=Math.imul(Y,fe),g=g+Math.imul(N,Je)|0,u=u+Math.imul(N,ce)|0,u=u+Math.imul(z,Je)|0,a=a+Math.imul(z,ce)|0,g=g+Math.imul(K,ze)|0,u=u+Math.imul(K,me)|0,u=u+Math.imul(R,ze)|0,a=a+Math.imul(R,me)|0,g=g+Math.imul(Fe,Ge)|0,u=u+Math.imul(Fe,ye)|0,u=u+Math.imul(ve,Ge)|0,a=a+Math.imul(ve,ye)|0,g=g+Math.imul(qe,Ye)|0,u=u+Math.imul(qe,we)|0,u=u+Math.imul(ue,Ye)|0,a=a+Math.imul(ue,we)|0,g=g+Math.imul(ke,tt)|0,u=u+Math.imul(ke,xe)|0,u=u+Math.imul(ae,tt)|0,a=a+Math.imul(ae,xe)|0;var kt=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(kt>>>26)|0,kt&=67108863,g=Math.imul(le,Je),u=Math.imul(le,ce),u=u+Math.imul(Y,Je)|0,a=Math.imul(Y,ce),g=g+Math.imul(N,ze)|0,u=u+Math.imul(N,me)|0,u=u+Math.imul(z,ze)|0,a=a+Math.imul(z,me)|0,g=g+Math.imul(K,Ge)|0,u=u+Math.imul(K,ye)|0,u=u+Math.imul(R,Ge)|0,a=a+Math.imul(R,ye)|0,g=g+Math.imul(Fe,Ye)|0,u=u+Math.imul(Fe,we)|0,u=u+Math.imul(ve,Ye)|0,a=a+Math.imul(ve,we)|0,g=g+Math.imul(qe,tt)|0,u=u+Math.imul(qe,xe)|0,u=u+Math.imul(ue,tt)|0,a=a+Math.imul(ue,xe)|0;var Ct=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,g=Math.imul(le,ze),u=Math.imul(le,me),u=u+Math.imul(Y,ze)|0,a=Math.imul(Y,me),g=g+Math.imul(N,Ge)|0,u=u+Math.imul(N,ye)|0,u=u+Math.imul(z,Ge)|0,a=a+Math.imul(z,ye)|0,g=g+Math.imul(K,Ye)|0,u=u+Math.imul(K,we)|0,u=u+Math.imul(R,Ye)|0,a=a+Math.imul(R,we)|0,g=g+Math.imul(Fe,tt)|0,u=u+Math.imul(Fe,xe)|0,u=u+Math.imul(ve,tt)|0,a=a+Math.imul(ve,xe)|0;var Ot=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,g=Math.imul(le,Ge),u=Math.imul(le,ye),u=u+Math.imul(Y,Ge)|0,a=Math.imul(Y,ye),g=g+Math.imul(N,Ye)|0,u=u+Math.imul(N,we)|0,u=u+Math.imul(z,Ye)|0,a=a+Math.imul(z,we)|0,g=g+Math.imul(K,tt)|0,u=u+Math.imul(K,xe)|0,u=u+Math.imul(R,tt)|0,a=a+Math.imul(R,xe)|0;var Pt=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,g=Math.imul(le,Ye),u=Math.imul(le,we),u=u+Math.imul(Y,Ye)|0,a=Math.imul(Y,we),g=g+Math.imul(N,tt)|0,u=u+Math.imul(N,xe)|0,u=u+Math.imul(z,tt)|0,a=a+Math.imul(z,xe)|0;var It=(_+g|0)+((u&8191)<<13)|0;_=(a+(u>>>13)|0)+(It>>>26)|0,It&=67108863,g=Math.imul(le,tt),u=Math.imul(le,xe),u=u+Math.imul(Y,tt)|0,a=Math.imul(Y,xe);var Bt=(_+g|0)+((u&8191)<<13)|0;return _=(a+(u>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,d[0]=Le,d[1]=mt,d[2]=yt,d[3]=_t,d[4]=wt,d[5]=xt,d[6]=bt,d[7]=Mt,d[8]=Et,d[9]=St,d[10]=At,d[11]=Tt,d[12]=Rt,d[13]=kt,d[14]=Ct,d[15]=Ot,d[16]=Pt,d[17]=It,d[18]=Bt,_!==0&&(d[19]=_,f.length++),f};Math.imul||(b=B);function T(P,l,i){i.negative=l.negative^P.negative,i.length=P.length+l.length;for(var f=0,c=0,h=0;h<i.length-1;h++){var d=c;c=0;for(var _=f&67108863,g=Math.min(h,l.length-1),u=Math.max(0,h-P.length+1);u<=g;u++){var a=h-u,v=P.words[a]|0,S=l.words[u]|0,A=v*S,I=A&67108863;d=d+(A/67108864|0)|0,I=I+_|0,_=I&67108863,d=d+(I>>>26)|0,c+=d>>>26,d&=67108863}i.words[h]=_,f=d,d=c}return f!==0?i.words[h]=f:i.length--,i.strip()}function M(P,l,i){var f=new O;return f.mulp(P,l,i)}o.prototype.mulTo=function(l,i){var f,c=this.length+l.length;return this.length===10&&l.length===10?f=b(this,l,i):c<63?f=B(this,l,i):c<1024?f=T(this,l,i):f=M(this,l,i),f};function O(P,l){this.x=P,this.y=l}O.prototype.makeRBT=function(l){for(var i=new Array(l),f=o.prototype._countBits(l)-1,c=0;c<l;c++)i[c]=this.revBin(c,f,l);return i},O.prototype.revBin=function(l,i,f){if(l===0||l===f-1)return l;for(var c=0,h=0;h<i;h++)c|=(l&1)<<i-h-1,l>>=1;return c},O.prototype.permute=function(l,i,f,c,h,d){for(var _=0;_<d;_++)c[_]=i[l[_]],h[_]=f[l[_]]},O.prototype.transform=function(l,i,f,c,h,d){this.permute(d,l,i,f,c,h);for(var _=1;_<h;_<<=1)for(var g=_<<1,u=Math.cos(2*Math.PI/g),a=Math.sin(2*Math.PI/g),v=0;v<h;v+=g)for(var S=u,A=a,I=0;I<_;I++){var q=f[v+I],$=c[v+I],W=f[v+I+_],oe=c[v+I+_],G=S*W-A*oe;oe=S*oe+A*W,W=G,f[v+I]=q+W,c[v+I]=$+oe,f[v+I+_]=q-W,c[v+I+_]=$-oe,I!==g&&(G=u*S-a*A,A=u*A+a*S,S=G)}},O.prototype.guessLen13b=function(l,i){var f=Math.max(i,l)|1,c=f&1,h=0;for(f=f/2|0;f;f=f>>>1)h++;return 1<<h+1+c},O.prototype.conjugate=function(l,i,f){if(!(f<=1))for(var c=0;c<f/2;c++){var h=l[c];l[c]=l[f-c-1],l[f-c-1]=h,h=i[c],i[c]=-i[f-c-1],i[f-c-1]=-h}},O.prototype.normalize13b=function(l,i){for(var f=0,c=0;c<i/2;c++){var h=Math.round(l[2*c+1]/i)*8192+Math.round(l[2*c]/i)+f;l[c]=h&67108863,h<67108864?f=0:f=h/67108864|0}return l},O.prototype.convert13b=function(l,i,f,c){for(var h=0,d=0;d<i;d++)h=h+(l[d]|0),f[2*d]=h&8191,h=h>>>13,f[2*d+1]=h&8191,h=h>>>13;for(d=2*i;d<c;++d)f[d]=0;n(h===0),n((h&-8192)===0)},O.prototype.stub=function(l){for(var i=new Array(l),f=0;f<l;f++)i[f]=0;return i},O.prototype.mulp=function(l,i,f){var c=2*this.guessLen13b(l.length,i.length),h=this.makeRBT(c),d=this.stub(c),_=new Array(c),g=new Array(c),u=new Array(c),a=new Array(c),v=new Array(c),S=new Array(c),A=f.words;A.length=c,this.convert13b(l.words,l.length,_,c),this.convert13b(i.words,i.length,a,c),this.transform(_,d,g,u,c,h),this.transform(a,d,v,S,c,h);for(var I=0;I<c;I++){var q=g[I]*v[I]-u[I]*S[I];u[I]=g[I]*S[I]+u[I]*v[I],g[I]=q}return this.conjugate(g,u,c),this.transform(g,u,A,d,c,h),this.conjugate(A,d,c),this.normalize13b(A,c),f.negative=l.negative^i.negative,f.length=l.length+i.length,f.strip()},o.prototype.mul=function(l){var i=new o(null);return i.words=new Array(this.length+l.length),this.mulTo(l,i)},o.prototype.mulf=function(l){var i=new o(null);return i.words=new Array(this.length+l.length),M(this,l,i)},o.prototype.imul=function(l){return this.clone().mulTo(l,this)},o.prototype.imuln=function(l){n(typeof l=="number"),n(l<67108864);for(var i=0,f=0;f<this.length;f++){var c=(this.words[f]|0)*l,h=(c&67108863)+(i&67108863);i>>=26,i+=c/67108864|0,i+=h>>>26,this.words[f]=h&67108863}return i!==0&&(this.words[f]=i,this.length++),this},o.prototype.muln=function(l){return this.clone().imuln(l)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(l){var i=C(l);if(i.length===0)return new o(1);for(var f=this,c=0;c<i.length&&i[c]===0;c++,f=f.sqr());if(++c<i.length)for(var h=f.sqr();c<i.length;c++,h=h.sqr())i[c]!==0&&(f=f.mul(h));return f},o.prototype.iushln=function(l){n(typeof l=="number"&&l>=0);var i=l%26,f=(l-i)/26,c=67108863>>>26-i<<26-i,h;if(i!==0){var d=0;for(h=0;h<this.length;h++){var _=this.words[h]&c,g=(this.words[h]|0)-_<<i;this.words[h]=g|d,d=_>>>26-i}d&&(this.words[h]=d,this.length++)}if(f!==0){for(h=this.length-1;h>=0;h--)this.words[h+f]=this.words[h];for(h=0;h<f;h++)this.words[h]=0;this.length+=f}return this.strip()},o.prototype.ishln=function(l){return n(this.negative===0),this.iushln(l)},o.prototype.iushrn=function(l,i,f){n(typeof l=="number"&&l>=0);var c;i?c=(i-i%26)/26:c=0;var h=l%26,d=Math.min((l-h)/26,this.length),_=67108863^67108863>>>h<<h,g=f;if(c-=d,c=Math.max(0,c),g){for(var u=0;u<d;u++)g.words[u]=this.words[u];g.length=d}if(d!==0)if(this.length>d)for(this.length-=d,u=0;u<this.length;u++)this.words[u]=this.words[u+d];else this.words[0]=0,this.length=1;var a=0;for(u=this.length-1;u>=0&&(a!==0||u>=c);u--){var v=this.words[u]|0;this.words[u]=a<<26-h|v>>>h,a=v&_}return g&&a!==0&&(g.words[g.length++]=a),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(l,i,f){return n(this.negative===0),this.iushrn(l,i,f)},o.prototype.shln=function(l){return this.clone().ishln(l)},o.prototype.ushln=function(l){return this.clone().iushln(l)},o.prototype.shrn=function(l){return this.clone().ishrn(l)},o.prototype.ushrn=function(l){return this.clone().iushrn(l)},o.prototype.testn=function(l){n(typeof l=="number"&&l>=0);var i=l%26,f=(l-i)/26,c=1<<i;if(this.length<=f)return!1;var h=this.words[f];return!!(h&c)},o.prototype.imaskn=function(l){n(typeof l=="number"&&l>=0);var i=l%26,f=(l-i)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(i!==0&&f++,this.length=Math.min(f,this.length),i!==0){var c=67108863^67108863>>>i<<i;this.words[this.length-1]&=c}return this.strip()},o.prototype.maskn=function(l){return this.clone().imaskn(l)},o.prototype.iaddn=function(l){return n(typeof l=="number"),n(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},o.prototype._iaddn=function(l){this.words[0]+=l;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},o.prototype.isubn=function(l){if(n(typeof l=="number"),n(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},o.prototype.addn=function(l){return this.clone().iaddn(l)},o.prototype.subn=function(l){return this.clone().isubn(l)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(l,i,f){var c=l.length+f,h;this._expand(c);var d,_=0;for(h=0;h<l.length;h++){d=(this.words[h+f]|0)+_;var g=(l.words[h]|0)*i;d-=g&67108863,_=(d>>26)-(g/67108864|0),this.words[h+f]=d&67108863}for(;h<this.length-f;h++)d=(this.words[h+f]|0)+_,_=d>>26,this.words[h+f]=d&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,h=0;h<this.length;h++)d=-(this.words[h]|0)+_,_=d>>26,this.words[h]=d&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(l,i){var f=this.length-l.length,c=this.clone(),h=l,d=h.words[h.length-1]|0,_=this._countBits(d);f=26-_,f!==0&&(h=h.ushln(f),c.iushln(f),d=h.words[h.length-1]|0);var g=c.length-h.length,u;if(i!=="mod"){u=new o(null),u.length=g+1,u.words=new Array(u.length);for(var a=0;a<u.length;a++)u.words[a]=0}var v=c.clone()._ishlnsubmul(h,1,g);v.negative===0&&(c=v,u&&(u.words[g]=1));for(var S=g-1;S>=0;S--){var A=(c.words[h.length+S]|0)*67108864+(c.words[h.length+S-1]|0);for(A=Math.min(A/d|0,67108863),c._ishlnsubmul(h,A,S);c.negative!==0;)A--,c.negative=0,c._ishlnsubmul(h,1,S),c.isZero()||(c.negative^=1);u&&(u.words[S]=A)}return u&&u.strip(),c.strip(),i!=="div"&&f!==0&&c.iushrn(f),{div:u||null,mod:c}},o.prototype.divmod=function(l,i,f){if(n(!l.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var c,h,d;return this.negative!==0&&l.negative===0?(d=this.neg().divmod(l,i),i!=="mod"&&(c=d.div.neg()),i!=="div"&&(h=d.mod.neg(),f&&h.negative!==0&&h.iadd(l)),{div:c,mod:h}):this.negative===0&&l.negative!==0?(d=this.divmod(l.neg(),i),i!=="mod"&&(c=d.div.neg()),{div:c,mod:d.mod}):(this.negative&l.negative)!==0?(d=this.neg().divmod(l.neg(),i),i!=="div"&&(h=d.mod.neg(),f&&h.negative!==0&&h.isub(l)),{div:d.div,mod:h}):l.length>this.length||this.cmp(l)<0?{div:new o(0),mod:this}:l.length===1?i==="div"?{div:this.divn(l.words[0]),mod:null}:i==="mod"?{div:null,mod:new o(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new o(this.modn(l.words[0]))}:this._wordDiv(l,i)},o.prototype.div=function(l){return this.divmod(l,"div",!1).div},o.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},o.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},o.prototype.divRound=function(l){var i=this.divmod(l);if(i.mod.isZero())return i.div;var f=i.div.negative!==0?i.mod.isub(l):i.mod,c=l.ushrn(1),h=l.andln(1),d=f.cmp(c);return d<0||h===1&&d===0?i.div:i.div.negative!==0?i.div.isubn(1):i.div.iaddn(1)},o.prototype.modn=function(l){n(l<=67108863);for(var i=(1<<26)%l,f=0,c=this.length-1;c>=0;c--)f=(i*f+(this.words[c]|0))%l;return f},o.prototype.idivn=function(l){n(l<=67108863);for(var i=0,f=this.length-1;f>=0;f--){var c=(this.words[f]|0)+i*67108864;this.words[f]=c/l|0,i=c%l}return this.strip()},o.prototype.divn=function(l){return this.clone().idivn(l)},o.prototype.egcd=function(l){n(l.negative===0),n(!l.isZero());var i=this,f=l.clone();i.negative!==0?i=i.umod(l):i=i.clone();for(var c=new o(1),h=new o(0),d=new o(0),_=new o(1),g=0;i.isEven()&&f.isEven();)i.iushrn(1),f.iushrn(1),++g;for(var u=f.clone(),a=i.clone();!i.isZero();){for(var v=0,S=1;(i.words[0]&S)===0&&v<26;++v,S<<=1);if(v>0)for(i.iushrn(v);v-- >0;)(c.isOdd()||h.isOdd())&&(c.iadd(u),h.isub(a)),c.iushrn(1),h.iushrn(1);for(var A=0,I=1;(f.words[0]&I)===0&&A<26;++A,I<<=1);if(A>0)for(f.iushrn(A);A-- >0;)(d.isOdd()||_.isOdd())&&(d.iadd(u),_.isub(a)),d.iushrn(1),_.iushrn(1);i.cmp(f)>=0?(i.isub(f),c.isub(d),h.isub(_)):(f.isub(i),d.isub(c),_.isub(h))}return{a:d,b:_,gcd:f.iushln(g)}},o.prototype._invmp=function(l){n(l.negative===0),n(!l.isZero());var i=this,f=l.clone();i.negative!==0?i=i.umod(l):i=i.clone();for(var c=new o(1),h=new o(0),d=f.clone();i.cmpn(1)>0&&f.cmpn(1)>0;){for(var _=0,g=1;(i.words[0]&g)===0&&_<26;++_,g<<=1);if(_>0)for(i.iushrn(_);_-- >0;)c.isOdd()&&c.iadd(d),c.iushrn(1);for(var u=0,a=1;(f.words[0]&a)===0&&u<26;++u,a<<=1);if(u>0)for(f.iushrn(u);u-- >0;)h.isOdd()&&h.iadd(d),h.iushrn(1);i.cmp(f)>=0?(i.isub(f),c.isub(h)):(f.isub(i),h.isub(c))}var v;return i.cmpn(1)===0?v=c:v=h,v.cmpn(0)<0&&v.iadd(l),v},o.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var i=this.clone(),f=l.clone();i.negative=0,f.negative=0;for(var c=0;i.isEven()&&f.isEven();c++)i.iushrn(1),f.iushrn(1);do{for(;i.isEven();)i.iushrn(1);for(;f.isEven();)f.iushrn(1);var h=i.cmp(f);if(h<0){var d=i;i=f,f=d}else if(h===0||f.cmpn(1)===0)break;i.isub(f)}while(!0);return f.iushln(c)},o.prototype.invm=function(l){return this.egcd(l).a.umod(l)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(l){return this.words[0]&l},o.prototype.bincn=function(l){n(typeof l=="number");var i=l%26,f=(l-i)/26,c=1<<i;if(this.length<=f)return this._expand(f+1),this.words[f]|=c,this;for(var h=c,d=f;h!==0&&d<this.length;d++){var _=this.words[d]|0;_+=h,h=_>>>26,_&=67108863,this.words[d]=_}return h!==0&&(this.words[d]=h,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(l){var i=l<0;if(this.negative!==0&&!i)return-1;if(this.negative===0&&i)return 1;this.strip();var f;if(this.length>1)f=1;else{i&&(l=-l),n(l<=67108863,"Number is too big");var c=this.words[0]|0;f=c===l?0:c<l?-1:1}return this.negative!==0?-f|0:f},o.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var i=this.ucmp(l);return this.negative!==0?-i|0:i},o.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var i=0,f=this.length-1;f>=0;f--){var c=this.words[f]|0,h=l.words[f]|0;if(c!==h){c<h?i=-1:c>h&&(i=1);break}}return i},o.prototype.gtn=function(l){return this.cmpn(l)===1},o.prototype.gt=function(l){return this.cmp(l)===1},o.prototype.gten=function(l){return this.cmpn(l)>=0},o.prototype.gte=function(l){return this.cmp(l)>=0},o.prototype.ltn=function(l){return this.cmpn(l)===-1},o.prototype.lt=function(l){return this.cmp(l)===-1},o.prototype.lten=function(l){return this.cmpn(l)<=0},o.prototype.lte=function(l){return this.cmp(l)<=0},o.prototype.eqn=function(l){return this.cmpn(l)===0},o.prototype.eq=function(l){return this.cmp(l)===0},o.red=function(l){return new X(l)},o.prototype.toRed=function(l){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(l){return this.red=l,this},o.prototype.forceRed=function(l){return n(!this.red,"Already a number in reduction context"),this._forceRed(l)},o.prototype.redAdd=function(l){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},o.prototype.redIAdd=function(l){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},o.prototype.redSub=function(l){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},o.prototype.redISub=function(l){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},o.prototype.redShl=function(l){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},o.prototype.redMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},o.prototype.redIMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(l){return n(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var k={k256:null,p224:null,p192:null,p25519:null};function L(P,l){this.name=P,this.p=new o(l,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var l=new o(null);return l.words=new Array(Math.ceil(this.n/13)),l},L.prototype.ireduce=function(l){var i=l,f;do this.split(i,this.tmp),i=this.imulK(i),i=i.iadd(this.tmp),f=i.bitLength();while(f>this.n);var c=f<this.n?-1:i.ucmp(this.p);return c===0?(i.words[0]=0,i.length=1):c>0?i.isub(this.p):i.strip(),i},L.prototype.split=function(l,i){l.iushrn(this.n,0,i)},L.prototype.imulK=function(l){return l.imul(this.k)};function D(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(D,L),D.prototype.split=function(l,i){for(var f=4194303,c=Math.min(l.length,9),h=0;h<c;h++)i.words[h]=l.words[h];if(i.length=c,l.length<=9){l.words[0]=0,l.length=1;return}var d=l.words[9];for(i.words[i.length++]=d&f,h=10;h<l.length;h++){var _=l.words[h]|0;l.words[h-10]=(_&f)<<4|d>>>22,d=_}d>>>=22,l.words[h-10]=d,d===0&&l.length>10?l.length-=10:l.length-=9},D.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var i=0,f=0;f<l.length;f++){var c=l.words[f]|0;i+=c*977,l.words[f]=i&67108863,i=c*64+(i/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function F(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(F,L);function V(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(V,L);function te(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(te,L),te.prototype.imulK=function(l){for(var i=0,f=0;f<l.length;f++){var c=(l.words[f]|0)*19+i,h=c&67108863;c>>>=26,l.words[f]=h,i=c}return i!==0&&(l.words[l.length++]=i),l},o._prime=function(l){if(k[l])return k[l];var i;if(l==="k256")i=new D;else if(l==="p224")i=new F;else if(l==="p192")i=new V;else if(l==="p25519")i=new te;else throw new Error("Unknown prime "+l);return k[l]=i,i};function X(P){if(typeof P=="string"){var l=o._prime(P);this.m=l.p,this.prime=l}else n(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}X.prototype._verify1=function(l){n(l.negative===0,"red works only with positives"),n(l.red,"red works only with red numbers")},X.prototype._verify2=function(l,i){n((l.negative|i.negative)===0,"red works only with positives"),n(l.red&&l.red===i.red,"red works only with red numbers")},X.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},X.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},X.prototype.add=function(l,i){this._verify2(l,i);var f=l.add(i);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},X.prototype.iadd=function(l,i){this._verify2(l,i);var f=l.iadd(i);return f.cmp(this.m)>=0&&f.isub(this.m),f},X.prototype.sub=function(l,i){this._verify2(l,i);var f=l.sub(i);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},X.prototype.isub=function(l,i){this._verify2(l,i);var f=l.isub(i);return f.cmpn(0)<0&&f.iadd(this.m),f},X.prototype.shl=function(l,i){return this._verify1(l),this.imod(l.ushln(i))},X.prototype.imul=function(l,i){return this._verify2(l,i),this.imod(l.imul(i))},X.prototype.mul=function(l,i){return this._verify2(l,i),this.imod(l.mul(i))},X.prototype.isqr=function(l){return this.imul(l,l.clone())},X.prototype.sqr=function(l){return this.mul(l,l)},X.prototype.sqrt=function(l){if(l.isZero())return l.clone();var i=this.m.andln(3);if(n(i%2===1),i===3){var f=this.m.add(new o(1)).iushrn(2);return this.pow(l,f)}for(var c=this.m.subn(1),h=0;!c.isZero()&&c.andln(1)===0;)h++,c.iushrn(1);n(!c.isZero());var d=new o(1).toRed(this),_=d.redNeg(),g=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new o(2*u*u).toRed(this);this.pow(u,g).cmp(_)!==0;)u.redIAdd(_);for(var a=this.pow(u,c),v=this.pow(l,c.addn(1).iushrn(1)),S=this.pow(l,c),A=h;S.cmp(d)!==0;){for(var I=S,q=0;I.cmp(d)!==0;q++)I=I.redSqr();n(q<A);var $=this.pow(a,new o(1).iushln(A-q-1));v=v.redMul($),a=$.redSqr(),S=S.redMul(a),A=q}return v},X.prototype.invm=function(l){var i=l._invmp(this.m);return i.negative!==0?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},X.prototype.pow=function(l,i){if(i.isZero())return new o(1).toRed(this);if(i.cmpn(1)===0)return l.clone();var f=4,c=new Array(1<<f);c[0]=new o(1).toRed(this),c[1]=l;for(var h=2;h<c.length;h++)c[h]=this.mul(c[h-1],l);var d=c[0],_=0,g=0,u=i.bitLength()%26;for(u===0&&(u=26),h=i.length-1;h>=0;h--){for(var a=i.words[h],v=u-1;v>=0;v--){var S=a>>v&1;if(d!==c[0]&&(d=this.sqr(d)),S===0&&_===0){g=0;continue}_<<=1,_|=S,g++,!(g!==f&&(h!==0||v!==0))&&(d=this.mul(d,c[_]),g=0,_=0)}u=26}return d},X.prototype.convertTo=function(l){var i=l.umod(this.m);return i===l?i.clone():i},X.prototype.convertFrom=function(l){var i=l.clone();return i.red=null,i},o.mont=function(l){return new ee(l)};function ee(P){X.call(this,P),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(ee,X),ee.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},ee.prototype.convertFrom=function(l){var i=this.imod(l.mul(this.rinv));return i.red=null,i},ee.prototype.imul=function(l,i){if(l.isZero()||i.isZero())return l.words[0]=0,l.length=1,l;var f=l.imul(i),c=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=f.isub(c).iushrn(this.shift),d=h;return h.cmp(this.m)>=0?d=h.isub(this.m):h.cmpn(0)<0&&(d=h.iadd(this.m)),d._forceRed(this)},ee.prototype.mul=function(l,i){if(l.isZero()||i.isZero())return new o(0)._forceRed(this);var f=l.mul(i),c=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=f.isub(c).iushrn(this.shift),d=h;return h.cmp(this.m)>=0?d=h.isub(this.m):h.cmpn(0)<0&&(d=h.iadd(this.m)),d._forceRed(this)},ee.prototype.invm=function(l){var i=this.imod(l._invmp(this.m).mul(this.r2));return i._forceRed(this)}})(e,Oe)})(Pu);const dm=Pu.exports;var pm=ha;ha.strict=Iu;ha.loose=Bu;var vm=Object.prototype.toString,gm={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function ha(e){return Iu(e)||Bu(e)}function Iu(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function Bu(e){return gm[vm.call(e)]}var mm=pm.strict,ym=function(t){if(mm(t)){var r=j.Buffer.from(t.buffer);return t.byteLength!==t.buffer.byteLength&&(r=r.slice(t.byteOffset,t.byteOffset+t.byteLength)),r}else return j.Buffer.from(t)};const Lu="hex",Nu="utf8",si="0";function Cr(e){return new Uint8Array(e)}function qu(e,t=!1){const r=e.toString(Lu);return t?jr(r):r}function _m(e){return e.toString(Nu)}function fi(e){return ym(e)}function Sr(e,t=!1){return qu(fi(e),t)}function wm(e){return _m(fi(e))}function xm(e){return j.Buffer.from(rr(e),Lu)}function Ar(e){return Cr(xm(e))}function da(e){return j.Buffer.from(e,Nu)}function bm(e){return Cr(da(e))}function Mm(e,t=!1){return qu(da(e),t)}function Em(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}function Uu(...e){let t=[];return e.forEach(r=>t=t.concat(Array.from(r))),new Uint8Array([...t])}function Sm(e,t=8){const r=e%t;return r?(e-r)/t*t+t:e}function Am(e,t=8,r=si){return Tm(e,Sm(e.length,t),r)}function Tm(e,t,r=si){return km(e,t,!0,r)}function rr(e){return e.replace(/^0x/,"")}function jr(e){return e.startsWith("0x")?e:`0x${e}`}function Du(e){return e=rr(e),e=Am(e,2),e&&(e=jr(e)),e}function Rm(e){const t=e.startsWith("0x");return e=rr(e),e=e.startsWith(si)?e.substring(1):e,t?jr(e):e}function km(e,t,r,n=si){const s=t-e.length;let o=e;if(s>0){const p=n.repeat(s);o=r?p+e:e+p}return o}function bo(e){return fi(new Uint8Array(e))}function Cm(e,t){return Sr(new Uint8Array(e),!t)}function Om(e){return Cr(e).buffer}function Pm(e){return da(e)}function Im(e,t){return Mm(e,!t)}function Bm(e){return Ar(e).buffer}function $u(e,t){const r=rr(Du(new dm(e).toString(16)));return t?r:jr(r)}var Kr={};const Lm=$o(g0);var zt={},Ss;function Nm(){if(Ss)return zt;Ss=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.isBrowserCryptoAvailable=zt.getSubtleCrypto=zt.getBrowerCrypto=void 0;function e(){return(Oe===null||Oe===void 0?void 0:Oe.crypto)||(Oe===null||Oe===void 0?void 0:Oe.msCrypto)||{}}zt.getBrowerCrypto=e;function t(){const n=e();return n.subtle||n.webkitSubtle}zt.getSubtleCrypto=t;function r(){return!!e()&&!!t()}return zt.isBrowserCryptoAvailable=r,zt}var Wt={},As;function qm(){if(As)return Wt;As=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.isBrowser=Wt.isNode=Wt.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Wt.isReactNative=e;function t(){return typeof Ze.exports<"u"&&typeof Ze.exports.versions<"u"&&typeof Ze.exports.versions.node<"u"}Wt.isNode=t;function r(){return!e()&&!t()}return Wt.isBrowser=r,Wt}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Lm;t.__exportStar(Nm(),e),t.__exportStar(qm(),e)})(Kr);function Um(){const e=Date.now()*Math.pow(10,3),t=Math.floor(Math.random()*Math.pow(10,3));return e+t}function En(e){return Du(e)}function Dm(e){return Rm(jr(e))}const Mo=Um;function Hi(){return((t,r)=>{for(r=t="";t++<36;r+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return r})()}function $m(e,t){let r;const n=hm[e];return n&&(r=`https://${n}.infura.io/v3/${t}`),r}function Hm(e,t){let r;const n=$m(e,t.infuraId);return t.custom&&t.custom[e]?r=t.custom[e]:n&&(r=n),r}function Fm(e){return e===""||typeof e=="string"&&e.trim()===""}function jm(e){return!(e&&e.length)}function Hu(e,t){return Em(e,t)}function Km(e){return typeof e.method<"u"}function Zr(e){return typeof e.result<"u"}function Un(e){return typeof e.error<"u"}function Ts(e){return typeof e.event<"u"}function zm(e){return cm.includes(e)||e.startsWith("wc_")}function Wm(e){return e.method.startsWith("wc_")?!0:!ca.includes(e.method)}function Gm(e){e=rr(e.toLowerCase());const t=rr(c0.exports.keccak_256(Pm(e)));let r="";for(let n=0;n<e.length;n++)parseInt(t[n],16)>7?r+=e[n].toUpperCase():r+=e[n];return jr(r)}const Vm=e=>e?e.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(e)?/^(0x)?[0-9a-f]{40}$/.test(e)||/^(0x)?[0-9A-F]{40}$/.test(e)?!0:e===Gm(e):!1:!1;function Dn(e){return!jm(e)&&!Hu(e[0])&&(e[0]=Im(e[0])),e}function Fi(e){if(typeof e.type<"u"&&e.type!=="0")return e;if(typeof e.from>"u"||!Vm(e.from))throw new Error("Transaction object must include a valid 'from' value.");function t(s){let o=s;return(typeof s=="number"||typeof s=="string"&&!Fm(s))&&(Hu(s)?typeof s=="string"&&(o=En(s)):o=$u(s)),typeof o=="string"&&(o=Dm(o)),o}const r={from:En(e.from),to:typeof e.to>"u"?void 0:En(e.to),gasPrice:typeof e.gasPrice>"u"?"":t(e.gasPrice),gas:typeof e.gas>"u"?typeof e.gasLimit>"u"?"":t(e.gasLimit):t(e.gas),value:typeof e.value>"u"?"":t(e.value),nonce:typeof e.nonce>"u"?"":t(e.nonce),data:typeof e.data>"u"?"":En(e.data)||"0x"},n=["gasPrice","gas","value","nonce"];return Object.keys(r).forEach(s=>{(typeof r[s]>"u"||typeof r[s]=="string"&&!r[s].trim().length)&&n.includes(s)&&delete r[s]}),r}function Zm(e){const t=e.message||"Failed or Rejected Request";let r=-32e3;if(e&&!e.code)switch(t){case"Parse error":r=-32700;break;case"Invalid request":r=-32600;break;case"Method not found":r=-32601;break;case"Invalid params":r=-32602;break;case"Internal error":r=-32603;break;default:r=-32e3;break}const n={code:r,message:t};return e.data&&(n.data=e.data),n}var pa={},Ym=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Fu="%[a-f0-9]{2}",Rs=new RegExp("("+Fu+")|([^%]+?)","gi"),ks=new RegExp("("+Fu+")+","gi");function Eo(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],Eo(r),Eo(n))}function Jm(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(Rs)||[],r=1;r<t.length;r++)e=Eo(t,r).join(""),t=e.match(Rs)||[];return e}}function Xm(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=ks.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var n=Jm(r[0]);n!==r[0]&&(t[r[0]]=n)}r=ks.exec(e)}t["%C2"]="\uFFFD";for(var s=Object.keys(t),o=0;o<s.length;o++){var p=s[o];e=e.replace(new RegExp(p,"g"),t[p])}return e}var Qm=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return Xm(e)}},ey=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]};(function(e){const t=Ym,r=Qm,n=ey,s=M=>M==null;function o(M){switch(M.arrayFormat){case"index":return O=>(k,L)=>{const D=k.length;return L===void 0||M.skipNull&&L===null||M.skipEmptyString&&L===""?k:L===null?[...k,[y(O,M),"[",D,"]"].join("")]:[...k,[y(O,M),"[",y(D,M),"]=",y(L,M)].join("")]};case"bracket":return O=>(k,L)=>L===void 0||M.skipNull&&L===null||M.skipEmptyString&&L===""?k:L===null?[...k,[y(O,M),"[]"].join("")]:[...k,[y(O,M),"[]=",y(L,M)].join("")];case"comma":case"separator":return O=>(k,L)=>L==null||L.length===0?k:k.length===0?[[y(O,M),"=",y(L,M)].join("")]:[[k,y(L,M)].join(M.arrayFormatSeparator)];default:return O=>(k,L)=>L===void 0||M.skipNull&&L===null||M.skipEmptyString&&L===""?k:L===null?[...k,y(O,M)]:[...k,[y(O,M),"=",y(L,M)].join("")]}}function p(M){let O;switch(M.arrayFormat){case"index":return(k,L,D)=>{if(O=/\[(\d*)\]$/.exec(k),k=k.replace(/\[\d*\]$/,""),!O){D[k]=L;return}D[k]===void 0&&(D[k]={}),D[k][O[1]]=L};case"bracket":return(k,L,D)=>{if(O=/(\[\])$/.exec(k),k=k.replace(/\[\]$/,""),!O){D[k]=L;return}if(D[k]===void 0){D[k]=[L];return}D[k]=[].concat(D[k],L)};case"comma":case"separator":return(k,L,D)=>{const V=typeof L=="string"&&L.split("").indexOf(M.arrayFormatSeparator)>-1?L.split(M.arrayFormatSeparator).map(te=>x(te,M)):L===null?L:x(L,M);D[k]=V};default:return(k,L,D)=>{if(D[k]===void 0){D[k]=L;return}D[k]=[].concat(D[k],L)}}}function m(M){if(typeof M!="string"||M.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function y(M,O){return O.encode?O.strict?t(M):encodeURIComponent(M):M}function x(M,O){return O.decode?r(M):M}function w(M){return Array.isArray(M)?M.sort():typeof M=="object"?w(Object.keys(M)).sort((O,k)=>Number(O)-Number(k)).map(O=>M[O]):M}function E(M){const O=M.indexOf("#");return O!==-1&&(M=M.slice(0,O)),M}function C(M){let O="";const k=M.indexOf("#");return k!==-1&&(O=M.slice(k)),O}function B(M){M=E(M);const O=M.indexOf("?");return O===-1?"":M.slice(O+1)}function b(M,O){return O.parseNumbers&&!Number.isNaN(Number(M))&&typeof M=="string"&&M.trim()!==""?M=Number(M):O.parseBooleans&&M!==null&&(M.toLowerCase()==="true"||M.toLowerCase()==="false")&&(M=M.toLowerCase()==="true"),M}function T(M,O){O=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},O),m(O.arrayFormatSeparator);const k=p(O),L=Object.create(null);if(typeof M!="string"||(M=M.trim().replace(/^[?#&]/,""),!M))return L;for(const D of M.split("&")){let[F,V]=n(O.decode?D.replace(/\+/g," "):D,"=");V=V===void 0?null:["comma","separator"].includes(O.arrayFormat)?V:x(V,O),k(x(F,O),V,L)}for(const D of Object.keys(L)){const F=L[D];if(typeof F=="object"&&F!==null)for(const V of Object.keys(F))F[V]=b(F[V],O);else L[D]=b(F,O)}return O.sort===!1?L:(O.sort===!0?Object.keys(L).sort():Object.keys(L).sort(O.sort)).reduce((D,F)=>{const V=L[F];return Boolean(V)&&typeof V=="object"&&!Array.isArray(V)?D[F]=w(V):D[F]=V,D},Object.create(null))}e.extract=B,e.parse=T,e.stringify=(M,O)=>{if(!M)return"";O=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},O),m(O.arrayFormatSeparator);const k=V=>O.skipNull&&s(M[V])||O.skipEmptyString&&M[V]==="",L=o(O),D={};for(const V of Object.keys(M))k(V)||(D[V]=M[V]);const F=Object.keys(D);return O.sort!==!1&&F.sort(O.sort),F.map(V=>{const te=M[V];return te===void 0?"":te===null?y(V,O):Array.isArray(te)?te.reduce(L(V),[]).join("&"):y(V,O)+"="+y(te,O)}).filter(V=>V.length>0).join("&")},e.parseUrl=(M,O)=>{O=Object.assign({decode:!0},O);const[k,L]=n(M,"#");return Object.assign({url:k.split("?")[0]||"",query:T(B(M),O)},O&&O.parseFragmentIdentifier&&L?{fragmentIdentifier:x(L,O)}:{})},e.stringifyUrl=(M,O)=>{O=Object.assign({encode:!0,strict:!0},O);const k=E(M.url).split("?")[0]||"",L=e.extract(M.url),D=e.parse(L,{sort:!1}),F=Object.assign(D,M.query);let V=e.stringify(F,O);V&&(V=`?${V}`);let te=C(M.url);return M.fragmentIdentifier&&(te=`#${y(M.fragmentIdentifier,O)}`),`${k}${V}${te}`}})(pa);function ty(e){const t=e.indexOf("?")!==-1?e.indexOf("?"):void 0;return typeof t<"u"?e.substr(t):""}function ry(e,t){let r=ju(e);return r=Object.assign(Object.assign({},r),t),e=ny(r),e}function ju(e){return pa.parse(e)}function ny(e){return pa.stringify(e)}function iy(e){return typeof e.bridge<"u"}function oy(e){const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,n=e.substring(0,t),s=e.substring(t+1,r);function o(E){const C="@",B=E.split(C);return{handshakeTopic:B[0],version:parseInt(B[1],10)}}const p=o(s),m=typeof r<"u"?e.substr(r):"";function y(E){const C=ju(E);return{key:C.key||"",bridge:C.bridge||""}}const x=y(m);return Object.assign(Object.assign({protocol:n},p),x)}var ji,Cs;function ay(){return Cs||(Cs=1,ji=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),ji}class sy{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(t,r){this._eventEmitters.push({event:t,callback:r})}trigger(t){let r=[];t&&(r=this._eventEmitters.filter(n=>n.event===t)),r.forEach(n=>{n.callback()})}}const fy=typeof Da.WebSocket<"u"?Da.WebSocket:ay();class uy{constructor(t){if(this.opts=t,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=t.protocol,this._version=t.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=t.subscriptions||[],this._netMonitor=t.netMonitor||new sy,!t.url||typeof t.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=t.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(t){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(t){}get connecting(){return this.readyState===0}set connected(t){}get connected(){return this.readyState===1}set closing(t){}get closing(){return this.readyState===2}set closed(t){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(t,r,n){if(!r||typeof r!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:r,type:"pub",payload:t,silent:!!n})}subscribe(t){this._socketSend({topic:t,type:"sub",payload:"",silent:!0})}on(t,r){this._events.push({event:t,callback:r})}_socketCreate(){if(this._nextSocket)return;const t=ly(this._url,this._protocol,this._version);if(this._nextSocket=new fy(t),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=r=>this._socketReceive(r),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=r=>this._socketError(r),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(t){const r=JSON.stringify(t);this._socket&&this._socket.readyState===1?this._socket.send(r):(this._setToQueue(t),this._socketCreate())}async _socketReceive(t){let r;try{r=JSON.parse(t.data)}catch{return}if(this._socketSend({topic:r.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const n=this._events.filter(s=>s.event==="message");n&&n.length&&n.forEach(s=>s.callback(r))}}_socketError(t){const r=this._events.filter(n=>n.event==="error");r&&r.length&&r.forEach(n=>n.callback(t))}_queueSubscriptions(){this._subscriptions.forEach(r=>this._queue.push({topic:r,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(t){this._queue.push(t)}_pushQueue(){this._queue.forEach(r=>this._socketSend(r)),this._queue=[]}}function ly(e,t,r){var n,s;const p=(e.startsWith("https")?e.replace("https","wss"):e.startsWith("http")?e.replace("http","ws"):e).split("?"),m=Mu()?{protocol:t,version:r,env:"browser",host:((n=Au())===null||n===void 0?void 0:n.host)||""}:{protocol:t,version:r,env:((s=ii())===null||s===void 0?void 0:s.name)||""},y=ry(ty(p[1]||""),m);return p[0]+"?"+y}const Ki="Session currently connected",lr="Session currently disconnected",cy="Session Rejected",hy="Missing JSON RPC response",dy='JSON-RPC success response must include "result" field',py='JSON-RPC error response must include "error" field',vy='JSON RPC request must have valid "method" value',gy='JSON RPC request must have valid "id" value',my="Missing one of the required parameters: bridge / uri / session",Os="JSON RPC response format is invalid",yy="URI format is invalid",_y="QRCode Modal not provided",Ps="User close QRCode Modal";class wy{constructor(){this._eventEmitters=[]}subscribe(t){this._eventEmitters.push(t)}unsubscribe(t){this._eventEmitters=this._eventEmitters.filter(r=>r.event!==t)}trigger(t){let r=[],n;Km(t)?n=t.method:Zr(t)||Un(t)?n=`response:${t.id}`:Ts(t)?n=t.event:n="",n&&(r=this._eventEmitters.filter(s=>s.event===n)),(!r||!r.length)&&!zm(n)&&!Ts(n)&&(r=this._eventEmitters.filter(s=>s.event==="call_request")),r.forEach(s=>{if(Un(t)){const o=new Error(t.error.message);s.callback(o,null)}else s.callback(null,t)})}}class xy{constructor(t="walletconnect"){this.storageId=t}getSession(){let t=null;const r=ua(this.storageId);return r&&iy(r)&&(t=r),t}setSession(t){return fa(this.storageId,t),t}removeSession(){la(this.storageId)}}const by="walletconnect.org",My="abcdefghijklmnopqrstuvwxyz0123456789",Ku=My.split("").map(e=>`https://${e}.bridge.walletconnect.org`);function Ey(e){let t=e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0];return t=t.split(":")[0],t=t.split("?")[0],t}function Sy(e){return Ey(e).split(".").slice(-2).join(".")}function Ay(){return Math.floor(Math.random()*Ku.length)}function Ty(){return Ku[Ay()]}function Ry(e){return Sy(e)===by}function ky(e){return Ry(e)?Ty():e}class Cy{constructor(t){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new wy,this._clientMeta=xo()||t.connectorOpts.clientMeta||null,this._cryptoLib=t.cryptoLib,this._sessionStorage=t.sessionStorage||new xy(t.connectorOpts.storageId),this._qrcodeModal=t.connectorOpts.qrcodeModal,this._qrcodeModalOptions=t.connectorOpts.qrcodeModalOptions,this._signingMethods=[...ca,...t.connectorOpts.signingMethods||[]],!t.connectorOpts.bridge&&!t.connectorOpts.uri&&!t.connectorOpts.session)throw new Error(my);t.connectorOpts.bridge&&(this.bridge=ky(t.connectorOpts.bridge)),t.connectorOpts.uri&&(this.uri=t.connectorOpts.uri);const r=t.connectorOpts.session||this._getStorageSession();r&&(this.session=r),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=t.transport||new uy({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),t.connectorOpts.uri&&this._subscribeToSessionRequest(),t.pushServerOpts&&this._registerPushServer(t.pushServerOpts)}set bridge(t){!t||(this._bridge=t)}get bridge(){return this._bridge}set key(t){if(!t)return;const r=Bm(t);this._key=r}get key(){return this._key?Cm(this._key,!0):""}set clientId(t){!t||(this._clientId=t)}get clientId(){let t=this._clientId;return t||(t=this._clientId=Hi()),this._clientId}set peerId(t){!t||(this._peerId=t)}get peerId(){return this._peerId}set clientMeta(t){}get clientMeta(){let t=this._clientMeta;return t||(t=this._clientMeta=xo()),t}set peerMeta(t){this._peerMeta=t}get peerMeta(){return this._peerMeta}set handshakeTopic(t){!t||(this._handshakeTopic=t)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(t){!t||(this._handshakeId=t)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(t){if(!t)return;const{handshakeTopic:r,bridge:n,key:s}=this._parseUri(t);this.handshakeTopic=r,this.bridge=n,this.key=s}set chainId(t){this._chainId=t}get chainId(){return this._chainId}set networkId(t){this._networkId=t}get networkId(){return this._networkId}set accounts(t){this._accounts=t}get accounts(){return this._accounts}set rpcUrl(t){this._rpcUrl=t}get rpcUrl(){return this._rpcUrl}set connected(t){}get connected(){return this._connected}set pending(t){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(t){!t||(this._connected=t.connected,this.accounts=t.accounts,this.chainId=t.chainId,this.bridge=t.bridge,this.key=t.key,this.clientId=t.clientId,this.clientMeta=t.clientMeta,this.peerId=t.peerId,this.peerMeta=t.peerMeta,this.handshakeId=t.handshakeId,this.handshakeTopic=t.handshakeTopic)}on(t,r){const n={event:t,callback:r};this._eventManager.subscribe(n)}off(t){this._eventManager.unsubscribe(t)}async createInstantRequest(t){this._key=await this._generateKey();const r=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(t)}]});this.handshakeId=r.id,this.handshakeTopic=Hi(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(Ps)});const n=()=>{this.killSession()};try{const s=await this._sendCallRequest(r);return s&&n(),s}catch(s){throw n(),s}}async connect(t){if(!this._qrcodeModal)throw new Error(_y);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(t),new Promise(async(r,n)=>{this.on("modal_closed",()=>n(new Error(Ps))),this.on("connect",(s,o)=>{if(s)return n(s);r(o.params[0])})}))}async createSession(t){if(this._connected)throw new Error(Ki);if(this.pending)return;this._key=await this._generateKey();const r=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:t&&t.chainId?t.chainId:null}]});this.handshakeId=r.id,this.handshakeTopic=Hi(),this._sendSessionRequest(r,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(t){if(this._connected)throw new Error(Ki);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},n={id:this.handshakeId,jsonrpc:"2.0",result:r};this._sendResponse(n),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(t){if(this._connected)throw new Error(Ki);const r=t&&t.message?t.message:cy,n=this._formatResponse({id:this.handshakeId,error:{message:r}});this._sendResponse(n),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession()}updateSession(t){if(!this._connected)throw new Error(lr);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},n=this._formatRequest({method:"wc_sessionUpdate",params:[r]});this._sendSessionRequest(n,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(t){const r=t?t.message:"Session Disconnected",n={approved:!1,chainId:null,networkId:null,accounts:null},s=this._formatRequest({method:"wc_sessionUpdate",params:[n]});await this._sendRequest(s),this._handleSessionDisconnect(r)}async sendTransaction(t){if(!this._connected)throw new Error(lr);const r=Fi(t),n=this._formatRequest({method:"eth_sendTransaction",params:[r]});return await this._sendCallRequest(n)}async signTransaction(t){if(!this._connected)throw new Error(lr);const r=Fi(t),n=this._formatRequest({method:"eth_signTransaction",params:[r]});return await this._sendCallRequest(n)}async signMessage(t){if(!this._connected)throw new Error(lr);const r=this._formatRequest({method:"eth_sign",params:t});return await this._sendCallRequest(r)}async signPersonalMessage(t){if(!this._connected)throw new Error(lr);t=Dn(t);const r=this._formatRequest({method:"personal_sign",params:t});return await this._sendCallRequest(r)}async signTypedData(t){if(!this._connected)throw new Error(lr);const r=this._formatRequest({method:"eth_signTypedData",params:t});return await this._sendCallRequest(r)}async updateChain(t){if(!this._connected)throw new Error("Session currently disconnected");const r=this._formatRequest({method:"wallet_updateChain",params:[t]});return await this._sendCallRequest(r)}unsafeSend(t,r){return this._sendRequest(t,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:r}]}),new Promise((n,s)=>{this._subscribeToResponse(t.id,(o,p)=>{if(o){s(o);return}if(!p)throw new Error(hy);n(p)})})}async sendCustomRequest(t,r){if(!this._connected)throw new Error(lr);switch(t.method){case"eth_accounts":return this.accounts;case"eth_chainId":return $u(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":t.params&&(t.params[0]=Fi(t.params[0]));break;case"personal_sign":t.params&&(t.params=Dn(t.params));break}const n=this._formatRequest(t);return await this._sendCallRequest(n,r)}approveRequest(t){if(Zr(t)){const r=this._formatResponse(t);this._sendResponse(r)}else throw new Error(dy)}rejectRequest(t){if(Un(t)){const r=this._formatResponse(t);this._sendResponse(r)}else throw new Error(py)}transportClose(){this._transport.close()}async _sendRequest(t,r){const n=this._formatRequest(t),s=await this._encrypt(n),o=typeof r?.topic<"u"?r.topic:this.peerId,p=JSON.stringify(s),m=typeof r?.forcePushNotification<"u"?!r.forcePushNotification:Wm(n);this._transport.send(p,o,m)}async _sendResponse(t){const r=await this._encrypt(t),n=this.peerId,s=JSON.stringify(r),o=!0;this._transport.send(s,n,o)}async _sendSessionRequest(t,r,n){this._sendRequest(t,n),this._subscribeToSessionResponse(t.id,r)}_sendCallRequest(t,r){return this._sendRequest(t,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:r}]}),this._subscribeToCallResponse(t.id)}_formatRequest(t){if(typeof t.method>"u")throw new Error(vy);return{id:typeof t.id>"u"?Mo():t.id,jsonrpc:"2.0",method:t.method,params:typeof t.params>"u"?[]:t.params}}_formatResponse(t){if(typeof t.id>"u")throw new Error(gy);const r={id:t.id,jsonrpc:"2.0"};if(Un(t)){const n=Zm(t.error);return Object.assign(Object.assign(Object.assign({},r),t),{error:n})}else if(Zr(t))return Object.assign(Object.assign({},r),t);throw new Error(Os)}_handleSessionDisconnect(t){const r=t||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),la(qn)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(t,r){r?r.approved?(this._connected?(r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),r.peerId&&!this.peerId&&(this.peerId=r.peerId),r.peerMeta&&!this.peerMeta&&(this.peerMeta=r.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(t):this._handleSessionDisconnect(t)}async _handleIncomingMessages(t){if(![this.clientId,this.handshakeTopic].includes(t.topic))return;let n;try{n=JSON.parse(t.payload)}catch{return}const s=await this._decrypt(n);s&&this._eventManager.trigger(s)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(t,r){this.on(`response:${t}`,r)}_subscribeToSessionResponse(t,r){this._subscribeToResponse(t,(n,s)=>{if(n){this._handleSessionResponse(n.message);return}Zr(s)?this._handleSessionResponse(r,s.result):s.error&&s.error.message?this._handleSessionResponse(s.error.message):this._handleSessionResponse(r)})}_subscribeToCallResponse(t){return new Promise((r,n)=>{this._subscribeToResponse(t,(s,o)=>{if(s){n(s);return}Zr(o)?r(o.result):o.error&&o.error.message?n(o.error):n(new Error(Os))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(t,r)=>{const{request:n}=r.params[0];if(xu()&&this._signingMethods.includes(n.method)){const s=ua(qn);s&&(window.location.href=s.href)}}),this.on("wc_sessionRequest",(t,r)=>{t&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:t.toString()}]}),this.handshakeId=r.id,this.peerId=r.params[0].peerId,this.peerMeta=r.params[0].peerMeta;const n=Object.assign(Object.assign({},r),{method:"session_request"});this._eventManager.trigger(n)}),this.on("wc_sessionUpdate",(t,r)=>{t&&this._handleSessionResponse(t.message),this._handleSessionResponse("Session disconnected",r.params[0])})}_initTransport(){this._transport.on("message",t=>this._handleIncomingMessages(t)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const t=this.protocol,r=this.handshakeTopic,n=this.version,s=encodeURIComponent(this.bridge),o=this.key;return`${t}:${r}@${n}?bridge=${s}&key=${o}`}_parseUri(t){const r=oy(t);if(r.protocol===this.protocol){if(!r.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const n=r.handshakeTopic;if(!r.bridge)throw Error("Invalid or missing bridge url parameter value");const s=decodeURIComponent(r.bridge);if(!r.key)throw Error("Invalid or missing key parameter value");const o=r.key;return{handshakeTopic:n,bridge:s,key:o}}else throw new Error(yy)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(t){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.encrypt(t,r):null}async _decrypt(t){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.decrypt(t,r):null}_getStorageSession(){let t=null;return this._sessionStorage&&(t=this._sessionStorage.getSession()),t}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(t){if(!t.url||typeof t.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!t.type||typeof t.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!t.token||typeof t.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const r={bridge:this.bridge,topic:this.clientId,type:t.type,token:t.token,peerName:"",language:t.language||""};this.on("connect",async(n,s)=>{if(n)throw n;if(t.peerMeta){const o=s.params[0].peerMeta.name;r.peerName=o}try{if(!(await(await fetch(`${t.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function Oy(e){return Kr.getBrowerCrypto().getRandomValues(new Uint8Array(e))}const zu=256,Wu=zu,Py=zu,nr="AES-CBC",Iy=`SHA-${Wu}`,So="HMAC",By="encrypt",Ly="decrypt",Ny="sign",qy="verify";function Uy(e){return e===nr?{length:Wu,name:nr}:{hash:{name:Iy},name:So}}function Dy(e){return e===nr?[By,Ly]:[Ny,qy]}async function va(e,t=nr){return Kr.getSubtleCrypto().importKey("raw",e,Uy(t),!0,Dy(t))}async function $y(e,t,r){const n=Kr.getSubtleCrypto(),s=await va(t,nr),o=await n.encrypt({iv:e,name:nr},s,r);return new Uint8Array(o)}async function Hy(e,t,r){const n=Kr.getSubtleCrypto(),s=await va(t,nr),o=await n.decrypt({iv:e,name:nr},s,r);return new Uint8Array(o)}async function Fy(e,t){const r=Kr.getSubtleCrypto(),n=await va(e,So),s=await r.sign({length:Py,name:So},n,t);return new Uint8Array(s)}function jy(e,t,r){return $y(e,t,r)}function Ky(e,t,r){return Hy(e,t,r)}async function Gu(e,t){return await Fy(e,t)}async function Vu(e){const t=(e||256)/8,r=Oy(t);return Om(fi(r))}async function Zu(e,t){const r=Ar(e.data),n=Ar(e.iv),s=Ar(e.hmac),o=Sr(s,!1),p=Uu(r,n),m=await Gu(t,p),y=Sr(m,!1);return rr(o)===rr(y)}async function zy(e,t,r){const n=Cr(bo(t)),s=r||await Vu(128),o=Cr(bo(s)),p=Sr(o,!1),m=JSON.stringify(e),y=bm(m),x=await jy(o,n,y),w=Sr(x,!1),E=Uu(x,o),C=await Gu(n,E),B=Sr(C,!1);return{data:w,hmac:B,iv:p}}async function Wy(e,t){const r=Cr(bo(t));if(!r)throw new Error("Missing key: required for decryption");if(!await Zu(e,r))return null;const s=Ar(e.data),o=Ar(e.iv),p=await Ky(o,r,s),m=wm(p);let y;try{y=JSON.parse(m)}catch{return null}return y}const Gy=Object.freeze(Object.defineProperty({__proto__:null,generateKey:Vu,verifyHmac:Zu,encrypt:zy,decrypt:Wy},Symbol.toStringTag,{value:"Module"}));class Vy extends Cy{constructor(t,r){super({cryptoLib:Gy,connectorOpts:t,pushServerOpts:r})}}const Zy=$o(lm);var pn={},Yy=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Yu={},or={},Jy={}.toString,ga=Array.isArray||function(e){return Jy.call(e)=="[object Array]"},Xy=ga;function Qy(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},e.foo()===42}catch{return!1}}He.TYPED_ARRAY_SUPPORT=Qy();var Is=He.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function He(e,t,r){return!He.TYPED_ARRAY_SUPPORT&&!(this instanceof He)?new He(e,t,r):typeof e=="number"?Ju(this,e):a_(this,e,t,r)}He.TYPED_ARRAY_SUPPORT&&(He.prototype.__proto__=Uint8Array.prototype,He.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&He[Symbol.species]===He&&Object.defineProperty(He,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function ma(e){if(e>=Is)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Is.toString(16)+" bytes");return e|0}function e_(e){return e!==e}function Or(e,t){var r;return He.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t),r.__proto__=He.prototype):(r=e,r===null&&(r=new He(t)),r.length=t),r}function Ju(e,t){var r=Or(e,t<0?0:ma(t)|0);if(!He.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)r[n]=0;return r}function t_(e,t){var r=Qu(t)|0,n=Or(e,r),s=n.write(t);return s!==r&&(n=n.slice(0,s)),n}function Ao(e,t){for(var r=t.length<0?0:ma(t.length)|0,n=Or(e,r),s=0;s<r;s+=1)n[s]=t[s]&255;return n}function r_(e,t,r,n){if(r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");var s;return r===void 0&&n===void 0?s=new Uint8Array(t):n===void 0?s=new Uint8Array(t,r):s=new Uint8Array(t,r,n),He.TYPED_ARRAY_SUPPORT?s.__proto__=He.prototype:s=Ao(e,s),s}function n_(e,t){if(He.isBuffer(t)){var r=ma(t.length)|0,n=Or(e,r);return n.length===0||t.copy(n,0,0,r),n}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||e_(t.length)?Or(e,0):Ao(e,t);if(t.type==="Buffer"&&Array.isArray(t.data))return Ao(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Xu(e,t){t=t||1/0;for(var r,n=e.length,s=null,o=[],p=0;p<n;++p){if(r=e.charCodeAt(p),r>55295&&r<57344){if(!s){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(p+1===n){(t-=3)>-1&&o.push(239,191,189);continue}s=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),s=r;continue}r=(s-55296<<10|r-56320)+65536}else s&&(t-=3)>-1&&o.push(239,191,189);if(s=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function Qu(e){if(He.isBuffer(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var t=e.length;return t===0?0:Xu(e).length}function i_(e,t,r,n){for(var s=0;s<n&&!(s+r>=t.length||s>=e.length);++s)t[s+r]=e[s];return s}function o_(e,t,r,n){return i_(Xu(t,e.length-r),e,r,n)}function a_(e,t,r,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?r_(e,t,r,n):typeof t=="string"?t_(e,t):n_(e,t)}He.prototype.write=function(t,r,n){r===void 0?(n=this.length,r=0):n===void 0&&typeof r=="string"?(n=this.length,r=0):isFinite(r)&&(r=r|0,isFinite(n)?n=n|0:n=void 0);var s=this.length-r;if((n===void 0||n>s)&&(n=s),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");return o_(this,t,r,n)};He.prototype.slice=function(t,r){var n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var s;if(He.TYPED_ARRAY_SUPPORT)s=this.subarray(t,r),s.__proto__=He.prototype;else{var o=r-t;s=new He(o,void 0);for(var p=0;p<o;++p)s[p]=this[p+t]}return s};He.prototype.copy=function(t,r,n,s){if(n||(n=0),!s&&s!==0&&(s=this.length),r>=t.length&&(r=t.length),r||(r=0),s>0&&s<n&&(s=n),s===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),t.length-r<s-n&&(s=t.length-r+n);var o=s-n,p;if(this===t&&n<r&&r<s)for(p=o-1;p>=0;--p)t[p+r]=this[p+n];else if(o<1e3||!He.TYPED_ARRAY_SUPPORT)for(p=0;p<o;++p)t[p+r]=this[p+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),r);return o};He.prototype.fill=function(t,r,n){if(typeof t=="string"){if(typeof r=="string"?(r=0,n=this.length):typeof n=="string"&&(n=this.length),t.length===1){var s=t.charCodeAt(0);s<256&&(t=s)}}else typeof t=="number"&&(t=t&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var o;if(typeof t=="number")for(o=r;o<n;++o)this[o]=t;else{var p=He.isBuffer(t)?t:new He(t),m=p.length;for(o=0;o<n-r;++o)this[o+r]=p[o%m]}return this};He.concat=function(t,r){if(!Xy(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return Or(null,0);var n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var s=Ju(null,r),o=0;for(n=0;n<t.length;++n){var p=t[n];if(!He.isBuffer(p))throw new TypeError('"list" argument must be an Array of Buffers');p.copy(s,o),o+=p.length}return s};He.byteLength=Qu;He.prototype._isBuffer=!0;He.isBuffer=function(t){return!!(t!=null&&t._isBuffer)};or.alloc=function(e){var t=new He(e);return t.fill(0),t};or.from=function(e){return new He(e)};var vt={},ya,s_=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];vt.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};vt.getSymbolTotalCodewords=function(t){return s_[t]};vt.getBCHDigit=function(e){for(var t=0;e!==0;)t++,e>>>=1;return t};vt.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');ya=t};vt.isKanjiModeEnabled=function(){return typeof ya<"u"};vt.toSJIS=function(t){return ya(t)};var ui={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");var n=r.toLowerCase();switch(n){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,s){if(e.isValid(n))return n;try{return t(n)}catch{return s}}})(ui);function el(){this.buffer=[],this.length=0}el.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var f_=el,Bs=or;function vn(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=Bs.alloc(e*e),this.reservedBit=Bs.alloc(e*e)}vn.prototype.set=function(e,t,r,n){var s=e*this.size+t;this.data[s]=r,n&&(this.reservedBit[s]=!0)};vn.prototype.get=function(e,t){return this.data[e*this.size+t]};vn.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};vn.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var u_=vn,tl={};(function(e){var t=vt.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];for(var s=Math.floor(n/7)+2,o=t(n),p=o===145?26:Math.ceil((o-13)/(2*s-2))*2,m=[o-7],y=1;y<s-1;y++)m[y]=m[y-1]-p;return m.push(6),m.reverse()},e.getPositions=function(n){for(var s=[],o=e.getRowColCoords(n),p=o.length,m=0;m<p;m++)for(var y=0;y<p;y++)m===0&&y===0||m===0&&y===p-1||m===p-1&&y===0||s.push([o[m],o[y]]);return s}})(tl);var rl={},l_=vt.getSymbolSize,Ls=7;rl.getPositions=function(t){var r=l_(t);return[[0,0],[r-Ls,0],[0,r-Ls]]};var nl={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){for(var o=s.size,p=0,m=0,y=0,x=null,w=null,E=0;E<o;E++){m=y=0,x=w=null;for(var C=0;C<o;C++){var B=s.get(E,C);B===x?m++:(m>=5&&(p+=t.N1+(m-5)),x=B,m=1),B=s.get(C,E),B===w?y++:(y>=5&&(p+=t.N1+(y-5)),w=B,y=1)}m>=5&&(p+=t.N1+(m-5)),y>=5&&(p+=t.N1+(y-5))}return p},e.getPenaltyN2=function(s){for(var o=s.size,p=0,m=0;m<o-1;m++)for(var y=0;y<o-1;y++){var x=s.get(m,y)+s.get(m,y+1)+s.get(m+1,y)+s.get(m+1,y+1);(x===4||x===0)&&p++}return p*t.N2},e.getPenaltyN3=function(s){for(var o=s.size,p=0,m=0,y=0,x=0;x<o;x++){m=y=0;for(var w=0;w<o;w++)m=m<<1&2047|s.get(x,w),w>=10&&(m===1488||m===93)&&p++,y=y<<1&2047|s.get(w,x),w>=10&&(y===1488||y===93)&&p++}return p*t.N3},e.getPenaltyN4=function(s){for(var o=0,p=s.data.length,m=0;m<p;m++)o+=s.data[m];var y=Math.abs(Math.ceil(o*100/p/5)-10);return y*t.N4};function r(n,s,o){switch(n){case e.Patterns.PATTERN000:return(s+o)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return o%3===0;case e.Patterns.PATTERN011:return(s+o)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(o/3))%2===0;case e.Patterns.PATTERN101:return s*o%2+s*o%3===0;case e.Patterns.PATTERN110:return(s*o%2+s*o%3)%2===0;case e.Patterns.PATTERN111:return(s*o%3+(s+o)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(s,o){for(var p=o.size,m=0;m<p;m++)for(var y=0;y<p;y++)o.isReserved(y,m)||o.xor(y,m,r(s,y,m))},e.getBestMask=function(s,o){for(var p=Object.keys(e.Patterns).length,m=0,y=1/0,x=0;x<p;x++){o(x),e.applyMask(x,s);var w=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(x,s),w<y&&(y=w,m=x)}return m}})(nl);var li={},Qt=ui,Sn=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],An=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];li.getBlocksCount=function(t,r){switch(r){case Qt.L:return Sn[(t-1)*4+0];case Qt.M:return Sn[(t-1)*4+1];case Qt.Q:return Sn[(t-1)*4+2];case Qt.H:return Sn[(t-1)*4+3];default:return}};li.getTotalCodewordsCount=function(t,r){switch(r){case Qt.L:return An[(t-1)*4+0];case Qt.M:return An[(t-1)*4+1];case Qt.Q:return An[(t-1)*4+2];case Qt.H:return An[(t-1)*4+3];default:return}};var il={},ci={},ol=or,Yr=ol.alloc(512),$n=ol.alloc(256);(function(){for(var t=1,r=0;r<255;r++)Yr[r]=t,$n[t]=r,t<<=1,t&256&&(t^=285);for(r=255;r<512;r++)Yr[r]=Yr[r-255]})();ci.log=function(t){if(t<1)throw new Error("log("+t+")");return $n[t]};ci.exp=function(t){return Yr[t]};ci.mul=function(t,r){return t===0||r===0?0:Yr[$n[t]+$n[r]]};(function(e){var t=or,r=ci;e.mul=function(s,o){for(var p=t.alloc(s.length+o.length-1),m=0;m<s.length;m++)for(var y=0;y<o.length;y++)p[m+y]^=r.mul(s[m],o[y]);return p},e.mod=function(s,o){for(var p=t.from(s);p.length-o.length>=0;){for(var m=p[0],y=0;y<o.length;y++)p[y]^=r.mul(o[y],m);for(var x=0;x<p.length&&p[x]===0;)x++;p=p.slice(x)}return p},e.generateECPolynomial=function(s){for(var o=t.from([1]),p=0;p<s;p++)o=e.mul(o,[1,r.exp(p)]);return o}})(il);var Ns=or,al=il,c_=j.Buffer;function _a(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}_a.prototype.initialize=function(t){this.degree=t,this.genPoly=al.generateECPolynomial(this.degree)};_a.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var r=Ns.alloc(this.degree),n=c_.concat([t,r],t.length+this.degree),s=al.mod(n,this.genPoly),o=this.degree-s.length;if(o>0){var p=Ns.alloc(this.degree);return s.copy(p,o),p}return s};var h_=_a,sl={},ar={},wa={};wa.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Kt={},fl="[0-9]+",d_="[A-Z $%*+\\-./:]+",nn="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";nn=nn.replace(/u/g,"\\u");var p_="(?:(?![A-Z0-9 $%*+\\-./:]|"+nn+`)(?:.|[\r
]))+`;Kt.KANJI=new RegExp(nn,"g");Kt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Kt.BYTE=new RegExp(p_,"g");Kt.NUMERIC=new RegExp(fl,"g");Kt.ALPHANUMERIC=new RegExp(d_,"g");var v_=new RegExp("^"+nn+"$"),g_=new RegExp("^"+fl+"$"),m_=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Kt.testKanji=function(t){return v_.test(t)};Kt.testNumeric=function(t){return g_.test(t)};Kt.testAlphanumeric=function(t){return m_.test(t)};(function(e){var t=wa,r=Kt;e.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(o,p){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!t.isValid(p))throw new Error("Invalid version: "+p);return p>=1&&p<10?o.ccBits[0]:p<27?o.ccBits[1]:o.ccBits[2]},e.getBestModeForData=function(o){return r.testNumeric(o)?e.NUMERIC:r.testAlphanumeric(o)?e.ALPHANUMERIC:r.testKanji(o)?e.KANJI:e.BYTE},e.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},e.isValid=function(o){return o&&o.bit&&o.ccBits};function n(s){if(typeof s!="string")throw new Error("Param is not a string");var o=s.toLowerCase();switch(o){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(o,p){if(e.isValid(o))return o;try{return n(o)}catch{return p}}})(ar);(function(e){var t=vt,r=li,n=ui,s=ar,o=wa,p=ga,m=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,y=t.getBCHDigit(m);function x(B,b,T){for(var M=1;M<=40;M++)if(b<=e.getCapacity(M,T,B))return M}function w(B,b){return s.getCharCountIndicator(B,b)+4}function E(B,b){var T=0;return B.forEach(function(M){var O=w(M.mode,b);T+=O+M.getBitsLength()}),T}function C(B,b){for(var T=1;T<=40;T++){var M=E(B,T);if(M<=e.getCapacity(T,b,s.MIXED))return T}}e.from=function(b,T){return o.isValid(b)?parseInt(b,10):T},e.getCapacity=function(b,T,M){if(!o.isValid(b))throw new Error("Invalid QR Code version");typeof M>"u"&&(M=s.BYTE);var O=t.getSymbolTotalCodewords(b),k=r.getTotalCodewordsCount(b,T),L=(O-k)*8;if(M===s.MIXED)return L;var D=L-w(M,b);switch(M){case s.NUMERIC:return Math.floor(D/10*3);case s.ALPHANUMERIC:return Math.floor(D/11*2);case s.KANJI:return Math.floor(D/13);case s.BYTE:default:return Math.floor(D/8)}},e.getBestVersionForData=function(b,T){var M,O=n.from(T,n.M);if(p(b)){if(b.length>1)return C(b,O);if(b.length===0)return 1;M=b[0]}else M=b;return x(M.mode,M.getLength(),O)},e.getEncodedBits=function(b){if(!o.isValid(b)||b<7)throw new Error("Invalid QR Code version");for(var T=b<<12;t.getBCHDigit(T)-y>=0;)T^=m<<t.getBCHDigit(T)-y;return b<<12|T}})(sl);var ul={},To=vt,ll=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,y_=1<<14|1<<12|1<<10|1<<4|1<<1,qs=To.getBCHDigit(ll);ul.getEncodedBits=function(t,r){for(var n=t.bit<<3|r,s=n<<10;To.getBCHDigit(s)-qs>=0;)s^=ll<<To.getBCHDigit(s)-qs;return(n<<10|s)^y_};var cl={},__=ar;function Pr(e){this.mode=__.NUMERIC,this.data=e.toString()}Pr.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Pr.prototype.getLength=function(){return this.data.length};Pr.prototype.getBitsLength=function(){return Pr.getBitsLength(this.data.length)};Pr.prototype.write=function(t){var r,n,s;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),s=parseInt(n,10),t.put(s,10);var o=this.data.length-r;o>0&&(n=this.data.substr(r),s=parseInt(n,10),t.put(s,o*3+1))};var w_=Pr,x_=ar,zi=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ir(e){this.mode=x_.ALPHANUMERIC,this.data=e}Ir.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Ir.prototype.getLength=function(){return this.data.length};Ir.prototype.getBitsLength=function(){return Ir.getBitsLength(this.data.length)};Ir.prototype.write=function(t){var r;for(r=0;r+2<=this.data.length;r+=2){var n=zi.indexOf(this.data[r])*45;n+=zi.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(zi.indexOf(this.data[r]),6)};var b_=Ir,M_=or,E_=ar;function Br(e){this.mode=E_.BYTE,this.data=M_.from(e)}Br.getBitsLength=function(t){return t*8};Br.prototype.getLength=function(){return this.data.length};Br.prototype.getBitsLength=function(){return Br.getBitsLength(this.data.length)};Br.prototype.write=function(e){for(var t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var S_=Br,A_=ar,T_=vt;function Lr(e){this.mode=A_.KANJI,this.data=e}Lr.getBitsLength=function(t){return t*13};Lr.prototype.getLength=function(){return this.data.length};Lr.prototype.getBitsLength=function(){return Lr.getBitsLength(this.data.length)};Lr.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var r=T_.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var R_=Lr,hl={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,s){var o={},p={};p[n]=0;var m=t.PriorityQueue.make();m.push(n,0);for(var y,x,w,E,C,B,b,T,M;!m.empty();){y=m.pop(),x=y.value,E=y.cost,C=r[x]||{};for(w in C)C.hasOwnProperty(w)&&(B=C[w],b=E+B,T=p[w],M=typeof p[w]>"u",(M||T>b)&&(p[w]=b,m.push(w,b),o[w]=x))}if(typeof s<"u"&&typeof p[s]>"u"){var O=["Could not find a path from ",n," to ",s,"."].join("");throw new Error(O)}return o},extract_shortest_path_from_predecessor_list:function(r,n){for(var s=[],o=n;o;)s.push(o),r[o],o=r[o];return s.reverse(),s},find_path:function(r,n,s){var o=t.single_source_shortest_paths(r,n,s);return t.extract_shortest_path_from_predecessor_list(o,s)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,s={},o;r=r||{};for(o in n)n.hasOwnProperty(o)&&(s[o]=n[o]);return s.queue=[],s.sorter=r.sorter||n.default_sorter,s},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var s={value:r,cost:n};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(hl);(function(e){var t=ar,r=w_,n=b_,s=S_,o=R_,p=Kt,m=vt,y=hl.exports;function x(O){return unescape(encodeURIComponent(O)).length}function w(O,k,L){for(var D=[],F;(F=O.exec(L))!==null;)D.push({data:F[0],index:F.index,mode:k,length:F[0].length});return D}function E(O){var k=w(p.NUMERIC,t.NUMERIC,O),L=w(p.ALPHANUMERIC,t.ALPHANUMERIC,O),D,F;m.isKanjiModeEnabled()?(D=w(p.BYTE,t.BYTE,O),F=w(p.KANJI,t.KANJI,O)):(D=w(p.BYTE_KANJI,t.BYTE,O),F=[]);var V=k.concat(L,D,F);return V.sort(function(te,X){return te.index-X.index}).map(function(te){return{data:te.data,mode:te.mode,length:te.length}})}function C(O,k){switch(k){case t.NUMERIC:return r.getBitsLength(O);case t.ALPHANUMERIC:return n.getBitsLength(O);case t.KANJI:return o.getBitsLength(O);case t.BYTE:return s.getBitsLength(O)}}function B(O){return O.reduce(function(k,L){var D=k.length-1>=0?k[k.length-1]:null;return D&&D.mode===L.mode?(k[k.length-1].data+=L.data,k):(k.push(L),k)},[])}function b(O){for(var k=[],L=0;L<O.length;L++){var D=O[L];switch(D.mode){case t.NUMERIC:k.push([D,{data:D.data,mode:t.ALPHANUMERIC,length:D.length},{data:D.data,mode:t.BYTE,length:D.length}]);break;case t.ALPHANUMERIC:k.push([D,{data:D.data,mode:t.BYTE,length:D.length}]);break;case t.KANJI:k.push([D,{data:D.data,mode:t.BYTE,length:x(D.data)}]);break;case t.BYTE:k.push([{data:D.data,mode:t.BYTE,length:x(D.data)}])}}return k}function T(O,k){for(var L={},D={start:{}},F=["start"],V=0;V<O.length;V++){for(var te=O[V],X=[],ee=0;ee<te.length;ee++){var P=te[ee],l=""+V+ee;X.push(l),L[l]={node:P,lastCount:0},D[l]={};for(var i=0;i<F.length;i++){var f=F[i];L[f]&&L[f].node.mode===P.mode?(D[f][l]=C(L[f].lastCount+P.length,P.mode)-C(L[f].lastCount,P.mode),L[f].lastCount+=P.length):(L[f]&&(L[f].lastCount=P.length),D[f][l]=C(P.length,P.mode)+4+t.getCharCountIndicator(P.mode,k))}}F=X}for(i=0;i<F.length;i++)D[F[i]].end=0;return{map:D,table:L}}function M(O,k){var L,D=t.getBestModeForData(O);if(L=t.from(k,D),L!==t.BYTE&&L.bit<D.bit)throw new Error('"'+O+'" cannot be encoded with mode '+t.toString(L)+`.
 Suggested mode is: `+t.toString(D));switch(L===t.KANJI&&!m.isKanjiModeEnabled()&&(L=t.BYTE),L){case t.NUMERIC:return new r(O);case t.ALPHANUMERIC:return new n(O);case t.KANJI:return new o(O);case t.BYTE:return new s(O)}}e.fromArray=function(k){return k.reduce(function(L,D){return typeof D=="string"?L.push(M(D,null)):D.data&&L.push(M(D.data,D.mode)),L},[])},e.fromString=function(k,L){for(var D=E(k,m.isKanjiModeEnabled()),F=b(D),V=T(F,L),te=y.find_path(V.map,"start","end"),X=[],ee=1;ee<te.length-1;ee++)X.push(V.table[te[ee]].node);return e.fromArray(B(X))},e.rawSplit=function(k){return e.fromArray(E(k,m.isKanjiModeEnabled()))}})(cl);var Us=or,hi=vt,Wi=ui,k_=f_,C_=u_,O_=tl,P_=rl,Ro=nl,ko=li,I_=h_,Hn=sl,B_=ul,L_=ar,Gi=cl,N_=ga;function q_(e,t){for(var r=e.size,n=P_.getPositions(t),s=0;s<n.length;s++)for(var o=n[s][0],p=n[s][1],m=-1;m<=7;m++)if(!(o+m<=-1||r<=o+m))for(var y=-1;y<=7;y++)p+y<=-1||r<=p+y||(m>=0&&m<=6&&(y===0||y===6)||y>=0&&y<=6&&(m===0||m===6)||m>=2&&m<=4&&y>=2&&y<=4?e.set(o+m,p+y,!0,!0):e.set(o+m,p+y,!1,!0))}function U_(e){for(var t=e.size,r=8;r<t-8;r++){var n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function D_(e,t){for(var r=O_.getPositions(t),n=0;n<r.length;n++)for(var s=r[n][0],o=r[n][1],p=-2;p<=2;p++)for(var m=-2;m<=2;m++)p===-2||p===2||m===-2||m===2||p===0&&m===0?e.set(s+p,o+m,!0,!0):e.set(s+p,o+m,!1,!0)}function $_(e,t){for(var r=e.size,n=Hn.getEncodedBits(t),s,o,p,m=0;m<18;m++)s=Math.floor(m/3),o=m%3+r-8-3,p=(n>>m&1)===1,e.set(s,o,p,!0),e.set(o,s,p,!0)}function Vi(e,t,r){var n=e.size,s=B_.getEncodedBits(t,r),o,p;for(o=0;o<15;o++)p=(s>>o&1)===1,o<6?e.set(o,8,p,!0):o<8?e.set(o+1,8,p,!0):e.set(n-15+o,8,p,!0),o<8?e.set(8,n-o-1,p,!0):o<9?e.set(8,15-o-1+1,p,!0):e.set(8,15-o-1,p,!0);e.set(n-8,8,1,!0)}function H_(e,t){for(var r=e.size,n=-1,s=r-1,o=7,p=0,m=r-1;m>0;m-=2)for(m===6&&m--;;){for(var y=0;y<2;y++)if(!e.isReserved(s,m-y)){var x=!1;p<t.length&&(x=(t[p]>>>o&1)===1),e.set(s,m-y,x),o--,o===-1&&(p++,o=7)}if(s+=n,s<0||r<=s){s-=n,n=-n;break}}}function F_(e,t,r){var n=new k_;r.forEach(function(x){n.put(x.mode.bit,4),n.put(x.getLength(),L_.getCharCountIndicator(x.mode,e)),x.write(n)});var s=hi.getSymbolTotalCodewords(e),o=ko.getTotalCodewordsCount(e,t),p=(s-o)*8;for(n.getLengthInBits()+4<=p&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);for(var m=(p-n.getLengthInBits())/8,y=0;y<m;y++)n.put(y%2?17:236,8);return j_(n,e,t)}function j_(e,t,r){for(var n=hi.getSymbolTotalCodewords(t),s=ko.getTotalCodewordsCount(t,r),o=n-s,p=ko.getBlocksCount(t,r),m=n%p,y=p-m,x=Math.floor(n/p),w=Math.floor(o/p),E=w+1,C=x-w,B=new I_(C),b=0,T=new Array(p),M=new Array(p),O=0,k=Us.from(e.buffer),L=0;L<p;L++){var D=L<y?w:E;T[L]=k.slice(b,b+D),M[L]=B.encode(T[L]),b+=D,O=Math.max(O,D)}var F=Us.alloc(n),V=0,te,X;for(te=0;te<O;te++)for(X=0;X<p;X++)te<T[X].length&&(F[V++]=T[X][te]);for(te=0;te<C;te++)for(X=0;X<p;X++)F[V++]=M[X][te];return F}function K_(e,t,r,n){var s;if(N_(e))s=Gi.fromArray(e);else if(typeof e=="string"){var o=t;if(!o){var p=Gi.rawSplit(e);o=Hn.getBestVersionForData(p,r)}s=Gi.fromString(e,o||40)}else throw new Error("Invalid data");var m=Hn.getBestVersionForData(s,r);if(!m)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=m;else if(t<m)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+m+`.
`);var y=F_(t,r,s),x=hi.getSymbolSize(t),w=new C_(x);return q_(w,t),U_(w),D_(w,t),Vi(w,r,0),t>=7&&$_(w,t),H_(w,y),isNaN(n)&&(n=Ro.getBestMask(w,Vi.bind(null,w,r))),Ro.applyMask(n,w),Vi(w,r,n),{modules:w,version:t,errorCorrectionLevel:r,maskPattern:n,segments:s}}Yu.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");var n=Wi.M,s,o;return typeof r<"u"&&(n=Wi.from(r.errorCorrectionLevel,Wi.M),s=Hn.from(r.version),o=Ro.from(r.maskPattern),r.toSJISFunc&&hi.setToSJISFunction(r.toSJISFunc)),K_(t,s,n,o)};var dl={},xa={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");var n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),n.length===6&&n.push("F","F");var s=parseInt(n.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});var s=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,o=n.width&&n.width>=21?n.width:void 0,p=n.scale||4;return{width:o,scale:o?4:p,margin:s,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,s){return s.width&&s.width>=n+s.margin*2?s.width/(n+s.margin*2):s.scale},e.getImageWidth=function(n,s){var o=e.getScale(n,s);return Math.floor((n+s.margin*2)*o)},e.qrToImageData=function(n,s,o){for(var p=s.modules.size,m=s.modules.data,y=e.getScale(p,o),x=Math.floor((p+o.margin*2)*y),w=o.margin*y,E=[o.color.light,o.color.dark],C=0;C<x;C++)for(var B=0;B<x;B++){var b=(C*x+B)*4,T=o.color.light;if(C>=w&&B>=w&&C<x-w&&B<x-w){var M=Math.floor((C-w)/y),O=Math.floor((B-w)/y);T=E[m[M*p+O]?1:0]}n[b++]=T.r,n[b++]=T.g,n[b++]=T.b,n[b]=T.a}}})(xa);(function(e){var t=xa;function r(s,o,p){s.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=p,o.width=p,o.style.height=p+"px",o.style.width=p+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(o,p,m){var y=m,x=p;typeof y>"u"&&(!p||!p.getContext)&&(y=p,p=void 0),p||(x=n()),y=t.getOptions(y);var w=t.getImageWidth(o.modules.size,y),E=x.getContext("2d"),C=E.createImageData(w,w);return t.qrToImageData(C.data,o,y),r(E,x,w),E.putImageData(C,0,0),x},e.renderToDataURL=function(o,p,m){var y=m;typeof y>"u"&&(!p||!p.getContext)&&(y=p,p=void 0),y||(y={});var x=e.render(o,p,y),w=y.type||"image/png",E=y.rendererOpts||{};return x.toDataURL(w,E.quality)}})(dl);var pl={},z_=xa;function Ds(e,t){var r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Zi(e,t,r){var n=e+t;return typeof r<"u"&&(n+=" "+r),n}function W_(e,t,r){for(var n="",s=0,o=!1,p=0,m=0;m<e.length;m++){var y=Math.floor(m%t),x=Math.floor(m/t);!y&&!o&&(o=!0),e[m]?(p++,m>0&&y>0&&e[m-1]||(n+=o?Zi("M",y+r,.5+x+r):Zi("m",s,0),s=0,o=!1),y+1<t&&e[m+1]||(n+=Zi("h",p),p=0)):s++}return n}pl.render=function(t,r,n){var s=z_.getOptions(r),o=t.modules.size,p=t.modules.data,m=o+s.margin*2,y=s.color.light.a?"<path "+Ds(s.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",x="<path "+Ds(s.color.dark,"stroke")+' d="'+W_(p,o,s.margin)+'"/>',w='viewBox="0 0 '+m+" "+m+'"',E=s.width?'width="'+s.width+'" height="'+s.width+'" ':"",C='<svg xmlns="http://www.w3.org/2000/svg" '+E+w+' shape-rendering="crispEdges">'+y+x+`</svg>
`;return typeof n=="function"&&n(null,C),C};var G_=Yy,Co=Yu,vl=dl,V_=pl;function ba(e,t,r,n,s){var o=[].slice.call(arguments,1),p=o.length,m=typeof o[p-1]=="function";if(!m&&!G_())throw new Error("Callback required as last argument");if(m){if(p<2)throw new Error("Too few arguments provided");p===2?(s=r,r=t,t=n=void 0):p===3&&(t.getContext&&typeof s>"u"?(s=n,n=void 0):(s=n,n=r,r=t,t=void 0))}else{if(p<1)throw new Error("Too few arguments provided");return p===1?(r=t,t=n=void 0):p===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(x,w){try{var E=Co.create(r,n);x(e(E,t,n))}catch(C){w(C)}})}try{var y=Co.create(r,n);s(null,e(y,t,n))}catch(x){s(x)}}pn.create=Co.create;pn.toCanvas=ba.bind(null,vl.render);pn.toDataURL=ba.bind(null,vl.renderToDataURL);pn.toString=ba.bind(null,function(e,t,r){return V_.render(e,r)});var Z_=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(s){e.addRange(s)}),t&&t.focus()}},Y_=Z_,$s={"text/plain":"Text","text/html":"Url",default:"Text"},J_="Copy to clipboard: #{key}, Enter";function X_(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Q_(e,t){var r,n,s,o,p,m,y=!1;t||(t={}),r=t.debug||!1;try{s=Y_(),o=document.createRange(),p=document.getSelection(),m=document.createElement("span"),m.textContent=e,m.ariaHidden="true",m.style.all="unset",m.style.position="fixed",m.style.top=0,m.style.clip="rect(0, 0, 0, 0)",m.style.whiteSpace="pre",m.style.webkitUserSelect="text",m.style.MozUserSelect="text",m.style.msUserSelect="text",m.style.userSelect="text",m.addEventListener("copy",function(w){if(w.stopPropagation(),t.format)if(w.preventDefault(),typeof w.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var E=$s[t.format]||$s.default;window.clipboardData.setData(E,e)}else w.clipboardData.clearData(),w.clipboardData.setData(t.format,e);t.onCopy&&(w.preventDefault(),t.onCopy(w.clipboardData))}),document.body.appendChild(m),o.selectNodeContents(m),p.addRange(o);var x=document.execCommand("copy");if(!x)throw new Error("copy command was unsuccessful");y=!0}catch(w){r&&console.error("unable to copy using execCommand: ",w),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),y=!0}catch(E){r&&console.error("unable to copy using clipboardData: ",E),r&&console.error("falling back to prompt"),n=X_("message"in t?t.message:J_),window.prompt(n,e)}}finally{p&&(typeof p.removeRange=="function"?p.removeRange(o):p.removeAllRanges()),m&&document.body.removeChild(m),s()}return y}var ew=Q_,Ie,Jr,Ma,gl,Hs,Ea,ml,Vt={},di=[],tw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Gt(e,t){for(var r in t)e[r]=t[r];return e}function yl(e){var t=e.parentNode;t&&t.removeChild(e)}function Yt(e,t,r){var n,s=arguments,o={};for(n in t)n!=="key"&&n!=="ref"&&(o[n]=t[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(s[n]);if(r!=null&&(o.children=r),typeof e=="function"&&e.defaultProps!=null)for(n in e.defaultProps)o[n]===void 0&&(o[n]=e.defaultProps[n]);return Fn(e,o,t&&t.key,t&&t.ref,null)}function Fn(e,t,r,n,s){var o={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s};return s==null&&(o.__v=o),Ie.vnode&&Ie.vnode(o),o}function _l(){return{}}function gn(e){return e.children}function Ut(e,t){this.props=e,this.context=t}function on(e,t){if(t==null)return e.__?on(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?on(e):null}function wl(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return wl(e)}}function Cn(e){(!e.__d&&(e.__d=!0)&&Jr.push(e)&&!Ma++||Hs!==Ie.debounceRendering)&&((Hs=Ie.debounceRendering)||gl)(rw)}function rw(){for(var e;Ma=Jr.length;)e=Jr.sort(function(t,r){return t.__v.__b-r.__v.__b}),Jr=[],e.some(function(t){var r,n,s,o,p,m,y;t.__d&&(m=(p=(r=t).__v).__e,(y=r.__P)&&(n=[],(s=Gt({},p)).__v=s,o=Sa(y,p,s,r.__n,y.ownerSVGElement!==void 0,null,n,m??on(p)),bl(n,p),o!=m&&wl(p)))})}function xl(e,t,r,n,s,o,p,m,y){var x,w,E,C,B,b,T,M=r&&r.__k||di,O=M.length;if(m==Vt&&(m=o!=null?o[0]:O?on(r,0):null),x=0,t.__k=tr(t.__k,function(k){if(k!=null){if(k.__=t,k.__b=t.__b+1,(E=M[x])===null||E&&k.key==E.key&&k.type===E.type)M[x]=void 0;else for(w=0;w<O;w++){if((E=M[w])&&k.key==E.key&&k.type===E.type){M[w]=void 0;break}E=null}if(C=Sa(e,k,E=E||Vt,n,s,o,p,m,y),(w=k.ref)&&E.ref!=w&&(T||(T=[]),E.ref&&T.push(E.ref,null,k),T.push(w,k.__c||C,k)),C!=null){var L;if(b==null&&(b=C),k.__d!==void 0)L=k.__d,k.__d=void 0;else if(o==E||C!=m||C.parentNode==null){e:if(m==null||m.parentNode!==e)e.appendChild(C),L=null;else{for(B=m,w=0;(B=B.nextSibling)&&w<O;w+=2)if(B==C)break e;e.insertBefore(C,m),L=m}t.type=="option"&&(e.value="")}m=L!==void 0?L:C.nextSibling,typeof t.type=="function"&&(t.__d=m)}else m&&E.__e==m&&m.parentNode!=e&&(m=on(E))}return x++,k}),t.__e=b,o!=null&&typeof t.type!="function")for(x=o.length;x--;)o[x]!=null&&yl(o[x]);for(x=O;x--;)M[x]!=null&&Xr(M[x],M[x]);if(T)for(x=0;x<T.length;x++)Ml(T[x],T[++x],T[++x])}function tr(e,t,r){if(r==null&&(r=[]),e==null||typeof e=="boolean")t&&r.push(t(null));else if(Array.isArray(e))for(var n=0;n<e.length;n++)tr(e[n],t,r);else r.push(t?t(typeof e=="string"||typeof e=="number"?Fn(null,e,null,null,e):e.__e!=null||e.__c!=null?Fn(e.type,e.props,e.key,null,e.__v):e):e);return r}function nw(e,t,r,n,s){var o;for(o in r)o==="children"||o==="key"||o in t||jn(e,o,null,r[o],n);for(o in t)s&&typeof t[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||r[o]===t[o]||jn(e,o,t[o],r[o],n)}function Fs(e,t,r){t[0]==="-"?e.setProperty(t,r):e[t]=typeof r=="number"&&tw.test(t)===!1?r+"px":r??""}function jn(e,t,r,n,s){var o,p,m,y,x;if(s?t==="className"&&(t="class"):t==="class"&&(t="className"),t==="style")if(o=e.style,typeof r=="string")o.cssText=r;else{if(typeof n=="string"&&(o.cssText="",n=null),n)for(y in n)r&&y in r||Fs(o,y,"");if(r)for(x in r)n&&r[x]===n[x]||Fs(o,x,r[x])}else t[0]==="o"&&t[1]==="n"?(p=t!==(t=t.replace(/Capture$/,"")),m=t.toLowerCase(),t=(m in e?m:t).slice(2),r?(n||e.addEventListener(t,js,p),(e.l||(e.l={}))[t]=r):e.removeEventListener(t,js,p)):t!=="list"&&t!=="tagName"&&t!=="form"&&t!=="type"&&t!=="size"&&!s&&t in e?e[t]=r??"":typeof r!="function"&&t!=="dangerouslySetInnerHTML"&&(t!==(t=t.replace(/^xlink:?/,""))?r==null||r===!1?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):r==null||r===!1&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,r))}function js(e){this.l[e.type](Ie.event?Ie.event(e):e)}function Sa(e,t,r,n,s,o,p,m,y){var x,w,E,C,B,b,T,M,O,k,L=t.type;if(t.constructor!==void 0)return null;(x=Ie.__b)&&x(t);try{e:if(typeof L=="function"){if(M=t.props,O=(x=L.contextType)&&n[x.__c],k=x?O?O.props.value:x.__:n,r.__c?T=(w=t.__c=r.__c).__=w.__E:("prototype"in L&&L.prototype.render?t.__c=w=new L(M,k):(t.__c=w=new Ut(M,k),w.constructor=L,w.render=ow),O&&O.sub(w),w.props=M,w.state||(w.state={}),w.context=k,w.__n=n,E=w.__d=!0,w.__h=[]),w.__s==null&&(w.__s=w.state),L.getDerivedStateFromProps!=null&&(w.__s==w.state&&(w.__s=Gt({},w.__s)),Gt(w.__s,L.getDerivedStateFromProps(M,w.__s))),C=w.props,B=w.state,E)L.getDerivedStateFromProps==null&&w.componentWillMount!=null&&w.componentWillMount(),w.componentDidMount!=null&&w.__h.push(w.componentDidMount);else{if(L.getDerivedStateFromProps==null&&M!==C&&w.componentWillReceiveProps!=null&&w.componentWillReceiveProps(M,k),!w.__e&&w.shouldComponentUpdate!=null&&w.shouldComponentUpdate(M,w.__s,k)===!1||t.__v===r.__v&&!w.__){for(w.props=M,w.state=w.__s,t.__v!==r.__v&&(w.__d=!1),w.__v=t,t.__e=r.__e,t.__k=r.__k,w.__h.length&&p.push(w),x=0;x<t.__k.length;x++)t.__k[x]&&(t.__k[x].__=t);break e}w.componentWillUpdate!=null&&w.componentWillUpdate(M,w.__s,k),w.componentDidUpdate!=null&&w.__h.push(function(){w.componentDidUpdate(C,B,b)})}w.context=k,w.props=M,w.state=w.__s,(x=Ie.__r)&&x(t),w.__d=!1,w.__v=t,w.__P=e,x=w.render(w.props,w.state,w.context),t.__k=x!=null&&x.type==gn&&x.key==null?x.props.children:Array.isArray(x)?x:[x],w.getChildContext!=null&&(n=Gt(Gt({},n),w.getChildContext())),E||w.getSnapshotBeforeUpdate==null||(b=w.getSnapshotBeforeUpdate(C,B)),xl(e,t,r,n,s,o,p,m,y),w.base=t.__e,w.__h.length&&p.push(w),T&&(w.__E=w.__=null),w.__e=!1}else o==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=iw(r.__e,t,r,n,s,o,p,y);(x=Ie.diffed)&&x(t)}catch(D){t.__v=null,Ie.__e(D,t,r)}return t.__e}function bl(e,t){Ie.__c&&Ie.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(n){n.call(r)})}catch(n){Ie.__e(n,r.__v)}})}function iw(e,t,r,n,s,o,p,m){var y,x,w,E,C,B=r.props,b=t.props;if(s=t.type==="svg"||s,o!=null){for(y=0;y<o.length;y++)if((x=o[y])!=null&&((t.type===null?x.nodeType===3:x.localName===t.type)||e==x)){e=x,o[y]=null;break}}if(e==null){if(t.type===null)return document.createTextNode(b);e=s?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,b.is&&{is:b.is}),o=null,m=!1}if(t.type===null)B!==b&&e.data!=b&&(e.data=b);else{if(o!=null&&(o=di.slice.call(e.childNodes)),w=(B=r.props||Vt).dangerouslySetInnerHTML,E=b.dangerouslySetInnerHTML,!m){if(B===Vt)for(B={},C=0;C<e.attributes.length;C++)B[e.attributes[C].name]=e.attributes[C].value;(E||w)&&(E&&w&&E.__html==w.__html||(e.innerHTML=E&&E.__html||""))}nw(e,b,B,s,m),E?t.__k=[]:(t.__k=t.props.children,xl(e,t,r,n,t.type!=="foreignObject"&&s,o,p,Vt,m)),m||("value"in b&&(y=b.value)!==void 0&&y!==e.value&&jn(e,"value",y,B.value,!1),"checked"in b&&(y=b.checked)!==void 0&&y!==e.checked&&jn(e,"checked",y,B.checked,!1))}return e}function Ml(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(n){Ie.__e(n,r)}}function Xr(e,t,r){var n,s,o;if(Ie.unmount&&Ie.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||Ml(n,null,t)),r||typeof e.type=="function"||(r=(s=e.__e)!=null),e.__e=e.__d=void 0,(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(p){Ie.__e(p,t)}n.base=n.__P=null}if(n=e.__k)for(o=0;o<n.length;o++)n[o]&&Xr(n[o],t,r);s!=null&&yl(s)}function ow(e,t,r){return this.constructor(e,r)}function an(e,t,r){var n,s,o;Ie.__&&Ie.__(e,t),s=(n=r===Ea)?null:r&&r.__k||t.__k,e=Yt(gn,null,[e]),o=[],Sa(t,(n?t:r||t).__k=e,s||Vt,Vt,t.ownerSVGElement!==void 0,r&&!n?[r]:s?null:di.slice.call(t.childNodes),o,r||Vt,n),bl(o,e)}function El(e,t){an(e,t,Ea)}function aw(e,t){var r,n;for(n in t=Gt(Gt({},e.props),t),arguments.length>2&&(t.children=di.slice.call(arguments,2)),r={},t)n!=="key"&&n!=="ref"&&(r[n]=t[n]);return Fn(e.type,r,t.key||e.key,t.ref||e.ref,null)}function Sl(e){var t={},r={__c:"__cC"+ml++,__:e,Consumer:function(n,s){return n.children(s)},Provider:function(n){var s,o=this;return this.getChildContext||(s=[],this.getChildContext=function(){return t[r.__c]=o,t},this.shouldComponentUpdate=function(p){o.props.value!==p.value&&s.some(function(m){m.context=p.value,Cn(m)})},this.sub=function(p){s.push(p);var m=p.componentWillUnmount;p.componentWillUnmount=function(){s.splice(s.indexOf(p),1),m&&m.call(p)}}),n.children}};return r.Consumer.contextType=r,r.Provider.__=r,r}Ie={__e:function(e,t){for(var r,n;t=t.__;)if((r=t.__c)&&!r.__)try{if(r.constructor&&r.constructor.getDerivedStateFromError!=null&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(e))),r.componentDidCatch!=null&&(n=!0,r.componentDidCatch(e)),n)return Cn(r.__E=r)}catch(s){e=s}throw e}},Ut.prototype.setState=function(e,t){var r;r=this.__s!==this.state?this.__s:this.__s=Gt({},this.state),typeof e=="function"&&(e=e(r,this.props)),e&&Gt(r,e),e!=null&&this.__v&&(t&&this.__h.push(t),Cn(this))},Ut.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Cn(this))},Ut.prototype.render=gn,Jr=[],Ma=0,gl=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ea=Vt,ml=0;var _r,dt,Ks,Nr=0,Oo=[],zs=Ie.__r,Ws=Ie.diffed,Gs=Ie.__c,Vs=Ie.unmount;function zr(e,t){Ie.__h&&Ie.__h(dt,e,Nr||t),Nr=0;var r=dt.__H||(dt.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function Aa(e){return Nr=1,Ta(Pl,e)}function Ta(e,t,r){var n=zr(_r++,2);return n.__c||(n.__c=dt,n.__=[r?r(t):Pl(void 0,t),function(s){var o=e(n.__[0],s);n.__[0]!==o&&(n.__[0]=o,n.__c.setState({}))}]),n.__}function Al(e,t){var r=zr(_r++,3);!Ie.__s&&ka(r.__H,t)&&(r.__=e,r.__H=t,dt.__H.__h.push(r))}function Ra(e,t){var r=zr(_r++,4);!Ie.__s&&ka(r.__H,t)&&(r.__=e,r.__H=t,dt.__h.push(r))}function Tl(e){return Nr=5,pi(function(){return{current:e}},[])}function Rl(e,t,r){Nr=6,Ra(function(){typeof e=="function"?e(t()):e&&(e.current=t())},r==null?r:r.concat(e))}function pi(e,t){var r=zr(_r++,7);return ka(r.__H,t)?(r.__H=t,r.__h=e,r.__=e()):r.__}function kl(e,t){return Nr=8,pi(function(){return e},t)}function Cl(e){var t=dt.context[e.__c],r=zr(_r++,9);return r.__c=e,t?(r.__==null&&(r.__=!0,t.sub(dt)),t.props.value):e.__}function Ol(e,t){Ie.useDebugValue&&Ie.useDebugValue(t?t(e):e)}function sw(e){var t=zr(_r++,10),r=Aa();return t.__=e,dt.componentDidCatch||(dt.componentDidCatch=function(n){t.__&&t.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function fw(){Oo.some(function(e){if(e.__P)try{e.__H.__h.forEach(Po),e.__H.__h.forEach(Io),e.__H.__h=[]}catch(t){return e.__H.__h=[],Ie.__e(t,e.__v),!0}}),Oo=[]}function Po(e){e.t&&e.t()}function Io(e){var t=e.__();typeof t=="function"&&(e.t=t)}function ka(e,t){return!e||t.some(function(r,n){return r!==e[n]})}function Pl(e,t){return typeof t=="function"?t(e):t}Ie.__r=function(e){zs&&zs(e),_r=0,(dt=e.__c).__H&&(dt.__H.__h.forEach(Po),dt.__H.__h.forEach(Io),dt.__H.__h=[])},Ie.diffed=function(e){Ws&&Ws(e);var t=e.__c;if(t){var r=t.__H;r&&r.__h.length&&(Oo.push(t)!==1&&Ks===Ie.requestAnimationFrame||((Ks=Ie.requestAnimationFrame)||function(n){var s,o=function(){clearTimeout(p),cancelAnimationFrame(s),setTimeout(n)},p=setTimeout(o,100);typeof window<"u"&&(s=requestAnimationFrame(o))})(fw))}},Ie.__c=function(e,t){t.some(function(r){try{r.__h.forEach(Po),r.__h=r.__h.filter(function(n){return!n.__||Io(n)})}catch(n){t.some(function(s){s.__h&&(s.__h=[])}),t=[],Ie.__e(n,r.__v)}}),Gs&&Gs(e,t)},Ie.unmount=function(e){Vs&&Vs(e);var t=e.__c;if(t){var r=t.__H;if(r)try{r.__.forEach(function(n){return n.t&&n.t()})}catch(n){Ie.__e(n,t.__v)}}};function Ca(e,t){for(var r in t)e[r]=t[r];return e}function Bo(e,t){for(var r in e)if(r!=="__source"&&!(r in t))return!0;for(var n in t)if(n!=="__source"&&e[n]!==t[n])return!0;return!1}var Il=function(e){var t,r;function n(s){var o;return(o=e.call(this,s)||this).isPureReactComponent=!0,o}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.shouldComponentUpdate=function(s,o){return Bo(this.props,s)||Bo(this.state,o)},n}(Ut);function Bl(e,t){function r(s){var o=this.props.ref,p=o==s.ref;return!p&&o&&(o.call?o(null):o.current=null),t?!t(this.props,s)||!p:Bo(this.props,s)}function n(s){return this.shouldComponentUpdate=r,Yt(e,Ca({},s))}return n.prototype.isReactComponent=!0,n.displayName="Memo("+(e.displayName||e.name)+")",n.t=!0,n}var Zs=Ie.__b;function Ll(e){function t(r){var n=Ca({},r);return delete n.ref,e(n,r.ref)}return t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}Ie.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),Zs&&Zs(e)};var Ys=function(e,t){return e?tr(e).reduce(function(r,n,s){return r.concat(t(n,s))},[]):null},Nl={map:Ys,forEach:Ys,count:function(e){return e?tr(e).length:0},only:function(e){if((e=tr(e)).length!==1)throw new Error("Children.only() expects only one child.");return e[0]},toArray:tr},uw=Ie.__e;function ql(e){return e&&((e=Ca({},e)).__c=null,e.__k=e.__k&&e.__k.map(ql)),e}function Kn(){this.__u=0,this.o=null,this.__b=null}function Ul(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function Dl(e){var t,r,n;function s(o){if(t||(t=e()).then(function(p){r=p.default||p},function(p){n=p}),n)throw n;if(!r)throw t;return Yt(r,o)}return s.displayName="Lazy",s.t=!0,s}function Er(){this.i=null,this.l=null}Ie.__e=function(e,t,r){if(e.then){for(var n,s=t;s=s.__;)if((n=s.__c)&&n.__c)return n.__c(e,t.__c)}uw(e,t,r)},(Kn.prototype=new Ut).__c=function(e,t){var r=this;r.o==null&&(r.o=[]),r.o.push(t);var n=Ul(r.__v),s=!1,o=function(){s||(s=!0,n?n(p):p())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){o(),t.__c&&t.__c()};var p=function(){var m;if(!--r.__u)for(r.__v.__k[0]=r.state.u,r.setState({u:r.__b=null});m=r.o.pop();)m.forceUpdate()};r.__u++||r.setState({u:r.__b=r.__v.__k[0]}),e.then(o,o)},Kn.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=ql(this.__b),this.__b=null),[Yt(Ut,null,t.u?null:e.children),t.u&&e.fallback]};var Js=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};(Er.prototype=new Ut).u=function(e){var t=this,r=Ul(t.__v),n=t.l.get(e);return n[0]++,function(s){var o=function(){t.props.revealOrder?(n.push(s),Js(t,e,n)):s()};r?r(o):o()}},Er.prototype.render=function(e){this.i=null,this.l=new Map;var t=tr(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},Er.prototype.componentDidUpdate=Er.prototype.componentDidMount=function(){var e=this;e.l.forEach(function(t,r){Js(e,r,t)})};var lw=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(r){return r.children},e}();function cw(e){var t=this,r=e.container,n=Yt(lw,{context:t.context},e.vnode);return t.s&&t.s!==r&&(t.v.parentNode&&t.s.removeChild(t.v),Xr(t.h),t.p=!1),e.vnode?t.p?(r.__k=t.__k,an(n,r),t.__k=r.__k):(t.v=document.createTextNode(""),El("",r),r.appendChild(t.v),t.p=!0,t.s=r,an(n,r,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),Xr(t.h)),t.h=n,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),Xr(t.h)},null}function $l(e,t){return Yt(cw,{vnode:e,container:t})}var Xs=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;Ut.prototype.isReactComponent={};var Hl=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function Lo(e,t,r){if(t.__k==null)for(;t.firstChild;)t.removeChild(t.firstChild);return an(e,t),typeof r=="function"&&r(),e?e.__c:null}function hw(e,t,r){return El(e,t),typeof r=="function"&&r(),e?e.__c:null}var Qs=Ie.event;function Yi(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(r){this["UNSAFE_"+t]=r}})}Ie.event=function(e){Qs&&(e=Qs(e)),e.persist=function(){};var t=!1,r=!1,n=e.stopPropagation;e.stopPropagation=function(){n.call(e),t=!0};var s=e.preventDefault;return e.preventDefault=function(){s.call(e),r=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return r},e.nativeEvent=e};var ef={configurable:!0,get:function(){return this.class}},tf=Ie.vnode;Ie.vnode=function(e){e.$$typeof=Hl;var t=e.type,r=e.props;if(t){if(r.class!=r.className&&(ef.enumerable="className"in r,r.className!=null&&(r.class=r.className),Object.defineProperty(r,"className",ef)),typeof t!="function"){var n,s,o;for(o in r.defaultValue&&r.value!==void 0&&(r.value||r.value===0||(r.value=r.defaultValue),delete r.defaultValue),Array.isArray(r.value)&&r.multiple&&t==="select"&&(tr(r.children).forEach(function(p){r.value.indexOf(p.props.value)!=-1&&(p.props.selected=!0)}),delete r.value),r)if(n=Xs.test(o))break;if(n)for(o in s=e.props={},r)s[Xs.test(o)?o.replace(/[A-Z0-9]/,"-$&").toLowerCase():o]=r[o]}(function(p){var m=e.type,y=e.props;if(y&&typeof m=="string"){var x={};for(var w in y)/^on(Ani|Tra|Tou)/.test(w)&&(y[w.toLowerCase()]=y[w],delete y[w]),x[w.toLowerCase()]=w;if(x.ondoubleclick&&(y.ondblclick=y[x.ondoubleclick],delete y[x.ondoubleclick]),x.onbeforeinput&&(y.onbeforeinput=y[x.onbeforeinput],delete y[x.onbeforeinput]),x.onchange&&(m==="textarea"||m.toLowerCase()==="input"&&!/^fil|che|ra/i.test(y.type))){var E=x.oninput||"oninput";y[E]||(y[E]=y[x.onchange],delete y[x.onchange])}}})(),typeof t=="function"&&!t.m&&t.prototype&&(Yi(t.prototype,"componentWillMount"),Yi(t.prototype,"componentWillReceiveProps"),Yi(t.prototype,"componentWillUpdate"),t.m=!0)}tf&&tf(e)};var dw="16.8.0";function Fl(e){return Yt.bind(null,e)}function Oa(e){return!!e&&e.$$typeof===Hl}function jl(e){return Oa(e)?aw.apply(null,arguments):e}function Kl(e){return!!e.__k&&(an(null,e),!0)}function zl(e){return e&&(e.base||e.nodeType===1&&e)||null}var Wl=function(e,t){return e(t)};const pw={useState:Aa,useReducer:Ta,useEffect:Al,useLayoutEffect:Ra,useRef:Tl,useImperativeHandle:Rl,useMemo:pi,useCallback:kl,useContext:Cl,useDebugValue:Ol,version:"16.8.0",Children:Nl,render:Lo,hydrate:Lo,unmountComponentAtNode:Kl,createPortal:$l,createElement:Yt,createContext:Sl,createFactory:Fl,cloneElement:jl,createRef:_l,Fragment:gn,isValidElement:Oa,findDOMNode:zl,Component:Ut,PureComponent:Il,memo:Bl,forwardRef:Ll,unstable_batchedUpdates:Wl,Suspense:Kn,SuspenseList:Er,lazy:Dl},vw=Object.freeze(Object.defineProperty({__proto__:null,default:pw,version:dw,Children:Nl,render:Lo,hydrate:hw,unmountComponentAtNode:Kl,createPortal:$l,createFactory:Fl,cloneElement:jl,isValidElement:Oa,findDOMNode:zl,PureComponent:Il,memo:Bl,forwardRef:Ll,unstable_batchedUpdates:Wl,Suspense:Kn,SuspenseList:Er,lazy:Dl,createElement:Yt,createContext:Sl,createRef:_l,Fragment:gn,Component:Ut,useState:Aa,useReducer:Ta,useEffect:Al,useLayoutEffect:Ra,useRef:Tl,useImperativeHandle:Rl,useMemo:pi,useCallback:kl,useContext:Cl,useDebugValue:Ol,useErrorBoundary:sw},Symbol.toStringTag,{value:"Module"})),gw=$o(vw);function Gl(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var lt=Zy,Vl=Gl(pn),mw=Gl(ew),he=gw;function yw(e){Vl.toString(e,{type:"terminal"}).then(console.log)}var _w=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function ww(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}var xw="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",bw="WalletConnect",Mw=300,Ew="rgb(64, 153, 255)",Zl="walletconnect-wrapper",rf="walletconnect-style-sheet",Yl="walletconnect-qrcode-modal",Sw="walletconnect-qrcode-close",Jl="walletconnect-qrcode-text",Aw="walletconnect-connect-button";function Tw(e){return he.createElement("div",{className:"walletconnect-modal__header"},he.createElement("img",{src:xw,className:"walletconnect-modal__headerLogo"}),he.createElement("p",null,bw),he.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:e.onClose},he.createElement("div",{id:Sw,className:"walletconnect-modal__close__icon"},he.createElement("div",{className:"walletconnect-modal__close__line1"}),he.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function Rw(e){return he.createElement("a",{className:"walletconnect-connect__button",href:e.href,id:Aw+"-"+e.name,onClick:e.onClick,rel:"noopener noreferrer",style:{backgroundColor:e.color},target:"_blank"},e.name)}var kw="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function Cw(e){var t=e.color,r=e.href,n=e.name,s=e.logo,o=e.onClick;return he.createElement("a",{className:"walletconnect-modal__base__row",href:r,onClick:o,rel:"noopener noreferrer",target:"_blank"},he.createElement("h3",{className:"walletconnect-modal__base__row__h3"},n),he.createElement("div",{className:"walletconnect-modal__base__row__right"},he.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+s+"') "+t,backgroundSize:"100%"}}),he.createElement("img",{src:kw,className:"walletconnect-modal__base__row__right__caret"})))}function Ow(e){var t=e.color,r=e.href,n=e.name,s=e.logo,o=e.onClick,p=window.innerWidth<768?(n.length>8?2.5:2.7)+"vw":"inherit";return he.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:r,onClick:o,rel:"noopener noreferrer",target:"_blank"},he.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+s+"') "+t,backgroundSize:"100%"}}),he.createElement("div",{style:{fontSize:p},className:"walletconnect-connect__button__text"},n))}var Pw=5,Ji=12;function Iw(e){var t=lt.isAndroid(),r=he.useState(""),n=r[0],s=r[1],o=he.useState(""),p=o[0],m=o[1],y=he.useState(1),x=y[0],w=y[1],E=p?e.links.filter(function(D){return D.name.toLowerCase().includes(p.toLowerCase())}):e.links,C=e.errorMessage,B=p||E.length>Pw,b=Math.ceil(E.length/Ji),T=[(x-1)*Ji+1,x*Ji],M=E.length?E.filter(function(D,F){return F+1>=T[0]&&F+1<=T[1]}):[],O=!t&&b>1,k=void 0;function L(D){s(D.target.value),clearTimeout(k),D.target.value?k=setTimeout(function(){m(D.target.value),w(1)},1e3):(s(""),m(""),w(1))}return he.createElement("div",null,he.createElement("p",{id:Jl,className:"walletconnect-qrcode__text"},t?e.text.connect_mobile_wallet:e.text.choose_preferred_wallet),!t&&he.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:n,onChange:L}),he.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(t?"__android":B&&E.length?"__wrap":"")},t?he.createElement(Rw,{name:e.text.connect,color:Ew,href:e.uri,onClick:he.useCallback(function(){lt.saveMobileLinkInfo({name:"Unknown",href:e.uri})},[])}):M.length?M.map(function(D){var F=D.color,V=D.name,te=D.shortName,X=D.logo,ee=lt.formatIOSMobile(e.uri,D),P=he.useCallback(function(){lt.saveMobileLinkInfo({name:V,href:ee})},[M]);return B?he.createElement(Ow,{color:F,href:ee,name:te||V,logo:X,onClick:P}):he.createElement(Cw,{color:F,href:ee,name:V,logo:X,onClick:P})}):he.createElement(he.Fragment,null,he.createElement("p",null,C.length?e.errorMessage:!!e.links.length&&!E.length?e.text.no_wallets_found:e.text.loading))),O&&he.createElement("div",{className:"walletconnect-modal__footer"},Array(b).fill(0).map(function(D,F){var V=F+1,te=x===V;return he.createElement("a",{style:{margin:"auto 10px",fontWeight:te?"bold":"normal"},onClick:function(){return w(V)}},V)})))}function Bw(e){var t=!!e.message.trim();return he.createElement("div",{className:"walletconnect-qrcode__notification"+(t?" notification__show":"")},e.message)}var Lw=function(e){try{var t="";return Promise.resolve(Vl.toString(e,{margin:0,type:"svg"})).then(function(r){return typeof r=="string"&&(t=r.replace("<svg",'<svg class="walletconnect-qrcode__image"')),t})}catch(r){return Promise.reject(r)}};function Nw(e){var t=he.useState(""),r=t[0],n=t[1],s=he.useState(""),o=s[0],p=s[1];he.useEffect(function(){try{return Promise.resolve(Lw(e.uri)).then(function(y){p(y)})}catch(y){Promise.reject(y)}},[]);var m=function(){var y=mw(e.uri);y?(n(e.text.copied_to_clipboard),setInterval(function(){return n("")},1200)):(n("Error"),setInterval(function(){return n("")},1200))};return he.createElement("div",null,he.createElement("p",{id:Jl,className:"walletconnect-qrcode__text"},e.text.scan_qrcode_with_wallet),he.createElement("div",{dangerouslySetInnerHTML:{__html:o}}),he.createElement("div",{className:"walletconnect-modal__footer"},he.createElement("a",{onClick:m},e.text.copy_to_clipboard)),he.createElement(Bw,{message:r}))}function qw(e){var t=lt.isAndroid(),r=lt.isMobile(),n=r?e.qrcodeModalOptions&&e.qrcodeModalOptions.mobileLinks?e.qrcodeModalOptions.mobileLinks:void 0:e.qrcodeModalOptions&&e.qrcodeModalOptions.desktopLinks?e.qrcodeModalOptions.desktopLinks:void 0,s=he.useState(!1),o=s[0],p=s[1],m=he.useState(!1),y=m[0],x=m[1],w=he.useState(!r),E=w[0],C=w[1],B={mobile:r,text:e.text,uri:e.uri,qrcodeModalOptions:e.qrcodeModalOptions},b=he.useState(""),T=b[0],M=b[1],O=he.useState(!1),k=O[0],L=O[1],D=he.useState([]),F=D[0],V=D[1],te=he.useState(""),X=te[0],ee=te[1],P=function(){y||o||n&&!n.length||F.length>0||he.useEffect(function(){var i=function(){try{if(t)return Promise.resolve();p(!0);var f=ww(function(){var c=e.qrcodeModalOptions&&e.qrcodeModalOptions.registryUrl?e.qrcodeModalOptions.registryUrl:lt.getWalletRegistryUrl();return Promise.resolve(fetch(c)).then(function(h){return Promise.resolve(h.json()).then(function(d){var _=d.listings,g=r?"mobile":"desktop",u=lt.getMobileLinkRegistry(lt.formatMobileRegistry(_,g),n);p(!1),x(!0),ee(u.length?"":e.text.no_supported_wallets),V(u);var a=u.length===1;a&&(M(lt.formatIOSMobile(e.uri,u[0])),C(!0)),L(a)})})},function(c){p(!1),x(!0),ee(e.text.something_went_wrong),console.error(c)});return Promise.resolve(f&&f.then?f.then(function(){}):void 0)}catch(c){return Promise.reject(c)}};i()})};P();var l=r?E:!E;return he.createElement("div",{id:Yl,className:"walletconnect-qrcode__base animated fadeIn"},he.createElement("div",{className:"walletconnect-modal__base"},he.createElement(Tw,{onClose:e.onClose}),k&&E?he.createElement("div",{className:"walletconnect-modal__single_wallet"},he.createElement("a",{onClick:function(){return lt.saveMobileLinkInfo({name:F[0].name,href:T})},href:T,rel:"noopener noreferrer",target:"_blank"},e.text.connect_with+" "+(k?F[0].name:"")+" \u203A")):t||o||!o&&F.length?he.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(l?" right__selected":"")},he.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),r?he.createElement(he.Fragment,null,he.createElement("a",{onClick:function(){return C(!1),P()}},e.text.mobile),he.createElement("a",{onClick:function(){return C(!0)}},e.text.qrcode)):he.createElement(he.Fragment,null,he.createElement("a",{onClick:function(){return C(!0)}},e.text.qrcode),he.createElement("a",{onClick:function(){return C(!1),P()}},e.text.desktop))):null,he.createElement("div",null,E||!t&&!o&&!F.length?he.createElement(Nw,Object.assign({},B)):he.createElement(Iw,Object.assign({},B,{links:F,errorMessage:X})))))}var Uw={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},Dw={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},$w={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},Hw={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},Fw={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},jw={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},Kw={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},zw={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},nf={de:Uw,en:Dw,es:$w,fr:Hw,ko:Fw,pt:jw,zh:Kw,fa:zw};function Ww(){var e=lt.getDocumentOrThrow(),t=e.getElementById(rf);t&&e.head.removeChild(t);var r=e.createElement("style");r.setAttribute("id",rf),r.innerText=_w,e.head.appendChild(r)}function Gw(){var e=lt.getDocumentOrThrow(),t=e.createElement("div");return t.setAttribute("id",Zl),e.body.appendChild(t),t}function Xl(){var e=lt.getDocumentOrThrow(),t=e.getElementById(Yl);t&&(t.className=t.className.replace("fadeIn","fadeOut"),setTimeout(function(){var r=e.getElementById(Zl);r&&e.body.removeChild(r)},Mw))}function Vw(e){return function(){Xl(),e&&e()}}function Zw(){var e=lt.getNavigatorOrThrow().language.split("-")[0]||"en";return nf[e]||nf.en}function Yw(e,t,r){Ww();var n=Gw();he.render(he.createElement(qw,{text:Zw(),uri:e,onClose:Vw(t),qrcodeModalOptions:r}),n)}function Jw(){Xl()}var Ql=function(){return typeof Ze.exports<"u"&&typeof Ze.exports.versions<"u"&&typeof Ze.exports.versions.node<"u"};function Xw(e,t,r){console.log(e),Ql()?yw(e):Yw(e,t,r)}function Qw(){Ql()||Jw()}var e1={open:Xw,close:Qw},t1=e1,e0={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(y,x,w){this.fn=y,this.context=x,this.once=w||!1}function o(y,x,w,E,C){if(typeof w!="function")throw new TypeError("The listener must be a function");var B=new s(w,E||y,C),b=r?r+x:x;return y._events[b]?y._events[b].fn?y._events[b]=[y._events[b],B]:y._events[b].push(B):(y._events[b]=B,y._eventsCount++),y}function p(y,x){--y._eventsCount===0?y._events=new n:delete y._events[x]}function m(){this._events=new n,this._eventsCount=0}m.prototype.eventNames=function(){var x=[],w,E;if(this._eventsCount===0)return x;for(E in w=this._events)t.call(w,E)&&x.push(r?E.slice(1):E);return Object.getOwnPropertySymbols?x.concat(Object.getOwnPropertySymbols(w)):x},m.prototype.listeners=function(x){var w=r?r+x:x,E=this._events[w];if(!E)return[];if(E.fn)return[E.fn];for(var C=0,B=E.length,b=new Array(B);C<B;C++)b[C]=E[C].fn;return b},m.prototype.listenerCount=function(x){var w=r?r+x:x,E=this._events[w];return E?E.fn?1:E.length:0},m.prototype.emit=function(x,w,E,C,B,b){var T=r?r+x:x;if(!this._events[T])return!1;var M=this._events[T],O=arguments.length,k,L;if(M.fn){switch(M.once&&this.removeListener(x,M.fn,void 0,!0),O){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,w),!0;case 3:return M.fn.call(M.context,w,E),!0;case 4:return M.fn.call(M.context,w,E,C),!0;case 5:return M.fn.call(M.context,w,E,C,B),!0;case 6:return M.fn.call(M.context,w,E,C,B,b),!0}for(L=1,k=new Array(O-1);L<O;L++)k[L-1]=arguments[L];M.fn.apply(M.context,k)}else{var D=M.length,F;for(L=0;L<D;L++)switch(M[L].once&&this.removeListener(x,M[L].fn,void 0,!0),O){case 1:M[L].fn.call(M[L].context);break;case 2:M[L].fn.call(M[L].context,w);break;case 3:M[L].fn.call(M[L].context,w,E);break;case 4:M[L].fn.call(M[L].context,w,E,C);break;default:if(!k)for(F=1,k=new Array(O-1);F<O;F++)k[F-1]=arguments[F];M[L].fn.apply(M[L].context,k)}}return!0},m.prototype.on=function(x,w,E){return o(this,x,w,E,!1)},m.prototype.once=function(x,w,E){return o(this,x,w,E,!0)},m.prototype.removeListener=function(x,w,E,C){var B=r?r+x:x;if(!this._events[B])return this;if(!w)return p(this,B),this;var b=this._events[B];if(b.fn)b.fn===w&&(!C||b.once)&&(!E||b.context===E)&&p(this,B);else{for(var T=0,M=[],O=b.length;T<O;T++)(b[T].fn!==w||C&&!b[T].once||E&&b[T].context!==E)&&M.push(b[T]);M.length?this._events[B]=M.length===1?M[0]:M:p(this,B)}return this},m.prototype.removeAllListeners=function(x){var w;return x?(w=r?r+x:x,this._events[w]&&p(this,w)):(this._events=new n,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=r,m.EventEmitter=m,e.exports=m})(e0);const r1=e0.exports;var t0={},Pa={},Ia={},r0={exports:{}},Ba={};(function(e){e.fetch=s(Oe.fetch)&&s(Oe.ReadableStream),e.writableStream=s(Oe.WritableStream),e.abortController=s(Oe.AbortController);var t;function r(){if(t!==void 0)return t;if(Oe.XMLHttpRequest){t=new Oe.XMLHttpRequest;try{t.open("GET",Oe.XDomainRequest?"/":"https://example.com")}catch{t=null}}else t=null;return t}function n(o){var p=r();if(!p)return!1;try{return p.responseType=o,p.responseType===o}catch{}return!1}e.arraybuffer=e.fetch||n("arraybuffer"),e.msstream=!e.fetch&&n("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&n("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||(r()?s(r().overrideMimeType):!1);function s(o){return typeof o=="function"}t=null})(Ba);var vi={},of=Ba,n1=vf.exports,n0=gf.exports,Tn=vi.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},La=vi.IncomingMessage=function(e,t,r,n){var s=this;if(n0.Readable.call(s),s._mode=r,s.headers={},s.rawHeaders=[],s.trailers={},s.rawTrailers=[],s.on("end",function(){Ze.exports.nextTick(function(){s.emit("close")})}),r==="fetch"){let w=function(){p.read().then(function(E){if(!s._destroyed){if(n(E.done),E.done){s.push(null);return}s.push(j.Buffer.from(E.value)),w()}}).catch(function(E){n(!0),s._destroyed||s.emit("error",E)})};if(s._fetchResponse=t,s.url=t.url,s.statusCode=t.status,s.statusMessage=t.statusText,t.headers.forEach(function(E,C){s.headers[C.toLowerCase()]=E,s.rawHeaders.push(C,E)}),of.writableStream){var o=new WritableStream({write:function(E){return n(!1),new Promise(function(C,B){s._destroyed?B():s.push(j.Buffer.from(E))?C():s._resumeFetch=C})},close:function(){n(!0),s._destroyed||s.push(null)},abort:function(E){n(!0),s._destroyed||s.emit("error",E)}});try{t.body.pipeTo(o).catch(function(E){n(!0),s._destroyed||s.emit("error",E)});return}catch{}}var p=t.body.getReader();w()}else{s._xhr=e,s._pos=0,s.url=e.responseURL,s.statusCode=e.status,s.statusMessage=e.statusText;var m=e.getAllResponseHeaders().split(/\r?\n/);if(m.forEach(function(w){var E=w.match(/^([^:]+):\s*(.*)/);if(E){var C=E[1].toLowerCase();C==="set-cookie"?(s.headers[C]===void 0&&(s.headers[C]=[]),s.headers[C].push(E[2])):s.headers[C]!==void 0?s.headers[C]+=", "+E[2]:s.headers[C]=E[2],s.rawHeaders.push(E[1],E[2])}}),s._charset="x-user-defined",!of.overrideMimeType){var y=s.rawHeaders["mime-type"];if(y){var x=y.match(/;\s*charset=([^;])(;|$)/);x&&(s._charset=x[1].toLowerCase())}s._charset||(s._charset="utf-8")}}};n1(La,n0.Readable);La.prototype._read=function(){var e=this,t=e._resumeFetch;t&&(e._resumeFetch=null,t())};La.prototype._onXHRProgress=function(e){var t=this,r=t._xhr,n=null;switch(t._mode){case"text":if(n=r.responseText,n.length>t._pos){var s=n.substr(t._pos);if(t._charset==="x-user-defined"){for(var o=j.Buffer.alloc(s.length),p=0;p<s.length;p++)o[p]=s.charCodeAt(p)&255;t.push(o)}else t.push(s,t._charset);t._pos=n.length}break;case"arraybuffer":if(r.readyState!==Tn.DONE||!r.response)break;n=r.response,t.push(j.Buffer.from(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=r.response,r.readyState!==Tn.LOADING||!n)break;t.push(j.Buffer.from(new Uint8Array(n)));break;case"ms-stream":if(n=r.response,r.readyState!==Tn.LOADING)break;var m=new Oe.MSStreamReader;m.onprogress=function(){m.result.byteLength>t._pos&&(t.push(j.Buffer.from(new Uint8Array(m.result.slice(t._pos)))),t._pos=m.result.byteLength)},m.onload=function(){e(!0),t.push(null)},m.readAsArrayBuffer(n);break}t._xhr.readyState===Tn.DONE&&t._mode!=="ms-stream"&&(e(!0),t.push(null))};var gr=Ba,i1=vf.exports,i0=vi,Na=gf.exports,o1=i0.IncomingMessage,af=i0.readyStates;function a1(e,t){return gr.fetch&&t?"fetch":gr.mozchunkedarraybuffer?"moz-chunked-arraybuffer":gr.msstream?"ms-stream":gr.arraybuffer&&e?"arraybuffer":"text"}var ut=r0.exports=function(e){var t=this;Na.Writable.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+j.Buffer.from(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(s){t.setHeader(s,e.headers[s])});var r,n=!0;if(e.mode==="disable-fetch"||"requestTimeout"in e&&!gr.abortController)n=!1,r=!0;else if(e.mode==="prefer-streaming")r=!1;else if(e.mode==="allow-wrong-content-type")r=!gr.overrideMimeType;else if(!e.mode||e.mode==="default"||e.mode==="prefer-fast")r=!0;else throw new Error("Invalid value for opts.mode");t._mode=a1(r,n),t._fetchTimer=null,t._socketTimeout=null,t._socketTimer=null,t.on("finish",function(){t._onFinish()})};i1(ut,Na.Writable);ut.prototype.setHeader=function(e,t){var r=this,n=e.toLowerCase();f1.indexOf(n)===-1&&(r._headers[n]={name:e,value:t})};ut.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null};ut.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]};ut.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&t.timeout!==0&&e.setTimeout(t.timeout);var r=e._headers,n=null;t.method!=="GET"&&t.method!=="HEAD"&&(n=new Blob(e._body,{type:(r["content-type"]||{}).value||""}));var s=[];if(Object.keys(r).forEach(function(y){var x=r[y].name,w=r[y].value;Array.isArray(w)?w.forEach(function(E){s.push([x,E])}):s.push([x,w])}),e._mode==="fetch"){var o=null;if(gr.abortController){var p=new AbortController;o=p.signal,e._fetchAbortController=p,"requestTimeout"in t&&t.requestTimeout!==0&&(e._fetchTimer=Oe.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},t.requestTimeout))}Oe.fetch(e._opts.url,{method:e._opts.method,headers:s,body:n||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:o}).then(function(y){e._fetchResponse=y,e._resetTimers(!1),e._connect()},function(y){e._resetTimers(!0),e._destroyed||e.emit("error",y)})}else{var m=e._xhr=new Oe.XMLHttpRequest;try{m.open(e._opts.method,e._opts.url,!0)}catch(y){Ze.exports.nextTick(function(){e.emit("error",y)});return}"responseType"in m&&(m.responseType=e._mode),"withCredentials"in m&&(m.withCredentials=!!t.withCredentials),e._mode==="text"&&"overrideMimeType"in m&&m.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(m.timeout=t.requestTimeout,m.ontimeout=function(){e.emit("requestTimeout")}),s.forEach(function(y){m.setRequestHeader(y[0],y[1])}),e._response=null,m.onreadystatechange=function(){switch(m.readyState){case af.LOADING:case af.DONE:e._onXHRProgress();break}},e._mode==="moz-chunked-arraybuffer"&&(m.onprogress=function(){e._onXHRProgress()}),m.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{m.send(n)}catch(y){Ze.exports.nextTick(function(){e.emit("error",y)});return}}}};function s1(e){try{var t=e.status;return t!==null&&t!==0}catch{return!1}}ut.prototype._onXHRProgress=function(){var e=this;e._resetTimers(!1),!(!s1(e._xhr)||e._destroyed)&&(e._response||e._connect(),e._response._onXHRProgress(e._resetTimers.bind(e)))};ut.prototype._connect=function(){var e=this;e._destroyed||(e._response=new o1(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))};ut.prototype._write=function(e,t,r){var n=this;n._body.push(e),r()};ut.prototype._resetTimers=function(e){var t=this;Oe.clearTimeout(t._socketTimer),t._socketTimer=null,e?(Oe.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=Oe.setTimeout(function(){t.emit("timeout")},t._socketTimeout))};ut.prototype.abort=ut.prototype.destroy=function(e){var t=this;t._destroyed=!0,t._resetTimers(!0),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort(),e&&t.emit("error",e)};ut.prototype.end=function(e,t,r){var n=this;typeof e=="function"&&(r=e,e=void 0),Na.Writable.prototype.end.call(n,e,t,r)};ut.prototype.setTimeout=function(e,t){var r=this;t&&r.once("timeout",t),r._socketTimeout=e,r._resetTimers(!1)};ut.prototype.flushHeaders=function(){};ut.prototype.setNoDelay=function(){};ut.prototype.setSocketKeepAlive=function(){};var f1=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],u1={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},sn={exports:{}},No={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */(function(e,t){(function(r){var n=t&&!t.nodeType&&t,s=e&&!e.nodeType&&e,o=typeof Oe=="object"&&Oe;(o.global===o||o.window===o||o.self===o)&&(r=o);var p,m=2147483647,y=36,x=1,w=26,E=38,C=700,B=72,b=128,T="-",M=/^xn--/,O=/[^\x20-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=y-x,F=Math.floor,V=String.fromCharCode,te;function X(a){throw new RangeError(L[a])}function ee(a,v){for(var S=a.length,A=[];S--;)A[S]=v(a[S]);return A}function P(a,v){var S=a.split("@"),A="";S.length>1&&(A=S[0]+"@",a=S[1]),a=a.replace(k,".");var I=a.split("."),q=ee(I,v).join(".");return A+q}function l(a){for(var v=[],S=0,A=a.length,I,q;S<A;)I=a.charCodeAt(S++),I>=55296&&I<=56319&&S<A?(q=a.charCodeAt(S++),(q&64512)==56320?v.push(((I&1023)<<10)+(q&1023)+65536):(v.push(I),S--)):v.push(I);return v}function i(a){return ee(a,function(v){var S="";return v>65535&&(v-=65536,S+=V(v>>>10&1023|55296),v=56320|v&1023),S+=V(v),S}).join("")}function f(a){return a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:y}function c(a,v){return a+22+75*(a<26)-((v!=0)<<5)}function h(a,v,S){var A=0;for(a=S?F(a/C):a>>1,a+=F(a/v);a>D*w>>1;A+=y)a=F(a/D);return F(A+(D+1)*a/(a+E))}function d(a){var v=[],S=a.length,A,I=0,q=b,$=B,W,oe,G,se,Re,ie,pe,ke,ae;for(W=a.lastIndexOf(T),W<0&&(W=0),oe=0;oe<W;++oe)a.charCodeAt(oe)>=128&&X("not-basic"),v.push(a.charCodeAt(oe));for(G=W>0?W+1:0;G<S;){for(se=I,Re=1,ie=y;G>=S&&X("invalid-input"),pe=f(a.charCodeAt(G++)),(pe>=y||pe>F((m-I)/Re))&&X("overflow"),I+=pe*Re,ke=ie<=$?x:ie>=$+w?w:ie-$,!(pe<ke);ie+=y)ae=y-ke,Re>F(m/ae)&&X("overflow"),Re*=ae;A=v.length+1,$=h(I-se,A,se==0),F(I/A)>m-q&&X("overflow"),q+=F(I/A),I%=A,v.splice(I++,0,q)}return i(v)}function _(a){var v,S,A,I,q,$,W,oe,G,se,Re,ie=[],pe,ke,ae,Ae;for(a=l(a),pe=a.length,v=b,S=0,q=B,$=0;$<pe;++$)Re=a[$],Re<128&&ie.push(V(Re));for(A=I=ie.length,I&&ie.push(T);A<pe;){for(W=m,$=0;$<pe;++$)Re=a[$],Re>=v&&Re<W&&(W=Re);for(ke=A+1,W-v>F((m-S)/ke)&&X("overflow"),S+=(W-v)*ke,v=W,$=0;$<pe;++$)if(Re=a[$],Re<v&&++S>m&&X("overflow"),Re==v){for(oe=S,G=y;se=G<=q?x:G>=q+w?w:G-q,!(oe<se);G+=y)Ae=oe-se,ae=y-se,ie.push(V(c(se+Ae%ae,0))),oe=F(Ae/ae);ie.push(V(c(oe,0))),q=h(S,ke,A==I),S=0,++A}++S,++v}return ie.join("")}function g(a){return P(a,function(v){return M.test(v)?d(v.slice(4).toLowerCase()):v})}function u(a){return P(a,function(v){return O.test(v)?"xn--"+_(v):v})}if(p={version:"1.4.1",ucs2:{decode:l,encode:i},decode:d,encode:_,toASCII:u,toUnicode:g},n&&s)if(e.exports==n)s.exports=p;else for(te in p)p.hasOwnProperty(te)&&(n[te]=p[te]);else r.punycode=p})(Oe)})(No,No.exports);var qo={exports:{}},fn={};function l1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var c1=function(e,t,r,n){t=t||"&",r=r||"=";var s={};if(typeof e!="string"||e.length===0)return s;var o=/\+/g;e=e.split(t);var p=1e3;n&&typeof n.maxKeys=="number"&&(p=n.maxKeys);var m=e.length;p>0&&m>p&&(m=p);for(var y=0;y<m;++y){var x=e[y].replace(o,"%20"),w=x.indexOf(r),E,C,B,b;w>=0?(E=x.substr(0,w),C=x.substr(w+1)):(E=x,C=""),B=decodeURIComponent(E),b=decodeURIComponent(C),l1(s,B)?h1(s[B])?s[B].push(b):s[B]=[s[B],b]:s[B]=b}return s},h1=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},Vr=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},d1=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?sf(v1(e),function(s){var o=encodeURIComponent(Vr(s))+r;return p1(e[s])?sf(e[s],function(p){return o+encodeURIComponent(Vr(p))}).join(t):o+encodeURIComponent(Vr(e[s]))}).join(t):n?encodeURIComponent(Vr(n))+r+encodeURIComponent(Vr(e)):""},p1=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function sf(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var v1=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t};fn.decode=fn.parse=c1;fn.encode=fn.stringify=d1;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=fn;function n(p){return encodeURIComponent(p)}function s(p){return decodeURIComponent(p)}var o={decode:r.decode,encode:r.encode,parse:r.parse,stringify:r.stringify,escape:n,unescape:s};Object.defineProperty(t,"decode",{enumerable:!0,get:function(){return r.decode}}),Object.defineProperty(t,"encode",{enumerable:!0,get:function(){return r.encode}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return r.parse}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),t.default=o,t.escape=n,t.unescape=s,t=e.exports=o})(qo,qo.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=No.exports,n=qo.exports;function s(R){return R&&typeof R=="object"&&"default"in R?R:{default:R}}var o=s(r),p=s(n),m={isString:function(R){return typeof R=="string"},isObject:function(R){return typeof R=="object"&&R!==null},isNull:function(R){return R===null},isNullOrUndefined:function(R){return R==null}},y=o.default,x=m,w=h,E=_,C=g,B=d,b=T;function T(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var M=/^([a-z0-9.+-]+:)/i,O=/:[0-9]*$/,k=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,L=["<",">",'"',"`"," ","\r",`
`,"	"],D=["{","}","|","\\","^","`"].concat(L),F=["'"].concat(D),V=["%","/","?",";","#"].concat(F),te=["/","?","#"],X=255,ee=/^[+a-z0-9A-Z_-]{0,63}$/,P=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,l={javascript:!0,"javascript:":!0},i={javascript:!0,"javascript:":!0},f={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},c=p.default;function h(R,H,N){if(R&&x.isObject(R)&&R instanceof T)return R;var z=new T;return z.parse(R,H,N),z}T.prototype.parse=function(R,H,N){if(!x.isString(R))throw new TypeError("Parameter 'url' must be a string, not "+typeof R);var z=R.indexOf("?"),Z=z!==-1&&z<R.indexOf("#")?"?":"#",le=R.split(Z),Y=/\\/g;le[0]=le[0].replace(Y,"/"),R=le.join(Z);var J=R;if(J=J.trim(),!N&&R.split("#").length===1){var Ce=k.exec(J);if(Ce)return this.path=J,this.href=J,this.pathname=Ce[1],Ce[2]?(this.search=Ce[2],H?this.query=c.parse(this.search.substr(1)):this.query=this.search.substr(1)):H&&(this.search="",this.query={}),this}var re=M.exec(J);if(re){re=re[0];var be=re.toLowerCase();this.protocol=be,J=J.substr(re.length)}if(N||re||J.match(/^\/\/[^@\/]+@[^@\/]+/)){var Ue=J.substr(0,2)==="//";Ue&&!(re&&i[re])&&(J=J.substr(2),this.slashes=!0)}if(!i[re]&&(Ue||re&&!f[re])){for(var ne=-1,ge=0;ge<te.length;ge++){var $e=J.indexOf(te[ge]);$e!==-1&&(ne===-1||$e<ne)&&(ne=$e)}var de,Me;ne===-1?Me=J.lastIndexOf("@"):Me=J.lastIndexOf("@",ne),Me!==-1&&(de=J.slice(0,Me),J=J.slice(Me+1),this.auth=decodeURIComponent(de)),ne=-1;for(var ge=0;ge<V.length;ge++){var $e=J.indexOf(V[ge]);$e!==-1&&(ne===-1||$e<ne)&&(ne=$e)}ne===-1&&(ne=J.length),this.host=J.slice(0,ne),J=J.slice(ne),this.parseHost(),this.hostname=this.hostname||"";var We=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!We)for(var Q=this.hostname.split(/\./),ge=0,_e=Q.length;ge<_e;ge++){var De=Q[ge];if(!!De&&!De.match(ee)){for(var fe="",Se=0,Je=De.length;Se<Je;Se++)De.charCodeAt(Se)>127?fe+="x":fe+=De[Se];if(!fe.match(ee)){var ce=Q.slice(0,ge),Te=Q.slice(ge+1),ze=De.match(P);ze&&(ce.push(ze[1]),Te.unshift(ze[2])),Te.length&&(J="/"+Te.join(".")+J),this.hostname=ce.join(".");break}}}this.hostname.length>X?this.hostname="":this.hostname=this.hostname.toLowerCase(),We||(this.hostname=y.toASCII(this.hostname));var me=this.port?":"+this.port:"",Be=this.hostname||"";this.host=Be+me,this.href+=this.host,We&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),J[0]!=="/"&&(J="/"+J))}if(!l[be])for(var ge=0,_e=F.length;ge<_e;ge++){var Ge=F[ge];if(J.indexOf(Ge)!==-1){var ye=encodeURIComponent(Ge);ye===Ge&&(ye=escape(Ge)),J=J.split(Ge).join(ye)}}var Pe=J.indexOf("#");Pe!==-1&&(this.hash=J.substr(Pe),J=J.slice(0,Pe));var Ye=J.indexOf("?");if(Ye!==-1?(this.search=J.substr(Ye),this.query=J.substr(Ye+1),H&&(this.query=c.parse(this.query)),J=J.slice(0,Ye)):H&&(this.search="",this.query={}),J&&(this.pathname=J),f[be]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var me=this.pathname||"",we=this.search||"";this.path=me+we}return this.href=this.format(),this};function d(R){return x.isString(R)&&(R=h(R)),R instanceof T?R.format():T.prototype.format.call(R)}T.prototype.format=function(){var R=this.auth||"";R&&(R=encodeURIComponent(R),R=R.replace(/%3A/i,":"),R+="@");var H=this.protocol||"",N=this.pathname||"",z=this.hash||"",Z=!1,le="";this.host?Z=R+this.host:this.hostname&&(Z=R+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Z+=":"+this.port)),this.query&&x.isObject(this.query)&&Object.keys(this.query).length&&(le=c.stringify(this.query));var Y=this.search||le&&"?"+le||"";return H&&H.substr(-1)!==":"&&(H+=":"),this.slashes||(!H||f[H])&&Z!==!1?(Z="//"+(Z||""),N&&N.charAt(0)!=="/"&&(N="/"+N)):Z||(Z=""),z&&z.charAt(0)!=="#"&&(z="#"+z),Y&&Y.charAt(0)!=="?"&&(Y="?"+Y),N=N.replace(/[?#]/g,function(J){return encodeURIComponent(J)}),Y=Y.replace("#","%23"),H+Z+N+Y+z};function _(R,H){return h(R,!1,!0).resolve(H)}T.prototype.resolve=function(R){return this.resolveObject(h(R,!1,!0)).format()};function g(R,H){return R?h(R,!1,!0).resolveObject(H):H}T.prototype.resolveObject=function(R){if(x.isString(R)){var H=new T;H.parse(R,!1,!0),R=H}for(var N=new T,z=Object.keys(this),Z=0;Z<z.length;Z++){var le=z[Z];N[le]=this[le]}if(N.hash=R.hash,R.href==="")return N.href=N.format(),N;if(R.slashes&&!R.protocol){for(var Y=Object.keys(R),J=0;J<Y.length;J++){var Ce=Y[J];Ce!=="protocol"&&(N[Ce]=R[Ce])}return f[N.protocol]&&N.hostname&&!N.pathname&&(N.path=N.pathname="/"),N.href=N.format(),N}if(R.protocol&&R.protocol!==N.protocol){if(!f[R.protocol]){for(var re=Object.keys(R),be=0;be<re.length;be++){var Ue=re[be];N[Ue]=R[Ue]}return N.href=N.format(),N}if(N.protocol=R.protocol,!R.host&&!i[R.protocol]){for(var _e=(R.pathname||"").split("/");_e.length&&!(R.host=_e.shift()););R.host||(R.host=""),R.hostname||(R.hostname=""),_e[0]!==""&&_e.unshift(""),_e.length<2&&_e.unshift(""),N.pathname=_e.join("/")}else N.pathname=R.pathname;if(N.search=R.search,N.query=R.query,N.host=R.host||"",N.auth=R.auth,N.hostname=R.hostname||R.host,N.port=R.port,N.pathname||N.search){var ne=N.pathname||"",ge=N.search||"";N.path=ne+ge}return N.slashes=N.slashes||R.slashes,N.href=N.format(),N}var $e=N.pathname&&N.pathname.charAt(0)==="/",de=R.host||R.pathname&&R.pathname.charAt(0)==="/",Me=de||$e||N.host&&R.pathname,We=Me,Q=N.pathname&&N.pathname.split("/")||[],_e=R.pathname&&R.pathname.split("/")||[],De=N.protocol&&!f[N.protocol];if(De&&(N.hostname="",N.port=null,N.host&&(Q[0]===""?Q[0]=N.host:Q.unshift(N.host)),N.host="",R.protocol&&(R.hostname=null,R.port=null,R.host&&(_e[0]===""?_e[0]=R.host:_e.unshift(R.host)),R.host=null),Me=Me&&(_e[0]===""||Q[0]==="")),de)N.host=R.host||R.host===""?R.host:N.host,N.hostname=R.hostname||R.hostname===""?R.hostname:N.hostname,N.search=R.search,N.query=R.query,Q=_e;else if(_e.length)Q||(Q=[]),Q.pop(),Q=Q.concat(_e),N.search=R.search,N.query=R.query;else if(!x.isNullOrUndefined(R.search)){if(De){N.hostname=N.host=Q.shift();var fe=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;fe&&(N.auth=fe.shift(),N.host=N.hostname=fe.shift())}return N.search=R.search,N.query=R.query,(!x.isNull(N.pathname)||!x.isNull(N.search))&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.href=N.format(),N}if(!Q.length)return N.pathname=null,N.search?N.path="/"+N.search:N.path=null,N.href=N.format(),N;for(var Se=Q.slice(-1)[0],Je=(N.host||R.host||Q.length>1)&&(Se==="."||Se==="..")||Se==="",ce=0,Te=Q.length;Te>=0;Te--)Se=Q[Te],Se==="."?Q.splice(Te,1):Se===".."?(Q.splice(Te,1),ce++):ce&&(Q.splice(Te,1),ce--);if(!Me&&!We)for(;ce--;ce)Q.unshift("..");Me&&Q[0]!==""&&(!Q[0]||Q[0].charAt(0)!=="/")&&Q.unshift(""),Je&&Q.join("/").substr(-1)!=="/"&&Q.push("");var ze=Q[0]===""||Q[0]&&Q[0].charAt(0)==="/";if(De){N.hostname=N.host=ze?"":Q.length?Q.shift():"";var fe=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;fe&&(N.auth=fe.shift(),N.host=N.hostname=fe.shift())}return Me=Me||N.host&&Q.length,Me&&!ze&&Q.unshift(""),Q.length?N.pathname=Q.join("/"):(N.pathname=null,N.path=null),(!x.isNull(N.pathname)||!x.isNull(N.search))&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.auth=R.auth||N.auth,N.slashes=N.slashes||R.slashes,N.href=N.format(),N},T.prototype.parseHost=function(){var R=this.host,H=O.exec(R);H&&(H=H[0],H!==":"&&(this.port=H.substr(1)),R=R.substr(0,R.length-H.length)),R&&(this.hostname=R)};function u(R,H){for(var N=0,z=R.length-1;z>=0;z--){var Z=R[z];Z==="."?R.splice(z,1):Z===".."?(R.splice(z,1),N++):N&&(R.splice(z,1),N--)}if(H)for(;N--;N)R.unshift("..");return R}function a(){for(var R="",H=!1,N=arguments.length-1;N>=-1&&!H;N--){var z=N>=0?arguments[N]:"/";if(typeof z!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!z)continue;R=z+"/"+R,H=z.charAt(0)==="/"}return R=u(v(R.split("/"),function(Z){return!!Z}),!H).join("/"),(H?"/":"")+R||"."}function v(R,H){if(R.filter)return R.filter(H);for(var N=[],z=0;z<R.length;z++)H(R[z],z,R)&&N.push(R[z]);return N}var S=function(R){function H(){var z=this||self;return delete R.prototype.__magic__,z}if(typeof globalThis=="object")return globalThis;if(this)return H();R.defineProperty(R.prototype,"__magic__",{configurable:!0,get:H});var N=__magic__;return N}(Object),A=B,I=w,q=E,$=b,W=S.URL,oe=S.URLSearchParams,G=/%/g,se=/\\/g,Re=/\n/g,ie=/\r/g,pe=/\t/g,ke=47;function ae(R){var H=R??null;return Boolean(H!==null&&H?.href&&H?.origin)}function Ae(R){if(R.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var H=R.pathname,N=0;N<H.length;N++)if(H[N]==="%"){var z=H.codePointAt(N+2)|32;if(H[N+1]==="2"&&z===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(H)}function qe(R){return R.includes("%")&&(R=R.replace(G,"%25")),R.includes("\\")&&(R=R.replace(se,"%5C")),R.includes(`
`)&&(R=R.replace(Re,"%0A")),R.includes("\r")&&(R=R.replace(ie,"%0D")),R.includes("	")&&(R=R.replace(pe,"%09")),R}var ue=function(H){if(typeof H>"u")throw new TypeError('The "domain" argument must be specified');return new W("http://"+H).hostname},Ee=function(H){if(typeof H>"u")throw new TypeError('The "domain" argument must be specified');return new W("http://"+H).hostname},Fe=function(H){var N=new W("file://"),z=a(H),Z=H.charCodeAt(H.length-1);return Z===ke&&z[z.length-1]!=="/"&&(z+="/"),N.pathname=qe(z),N},ve=function(H){if(!ae(H)&&typeof H!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof H+" ("+H+")");var N=new W(H);if(N.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return Ae(N)},U=function(H,N){var z,Z,le;if(N===void 0&&(N={}),!(H instanceof W))return A(H);if(typeof N!="object"||N===null)throw new TypeError('The "options" argument must be of type object.');var Y=(z=N.auth)!=null?z:!0,J=(Z=N.fragment)!=null?Z:!0,Ce=(le=N.search)!=null?le:!0,re=new W(H.toString());return Y||(re.username="",re.password=""),J||(re.hash=""),Ce||(re.search=""),re.toString()},K={format:U,parse:I,resolve:q,resolveObject:C,Url:$,URL:W,URLSearchParams:oe,domainToASCII:ue,domainToUnicode:Ee,pathToFileURL:Fe,fileURLToPath:ve};t.URL=W,t.URLSearchParams=oe,t.Url=$,t.default=K,t.domainToASCII=ue,t.domainToUnicode=Ee,t.fileURLToPath=ve,t.format=U,t.parse=I,t.pathToFileURL=Fe,t.resolve=q,t.resolveObject=C,t=e.exports=K})(sn,sn.exports);(function(e){var t=r0.exports,r=vi,n=Ho,s=u1,o=sn.exports,p=e;p.request=function(m,y){typeof m=="string"?m=o.parse(m):m=n(m);var x=Oe.location.protocol.search(/^https?:$/)===-1?"http:":"",w=m.protocol||x,E=m.hostname||m.host,C=m.port,B=m.path||"/";E&&E.indexOf(":")!==-1&&(E="["+E+"]"),m.url=(E?w+"//"+E:"")+(C?":"+C:"")+B,m.method=(m.method||"GET").toUpperCase(),m.headers=m.headers||{};var b=new t(m);return y&&b.on("response",y),b},p.get=function(y,x){var w=p.request(y,x);return w.end(),w},p.ClientRequest=t,p.IncomingMessage=r.IncomingMessage,p.Agent=function(){},p.Agent.defaultMaxSockets=4,p.globalAgent=new p.Agent,p.STATUS_CODES=s,p.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]})(Ia);var o0={exports:{}};(function(e){var t=Ia,r=sn.exports,n=e.exports;for(var s in t)t.hasOwnProperty(s)&&(n[s]=t[s]);n.request=function(p,m){return p=o(p),t.request.call(this,p,m)},n.get=function(p,m){return p=o(p),t.get.call(this,p,m)};function o(p){if(typeof p=="string"&&(p=r.parse(p)),p.protocol||(p.protocol="https:"),p.protocol!=="https:")throw new Error('Protocol "'+p.protocol+'" not supported. Expected "https:"');return p}})(o0);var at={};at.endianness=function(){return"LE"};at.hostname=function(){return typeof location<"u"?location.hostname:""};at.loadavg=function(){return[]};at.uptime=function(){return 0};at.freemem=function(){return Number.MAX_VALUE};at.totalmem=function(){return Number.MAX_VALUE};at.cpus=function(){return[]};at.type=function(){return"Browser"};at.release=function(){return typeof navigator<"u"?navigator.appVersion:""};at.networkInterfaces=at.getNetworkInterfaces=function(){return{}};at.arch=function(){return"javascript"};at.platform=function(){return"browser"};at.tmpdir=at.tmpDir=function(){return"/tmp"};at.EOL=`
`;at.homedir=function(){return"/"};var qa={};Object.defineProperty(qa,"__esModule",{value:!0});var g1=function(){function e(t){this.type=t,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0}return e}();qa.ProgressEvent=g1;var Wr={},gi=Oe&&Oe.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Wr,"__esModule",{value:!0});var m1=function(e){gi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Error);Wr.SecurityError=m1;var y1=function(e){gi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Error);Wr.InvalidStateError=y1;var _1=function(e){gi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Error);Wr.NetworkError=_1;var w1=function(e){gi(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Error);Wr.SyntaxError=w1;var mn={};Object.defineProperty(mn,"__esModule",{value:!0});var x1=function(){function e(){this.listeners={}}return e.prototype.addEventListener=function(t,r){t=t.toLowerCase(),this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(r.handleEvent||r)},e.prototype.removeEventListener=function(t,r){if(t=t.toLowerCase(),!!this.listeners[t]){var n=this.listeners[t].indexOf(r.handleEvent||r);n<0||this.listeners[t].splice(n,1)}},e.prototype.dispatchEvent=function(t){var r=t.type.toLowerCase();if(t.target=this,this.listeners[r])for(var n=0,s=this.listeners[r];n<s.length;n++){var o=s[n];o.call(this,t)}var p=this["on"+r];return p&&p.call(this,t),!0},e}();mn.XMLHttpRequestEventTarget=x1;var Ua={},b1=Oe&&Oe.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ua,"__esModule",{value:!0});var M1=mn,E1=function(e){b1(t,e);function t(){var r=e.call(this)||this;return r._contentType=null,r._body=null,r._reset(),r}return t.prototype._reset=function(){this._contentType=null,this._body=null},t.prototype._setData=function(r){if(r!=null)if(typeof r=="string")r.length!==0&&(this._contentType="text/plain;charset=UTF-8"),this._body=new j.Buffer(r,"utf-8");else if(j.Buffer.isBuffer(r))this._body=r;else if(r instanceof ArrayBuffer){for(var n=new j.Buffer(r.byteLength),s=new Uint8Array(r),o=0;o<r.byteLength;o++)n[o]=s[o];this._body=n}else if(r.buffer&&r.buffer instanceof ArrayBuffer){for(var n=new j.Buffer(r.byteLength),p=r.byteOffset,s=new Uint8Array(r.buffer),o=0;o<r.byteLength;o++)n[o]=s[o+p];this._body=n}else throw new Error("Unsupported send() data "+r)},t.prototype._finalizeHeaders=function(r,n){this._contentType&&!n["content-type"]&&(r["Content-Type"]=this._contentType),this._body&&(r["Content-Length"]=this._body.length.toString())},t.prototype._startUpload=function(r){this._body&&r.write(this._body),r.end()},t}(M1.XMLHttpRequestEventTarget);Ua.XMLHttpRequestUpload=E1;var On={};(function(){function e(s,o,p,m){return this instanceof e?(this.domain=s||void 0,this.path=o||"/",this.secure=!!p,this.script=!!m,this):new e(s,o,p,m)}e.All=Object.freeze(Object.create(null)),On.CookieAccessInfo=e;function t(s,o,p){return s instanceof t?s:this instanceof t?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(p||"/"),this.explicit_path=!1,this.domain=o||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,s&&this.parse(s,o,p),this):new t(s,o,p)}On.Cookie=t,t.prototype.toString=function(){var o=[this.name+"="+this.value];return this.expiration_date!==1/0&&o.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&o.push("domain="+this.domain),this.path&&o.push("path="+this.path),this.secure&&o.push("secure"),this.noscript&&o.push("httponly"),o.join("; ")},t.prototype.toValueString=function(){return this.name+"="+this.value};var r=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;t.prototype.parse=function(o,p,m){if(this instanceof t){var y=o.split(";").filter(function(B){return!!B}),x,w=y[0].match(/([^=]+)=([\s\S]*)/);if(!w){console.warn("Invalid cookie header encountered. Header: '"+o+"'");return}var E=w[1],C=w[2];if(typeof E!="string"||E.length===0||typeof C!="string"){console.warn("Unable to extract values from cookie header. Cookie: '"+o+"'");return}for(this.name=E,this.value=C,x=1;x<y.length;x+=1)switch(w=y[x].match(/([^=]+)(?:=([\s\S]*))?/),E=w[1].trim().toLowerCase(),C=w[2],E){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=C?Number(Date.parse(C)):1/0;break;case"path":this.path=C?C.trim():"",this.explicit_path=!0;break;case"domain":this.domain=C?C.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0;break}return this.explicit_path||(this.path=m||"/"),this.explicit_domain||(this.domain=p),this}return new t().parse(o,p,m)},t.prototype.matches=function(o){return o===e.All?!0:!(this.noscript&&o.script||this.secure&&!o.secure||!this.collidesWith(o))},t.prototype.collidesWith=function(o){if(this.path&&!o.path||this.domain&&!o.domain||this.path&&o.path.indexOf(this.path)!==0||this.explicit_path&&o.path.indexOf(this.path)!==0)return!1;var p=o.domain&&o.domain.replace(/^[\.]/,""),m=this.domain&&this.domain.replace(/^[\.]/,"");if(m===p)return!0;if(m){if(!this.explicit_domain)return!1;var y=p.indexOf(m);return!(y===-1||y!==p.length-m.length)}return!0};function n(){var s,o,p;return this instanceof n?(s=Object.create(null),this.setCookie=function(y,x,w){var E,C;if(y=new t(y,x,w),E=y.expiration_date<=Date.now(),s[y.name]!==void 0){for(o=s[y.name],C=0;C<o.length;C+=1)if(p=o[C],p.collidesWith(y))return E?(o.splice(C,1),o.length===0&&delete s[y.name],!1):(o[C]=y,y);return E?!1:(o.push(y),y)}return E?!1:(s[y.name]=[y],s[y.name])},this.getCookie=function(y,x){var w,E;if(o=s[y],!!o)for(E=0;E<o.length;E+=1){if(w=o[E],w.expiration_date<=Date.now()){o.length===0&&delete s[w.name];continue}if(w.matches(x))return w}},this.getCookies=function(y){var x=[],w,E;for(w in s)E=this.getCookie(w,y),E&&x.push(E);return x.toString=function(){return x.join(":")},x.toValueString=function(){return x.map(function(B){return B.toValueString()}).join("; ")},x},this):new n}On.CookieJar=n,n.prototype.setCookies=function(o,p,m){o=Array.isArray(o)?o:o.split(r);var y=[],x,w;for(o=o.map(function(E){return new t(E,p,m)}),x=0;x<o.length;x+=1)w=o[x],this.setCookie(w,p,m)&&y.push(w);return y}})();var S1=Oe&&Oe.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),A1=Oe&&Oe.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e};Object.defineProperty(Pa,"__esModule",{value:!0});var Uo=Ia,a0=o0.exports,ff=at,Xi=sn.exports,uf=qa,Rn=Wr,T1=mn,lf=Ua,cf=On,mi=function(e){S1(t,e);function t(r){r===void 0&&(r={});var n=e.call(this)||this;return n.UNSENT=t.UNSENT,n.OPENED=t.OPENED,n.HEADERS_RECEIVED=t.HEADERS_RECEIVED,n.LOADING=t.LOADING,n.DONE=t.DONE,n.onreadystatechange=null,n.readyState=t.UNSENT,n.response=null,n.responseText="",n.responseType="",n.status=0,n.statusText="",n.timeout=0,n.upload=new lf.XMLHttpRequestUpload,n.responseUrl="",n.withCredentials=!1,n._method=null,n._url=null,n._sync=!1,n._headers={},n._loweredHeaders={},n._mimeOverride=null,n._request=null,n._response=null,n._responseParts=null,n._responseHeaders=null,n._aborting=null,n._error=null,n._loadedBytes=0,n._totalBytes=0,n._lengthComputable=!1,n._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},n._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},n._privateHeaders={"set-cookie":!0,"set-cookie2":!0},n._userAgent="Mozilla/5.0 ("+ff.type()+" "+ff.arch()+") node.js/"+Ze.exports.versions.node+" v8/"+Ze.exports.versions.v8,n._anonymous=r.anon||!1,n}return t.prototype.open=function(r,n,s,o,p){if(s===void 0&&(s=!0),r=r.toUpperCase(),this._restrictedMethods[r])throw new t.SecurityError("HTTP method "+r+" is not allowed in XHR");var m=this._parseUrl(n,o,p);this.readyState===t.HEADERS_RECEIVED||(this.readyState,t.LOADING),this._method=r,this._url=m,this._sync=!s,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(t.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},t.prototype.setRequestHeader=function(r,n){if(this.readyState!==t.OPENED)throw new t.InvalidStateError("XHR readyState must be OPENED");var s=r.toLowerCase();if(this._restrictedHeaders[s]||/^sec-/.test(s)||/^proxy-/.test(s)){console.warn('Refused to set unsafe header "'+r+'"');return}n=n.toString(),this._loweredHeaders[s]!=null?(r=this._loweredHeaders[s],this._headers[r]=this._headers[r]+", "+n):(this._loweredHeaders[s]=r,this._headers[r]=n)},t.prototype.send=function(r){if(this.readyState!==t.OPENED)throw new t.InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new t.InvalidStateError("send() already called");switch(this._url.protocol){case"file:":return this._sendFile(r);case"http:":case"https:":return this._sendHttp(r);default:throw new t.NetworkError("Unsupported protocol "+this._url.protocol)}},t.prototype.abort=function(){this._request!=null&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},t.prototype.getResponseHeader=function(r){if(this._responseHeaders==null||r==null)return null;var n=r.toLowerCase();return this._responseHeaders.hasOwnProperty(n)?this._responseHeaders[r.toLowerCase()]:null},t.prototype.getAllResponseHeaders=function(){var r=this;return this._responseHeaders==null?"":Object.keys(this._responseHeaders).map(function(n){return n+": "+r._responseHeaders[n]}).join(`\r
`)},t.prototype.overrideMimeType=function(r){if(this.readyState===t.LOADING||this.readyState===t.DONE)throw new t.InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=r.toLowerCase()},t.prototype.nodejsSet=function(r){if(this.nodejsHttpAgent=r.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=r.httpsAgent||this.nodejsHttpsAgent,r.hasOwnProperty("baseUrl")){if(r.baseUrl!=null){var n=Xi.parse(r.baseUrl,!1,!0);if(!n.protocol)throw new t.SyntaxError("baseUrl must be an absolute URL")}this.nodejsBaseUrl=r.baseUrl}},t.nodejsSet=function(r){t.prototype.nodejsSet(r)},t.prototype._setReadyState=function(r){this.readyState=r,this.dispatchEvent(new uf.ProgressEvent("readystatechange"))},t.prototype._sendFile=function(r){throw new Error("Protocol file: not implemented")},t.prototype._sendHttp=function(r){if(this._sync)throw new Error("Synchronous XHR processing not implemented");r&&(this._method==="GET"||this._method==="HEAD")?(console.warn("Discarding entity body for "+this._method+" requests"),r=null):r=r||"",this.upload._setData(r),this._finalizeHeaders(),this._sendHxxpRequest()},t.prototype._sendHxxpRequest=function(){var r=this;if(this.withCredentials){var n=t.cookieJar.getCookies(cf.CookieAccessInfo(this._url.hostname,this._url.pathname,this._url.protocol==="https:")).toValueString();this._headers.cookie=this._headers.cookie2=n}var s=this._url.protocol==="http:"?[Uo,this.nodejsHttpAgent]:[a0,this.nodejsHttpsAgent],o=s[0],p=s[1],m=o.request.bind(o),y=m({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:p});this._request=y,this.timeout&&y.setTimeout(this.timeout,function(){return r._onHttpTimeout(y)}),y.on("response",function(x){return r._onHttpResponse(y,x)}),y.on("error",function(x){return r._onHttpRequestError(y,x)}),this.upload._startUpload(y),this._request===y&&this._dispatchProgress("loadstart")},t.prototype._finalizeHeaders=function(){this._headers=A1({},this._headers,{Connection:"keep-alive",Host:this._url.host,"User-Agent":this._userAgent},this._anonymous?{Referer:"about:blank"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},t.prototype._onHttpResponse=function(r,n){var s=this;if(this._request===r){if(this.withCredentials&&(n.headers["set-cookie"]||n.headers["set-cookie2"])&&t.cookieJar.setCookies(n.headers["set-cookie"]||n.headers["set-cookie2"]),[301,302,303,307,308].indexOf(n.statusCode)>=0){this._url=this._parseUrl(n.headers.location),this._method="GET",this._loweredHeaders["content-type"]&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),this._headers["Content-Type"]!=null&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),this._sendHxxpRequest();return}this._response=n,this._response.on("data",function(p){return s._onHttpResponseData(n,p)}),this._response.on("end",function(){return s._onHttpResponseEnd(n)}),this._response.on("close",function(){return s._onHttpResponseClose(n)}),this.responseUrl=this._url.href.split("#")[0],this.status=n.statusCode,this.statusText=Uo.STATUS_CODES[this.status],this._parseResponseHeaders(n);var o=this._responseHeaders["content-length"]||"";this._totalBytes=+o,this._lengthComputable=!!o,this._setReadyState(t.HEADERS_RECEIVED)}},t.prototype._onHttpResponseData=function(r,n){this._response===r&&(this._responseParts.push(new j.Buffer(n)),this._loadedBytes+=n.length,this.readyState!==t.LOADING&&this._setReadyState(t.LOADING),this._dispatchProgress("progress"))},t.prototype._onHttpResponseEnd=function(r){this._response===r&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(t.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend"))},t.prototype._onHttpResponseClose=function(r){if(this._response===r){var n=this._request;this._setError(),n.abort(),this._setReadyState(t.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}},t.prototype._onHttpTimeout=function(r){this._request===r&&(this._setError(),r.abort(),this._setReadyState(t.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend"))},t.prototype._onHttpRequestError=function(r,n){this._request===r&&(this._setError(),r.abort(),this._setReadyState(t.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend"))},t.prototype._dispatchProgress=function(r){var n=new t.ProgressEvent(r);n.lengthComputable=this._lengthComputable,n.loaded=this._loadedBytes,n.total=this._totalBytes,this.dispatchEvent(n)},t.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},t.prototype._parseUrl=function(r,n,s){var o=this.nodejsBaseUrl==null?r:Xi.resolve(this.nodejsBaseUrl,r),p=Xi.parse(o,!1,!0);p.hash=null;var m=(p.auth||"").split(":"),y=m[0],x=m[1];return(y||x||n||s)&&(p.auth=(n||y||"")+":"+(s||x||"")),p},t.prototype._parseResponseHeaders=function(r){this._responseHeaders={};for(var n in r.headers){var s=n.toLowerCase();this._privateHeaders[s]||(this._responseHeaders[s]=r.headers[n])}this._mimeOverride!=null&&(this._responseHeaders["content-type"]=this._mimeOverride)},t.prototype._parseResponse=function(){var r=j.Buffer.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case"json":this.responseText=null;try{this.response=JSON.parse(r.toString("utf-8"))}catch{this.response=null}return;case"buffer":this.responseText=null,this.response=r;return;case"arraybuffer":this.responseText=null;for(var n=new ArrayBuffer(r.length),s=new Uint8Array(n),o=0;o<r.length;o++)s[o]=r[o];this.response=n;return;case"text":default:try{this.responseText=r.toString(this._parseResponseEncoding())}catch{this.responseText=r.toString("binary")}this.response=this.responseText}},t.prototype._parseResponseEncoding=function(){return/;\s*charset=(.*)$/.exec(this._responseHeaders["content-type"]||"")[1]||"utf-8"},t.ProgressEvent=uf.ProgressEvent,t.InvalidStateError=Rn.InvalidStateError,t.NetworkError=Rn.NetworkError,t.SecurityError=Rn.SecurityError,t.SyntaxError=Rn.SyntaxError,t.XMLHttpRequestUpload=lf.XMLHttpRequestUpload,t.UNSENT=0,t.OPENED=1,t.HEADERS_RECEIVED=2,t.LOADING=3,t.DONE=4,t.cookieJar=cf.CookieJar(),t}(T1.XMLHttpRequestEventTarget);Pa.XMLHttpRequest=mi;mi.prototype.nodejsHttpAgent=Uo.globalAgent;mi.prototype.nodejsHttpsAgent=a0.globalAgent;mi.prototype.nodejsBaseUrl=null;(function(e){function t(n){for(var s in n)e.hasOwnProperty(s)||(e[s]=n[s])}Object.defineProperty(e,"__esModule",{value:!0}),t(Pa);var r=mn;e.XMLHttpRequestEventTarget=r.XMLHttpRequestEventTarget})(t0);const R1=Eu("XMLHttpRequest")||t0.XMLHttpRequest;class k1 extends r1{constructor(t){super(),this.url=t}formatError(t,r,n=-1){return{error:{message:r,code:n},id:t.id,jsonrpc:t.jsonrpc}}send(t,r){return new Promise(n=>{if(t.method==="eth_subscribe"){const m=this.formatError(t,"Subscriptions are not supported by this HTTP endpoint");return this.emit("error",m),n(m)}const s=new R1;let o=!1;const p=(m,y)=>{if(!o)if(s.abort(),o=!0,r)r(m,y);else{const{id:x,jsonrpc:w}=t,E=m?{id:x,jsonrpc:w,error:{message:m.message,code:m.code}}:{id:x,jsonrpc:w,result:y};this.emit("payload",E),n(E)}};s.open("POST",this.url,!0),s.setRequestHeader("Content-Type","application/json"),s.timeout=60*1e3,s.onerror=p,s.ontimeout=p,s.onreadystatechange=()=>{if(s.readyState===4)try{const m=JSON.parse(s.responseText);p(m.error,m.result)}catch(m){p(m)}},s.send(JSON.stringify(t))})}}const C1=dp,O1=Op,P1=Bp,I1=Up,B1=iv,L1=yg,N1=bg;class D1 extends C1{constructor(t){if(super({pollingInterval:t.pollingInterval||8e3}),this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModal=t1,this.qrcodeModalOptions=void 0,this.rpc=null,this.infuraId="",this.http=null,this.isConnecting=!1,this.connected=!1,this.connectCallbacks=[],this.accounts=[],this.chainId=1,this.rpcUrl="",this.enable=async()=>{const r=await this.getWalletConnector();if(r)return this.start(),this.subscribeWalletConnector(),r.accounts;throw new Error("Failed to connect to WalleConnect")},this.request=async r=>this.send(r),this.send=async(r,n)=>{var s;if(typeof r=="string"){const o=r;let p=n;return o==="personal_sign"&&(p=Dn(p)),this.sendAsyncPromise(o,p)}if(r=Object.assign({id:Mo(),jsonrpc:"2.0"},r),r.method==="personal_sign"&&(r.params=Dn(r.params)),n){this.sendAsync(r,n);return}if(r.method==="eth_signTypedData_v4"&&((s=this.walletMeta)===null||s===void 0?void 0:s.name)==="MetaMask"){const{result:o}=await this.handleOtherRequests(r);return o}else return this.sendAsyncPromise(r.method,r.params)},this.onConnect=r=>{this.connectCallbacks.push(r)},this.triggerConnect=r=>{this.connectCallbacks&&this.connectCallbacks.length&&this.connectCallbacks.forEach(n=>n(r))},this.bridge=t.connector?t.connector.bridge:t.bridge||"https://bridge.walletconnect.org",this.qrcode=typeof t.qrcode>"u"||t.qrcode!==!1,this.qrcodeModal=t.qrcodeModal||this.qrcodeModal,this.qrcodeModalOptions=t.qrcodeModalOptions,this.wc=t.connector||new Vy({bridge:this.bridge,qrcodeModal:this.qrcode?this.qrcodeModal:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:t?.storageId,signingMethods:t?.signingMethods,clientMeta:t?.clientMeta}),this.rpc=t.rpc||null,!this.rpc&&(!t.infuraId||typeof t.infuraId!="string"||!t.infuraId.trim()))throw new Error("Missing one of the required parameters: rpc or infuraId");this.infuraId=t.infuraId||"",this.chainId=t?.chainId||this.chainId,this.initialize()}get isWalletConnect(){return!0}get connector(){return this.wc}get walletMeta(){return this.wc.peerMeta}async disconnect(){this.close()}async close(){await(await this.getWalletConnector({disableSessionCreation:!0})).killSession(),await this.onDisconnect()}async handleRequest(t){try{let r,n=null;const s=await this.getWalletConnector();switch(t.method){case"wc_killSession":await this.close(),n=null;break;case"eth_accounts":n=s.accounts;break;case"eth_coinbase":n=s.accounts[0];break;case"eth_chainId":n=s.chainId;break;case"net_version":n=s.chainId;break;case"eth_uninstallFilter":this.sendAsync(t,o=>o),n=!0;break;default:r=await this.handleOtherRequests(t)}return r||this.formatResponse(t,n)}catch(r){throw this.emit("error",r),r}}async handleOtherRequests(t){if(!ca.includes(t.method)&&t.method.startsWith("eth_"))return this.handleReadRequests(t);const n=await(await this.getWalletConnector()).sendCustomRequest(t);return this.formatResponse(t,n)}async handleReadRequests(t){if(!this.http){const r=new Error("HTTP Connection not available");throw this.emit("error",r),r}return this.http.send(t)}formatResponse(t,r){return{id:t.id,jsonrpc:t.jsonrpc,result:r}}getWalletConnector(t={}){const{disableSessionCreation:r=!1}=t;return new Promise((n,s)=>{const o=this.wc;this.isConnecting?this.onConnect(p=>n(p)):!o.connected&&!r?(this.isConnecting=!0,o.on("modal_closed",()=>{s(new Error("User closed modal"))}),o.createSession({chainId:this.chainId}).then(()=>{o.on("connect",(p,m)=>{if(p)return this.isConnecting=!1,s(p);this.isConnecting=!1,this.connected=!0,m&&this.updateState(m.params[0]),this.emit("connect"),this.triggerConnect(o),n(o)})}).catch(p=>{this.isConnecting=!1,s(p)})):(this.connected||(this.connected=!0,this.updateState(o.session)),n(o))})}async subscribeWalletConnector(){const t=await this.getWalletConnector();t.on("disconnect",r=>{if(r){this.emit("error",r);return}this.onDisconnect()}),t.on("session_update",(r,n)=>{if(r){this.emit("error",r);return}this.updateState(n.params[0])})}async onDisconnect(){await this.stop(),this.emit("close",1e3,"Connection closed"),this.emit("disconnect",1e3,"Connection disconnected"),this.connected=!1}async updateState(t){const{accounts:r,chainId:n,networkId:s,rpcUrl:o}=t;(!this.accounts||r&&this.accounts!==r)&&(this.accounts=r,this.emit("accountsChanged",r)),(!this.chainId||n&&this.chainId!==n)&&(this.chainId=n,this.emit("chainChanged",n)),(!this.networkId||s&&this.networkId!==s)&&(this.networkId=s,this.emit("networkChanged",s)),this.updateRpcUrl(this.chainId,o||"")}updateRpcUrl(t,r=""){const n={infuraId:this.infuraId,custom:this.rpc||void 0};r=r||Hm(t,n),r?(this.rpcUrl=r,this.updateHttpConnection()):this.emit("error",new Error(`No RPC Url available for chainId: ${t}`))}updateHttpConnection(){this.rpcUrl&&(this.http=new k1(this.rpcUrl),this.http.on("payload",t=>this.emit("payload",t)),this.http.on("error",t=>this.emit("error",t)))}sendAsyncPromise(t,r){return new Promise((n,s)=>{this.sendAsync({id:Mo(),jsonrpc:"2.0",method:t,params:r||[]},(o,p)=>{if(o){s(o);return}n(p.result)})})}initialize(){this.updateRpcUrl(this.chainId),this.addProvider(new P1({eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0,net_listening:!0,web3_clientVersion:"WalletConnect/v1.x.x/javascript"})),this.addProvider(new O1),this.addProvider(new N1),this.addProvider(new I1),this.addProvider(new L1),this.addProvider(new B1(this.configWallet())),this.addProvider({handleRequest:async(t,r,n)=>{try{const{error:s,result:o}=await this.handleRequest(t);n(s,o)}catch(s){n(s)}},setEngine:t=>t})}configWallet(){return{getAccounts:async t=>{try{const n=(await this.getWalletConnector()).accounts;n&&n.length?t(null,n):t(new Error("Failed to get accounts"))}catch(r){t(r)}},processMessage:async(t,r)=>{try{const s=await(await this.getWalletConnector()).signMessage([t.from,t.data]);r(null,s)}catch(n){r(n)}},processPersonalMessage:async(t,r)=>{try{const s=await(await this.getWalletConnector()).signPersonalMessage([t.data,t.from]);r(null,s)}catch(n){r(n)}},processSignTransaction:async(t,r)=>{try{const s=await(await this.getWalletConnector()).signTransaction(t);r(null,s)}catch(n){r(n)}},processTransaction:async(t,r)=>{try{const s=await(await this.getWalletConnector()).sendTransaction(t);r(null,s)}catch(n){r(n)}},processTypedMessage:async(t,r)=>{try{const s=await(await this.getWalletConnector()).signTypedData([t.from,t.data]);r(null,s)}catch(n){r(n)}}}}}export{D1 as default};
